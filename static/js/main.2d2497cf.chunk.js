(this["webpackJsonpcardinalkit-survey-builder"]=this["webpackJsonpcardinalkit-survey-builder"]||[]).push([[0],{115:function(e,n,t){},126:function(e,n,t){},159:function(e){e.exports=JSON.parse('{"Title":"Tittel","Preview":"Forh\xe5ndsvisning","Calculation formula":"Kalkuleringsformel","Display":"Beskjed","Code":"Code","Remove Code":"Fjern Code","Add Code":"Legg til Code","Enrichment":"Beriking","No enrichment":"Ingen Beriking","Custom":"Egendefinert","Enter custom enrichment":"Legg inn egendefinert beriking","Redirect user after questionnaire is completed":"Send bruker videre etter fullf\xf8rt skjema","Relative redirect url":"M\xe5l","For example /infopage":"F.eks. /infoside","Parameter name must be 1-255 characters and can only contain numbers, _ and normal and capital letters a-z":"Parameternavn m\xe5 v\xe6re fra 1-255 tegn og kan kun inneholde tall, _ og sm\xe5 eller store bokstaver fra a-z","Send as parameter after questionnaire is completed":"Send som parameter etter fullf\xf8rt skjema","Parameter name":"Parameternavn","For example hn_frontend_parametername":"F.eks. hn_frontend_parameternavn","Initial value":"Initiell verdi","Read-only":"Skrivebeskyttet","Hidden field":"Gjemt felt","Repeatable":"Kan gjentas","Repeat button text":"Kan gjentas knappetekst","Prefix":"Prefiks","Min answers":"Min antall svar","Max answers":"Max antall svar","Placeholder text":"Skyggetekst","LinkId":"LinkId","LinkId is already in use":"LinkId er allerede i bruk","Reset to original value":"Sett tilbake til opprinnelig verdi","Enable help button":"Skru p\xe5 hjelpeikon","Enter a helping text":"Skriv en hjelpende tekst","Enable summary":"Skru p\xe5 oppsummering","Here you will find a summary of questionnaire elements. Drag a component here to start building this Questionnaire":"Her vil du finne en oversikt over elementene i skjemaet. Dra komponenter hit for \xe5 bygge skjema","Create element":"Opprett element","Add top-level element":"Legg til element p\xe5 toppniv\xe5","Enter a title..":"Legg inn tittel..","Enter a value..":"Legg inn verdi..","Remove element":"Fjern element","Today":"I dag","Time":"Klokkeslett","dd.mm.yyyy":"dd.mm.\xe5\xe5\xe5\xe5","dd.mm.yyyy 00:00":"dd.mm.\xe5\xe5\xe5\xe5 00:00","Close (Esc)":"Lukk (Esc)","At least one condition must be fulfilled":"Minst en betingelse m\xe5 v\xe6re oppfylt","All conditions must be fulfilled":"Alle betingelser m\xe5 v\xe6re oppfylt","Set condition for display of element":"Sett betingelser for visning av elementet","Select earlier question:":"Velg tidligere sp\xf8rsm\xe5l:","Choose question:":"Velg sp\xf8rsm\xe5l:","Show if answer is:":"Vis hvis svaret:","The form builder does not support enableWhen of type:":"Skjemabyggeren st\xf8tter ikke betinget visning av typen:","This condition cannot be edited in the form builder:":"Denne betingelsen kan ikke editeres i skjemabyggeren:","Remove condition":"Fjern betingelse","Add a condition":"Legg til betingelse","Choose an option..":"Velg et alternativ..","True":"Sant","Not true":"Usant","exists":"eksisterer","is equal to":"er lik","is not equal":"ikke er lik","is greater than":"er st\xf8rre enn","is less than":"er mindre enn","is greater than or equal":"er st\xf8rre enn eller lik","is less than or equal":"er mindre enn eller lik","<not set>":"<ikke satt>","<operator>":"<operator>","Error in enableWhen: item with linkId {0} does not exist":"Feil i betinget visning: item med linkId {0} finnes ikke","and":"og","or":"eller","Element will be shown if:":"Elementet vil vises dersom:","Select an operator":"Velg en operator","Remember to save...":"Husk \xe5 lagre...","You have made changes which are not saved. Do you with to upload a new questionnaire? (Changes will be lost)":"Du har gjort endringer som ikke er lagret. \xd8nsker du allikevel \xe5 laste opp et nytt skjema? (Endringene vil g\xe5 tapt)","System":"System","Enter uri..":"Legg inn uri..","Uri must start with http://, https:// or urn:uuid:":"Uri m\xe5 begynne med http://, https:// eller urn:uuid:","Close":"Lukk","There was en error with status:":"Det skjedde en feil med status:","This resource does not support the FHIR protocol":"Ressursen st\xf8tter ikke FHIR protokollen.","Found no ValueSet at the endpoint":"Finner ingen Value Set p\xe5 endepunktet.","Import ValueSet":"Importer Value Set","Enter a url which finds the resource":"Skriv inn en url som finner ressursen","Only url":"Kun url","search":"s\xf8k","Add ({0} ValueSet) in predefined valuesets":"Legg til ({0} ValueSet) i predefinerte valg","Import":"Importer","Back":"Tilbake","JSON structure":"JSON struktur","Predefined valuesets":"Predefinerte valg","Sublabel":"Instruks","Error message for validation error":"Feilmelding for valideringsfeil","Questionnaire details":"Skjemadetaljer","Questionnaire settings":"Skjemainnstillinger","Enter translation..":"Legg inn oversettelse..","Sidebar":"Sidebar","Help text":"Hjelpetekst","Element":"Element","Translate questionnaire":"Oversett skjema","Elements":"Elementer","Main language":"Hovedspr\xe5k:","Description":"Beskrivelse","Description of questionnaire":"Beskrivelse av skjema","Id":"Id","Id must be unique across languages":"Id m\xe5 v\xe6re unik p\xe5 tvers av spr\xe5k","Id must be 1-64 characters and only letters a-z, numbers, - and .":"Id m\xe5 v\xe6re fra 1-64 tegn og kan kun inneholde bokstaver fra a-z, tall, - og .","Technical name":"Teknisk navn:","Technical name must start with a captital letter, 1-255 characters and can only contain numbers and characters a-z":"Teknisk navn m\xe5 ha stor forbokstav, fra 1-255 tegn og kan kun inneholde tall og bokstaver fra a-z","Version":"Versjon:","Version number":"Versjonsnummer","Helsenorge endpoint":"Helsenorge endpoint","For example Endpoint/35":"F.eks Endpoint/35","Button bar display":"Visning av knapperad","Describes if user must be logged in to answer questionnaire":"Beskriver om innlogging kreves for \xe5 besvare skjemaet","Describes if representative can answer questionnaire":"Beskriver om andre enn pasienten kan besvare skjemaet","Save capabilities":"Lagring og mellomlagring","Date":"Dato","Status":"Status","Publisher":"Utsteder","Contact (URL to contact address)":"Kontakt (URL til kontaktadresse)","Purpose":"Form\xe5l","Copyright":"Copyright","Generate PDF on submit":"Generer PDF ved besvarelse","Use navigator":"Bruk navigator","Definition":"Definisjon","Yes":"Ja","No":"Nei","Questionnaire":"Skjema","New questionnaire":"Nytt skjema","Upload questionnaire":"Last opp skjema","Save":"Lagre","You are logged in as {0}":"Du er logget inn som {0}","Validate":"Valider","JSON":"JSON","Import choices":"Importer valg","Choices":"Valg","Log in":"Logg inn","Log out":"Logg ut","Change to English":"Bytt til engelsk","Change to French":"Bytt til fransk","Change to norwegian":"Bytt til norsk","Predefined values":"Predefinerte verdier","+ New option":"+ Nytt valg","Save >":"Lagre >","Enter a url..":"Skriv inn en url..","Only capital letters and numbers":"Kun store bokstaver og tall","Checkbox (Allow selection of multiple values)":"Avkrysningsbokser (Flere valg mulig)","Dropdown":"Nedtrekksmeny","Radio buttons":"Radioknapper","Autocomplete":"Autokompletter","+ Add option":"+ Legg til alternativ","Date type":"Datotype","Time, day, month and year":"Tidspunkt, dag, m\xe5ned og \xe5r","Day, month and year":"Dag, m\xe5ned og \xe5r","Month and year":"M\xe5ned og \xe5r","Year":"\xc5r","Expanded text":"Utvidet tekst","+ Add recipient":"+ Legg til mottaker","Select recipient..":"Angi mottaker..","Select endpoint..":"Angi endpoint..","Select answer valueset":"Velg sp\xf8rsm\xe5lsett","Select unit":"Velg enhet","is":"er","<no validation>":"<uten validering>","a set date":"fast dato","today":"dagens dato","today plus":"dagens dato pluss","today minus":"dagens dato minus","number":"tall","Unit":"Enhet","days":"dager","weeks":"uker","months":"m\xe5neder","year":"\xe5r","Max file size in MB":"Maksimal filst\xf8rrelse i MB","Enter custom error message":"Legg til egendefinert feilmelding:","Min date":"Min dato","Max date":"Max dato","Allow decimals":"Tillat desimaltall","Max number of decimals":"Max antall desimaler","Min value":"Min verdi","Max value":"Max verdi","error message":"feilmelding","Answer should be:":"Svaret skal v\xe6re:","No character validation":"Uten tegn-validering","Custom regular expression":"Egendefinert regul\xe6rt uttrykk","Enter custom regular expression":"Legg inn egendefinert regul\xe6rt uttrykk","Minimum characters":"Minimum antall tegn","Email":"Epost","URL":"URL","National identity number":"F\xf8dselsnummer","Mobile phone number":"Mobiltelefonnummer","Only norwegian characters":"Kun norske bokstaver","Only norwegian characters + hyphen and space (used for names)":"Kun norske bokstaver + bindestrek og mellomrom (benyttes ved navn)","Only norwegian characters with line breaks":"Kun norske bokstaver med linjeskift","Zip code":"Postnummer","Text answer":"Tekstsvar","Select type":"Velg type","Mandatory":"Obligatorisk","Highlight":"Highlight","Text formatting":"Tekstformatering","Text":"Tekst","Add validation":"Legg til validering","Enable when":"Betinget visning","Advanced settings":"Avanserte innstillinger","Previous (left arrow)":"Forrige (Pil venstre)","Next (right arrow)":"Neste (Pil h\xf8yre)","Validation errors:":"Valideringsfeil:","Sidebar heading":"Sidebar overskrift","select sidebar heading:":"Velg sidebar overskrift","Options regarding completion (SOT-1)":"Alternativer for utfylling (SOT-1)","Guidance and person responsible (SOT-2)":"Veiledning og ansvarlig (SOT-2)","Processing by the recipient (SOT-3)":"Behandling hos mottaker (SOT-3)","Content":"Innhold","- Remove element":"- Fjern element","+ Add element":"+ Legg til element","Found {0} errors. Questions with errors are marked with a red border.":"Fant {0} feil. Sp\xf8rsm\xe5l med feil er markert med r\xf8d ramme.","Found no validation errors!":"Fant ingen valideringsfeil!","Found {0} missing translations.":"Fant {0} manglende oversettelser.","Found no translations errors!":"Fant ingen manglende oversettelser!","It looks like you have previously worked with a questionnaire:":"Det ser ut til at du har jobbet med et skjema tidligere:","Do you wish to open this questionnaire?":"\xd8nsker du \xe5 fortsette med dette skjemaet?","Restore questionnaire...":"Gjenopprett skjema...","You have unsaved changes. Do you wish to start a new questionnaire? (Changes to existing questionnaire will be lost)":"Du har gjort endringer som ikke er lagret. \xd8nsker du allikevel \xe5 begynne p\xe5 et nytt skjema? (Endringene vil g\xe5 tapt)","Loading questionnaire...":"Leser inn skjema...","Question is required, but cannot be required":"Sp\xf8rsm\xe5let er satt som required, men kan ikke v\xe6re required","Error in FHIRpath date validation":"Feil i datovalidering med FhirPath","Code does not have \\"code\\" property":"Code har ikke \\"code\\" property","Code does not have \\"system\\" property":"Code har ikke \\"system\\" property","Code does not have a valid system":"Code har ikke gyldig system","answerOption does not have a valid system":"answerOption har ikke gyldig system","quantity extension does not have a valid system":"quantity extension har ikke gyldig system","quantity extension does not have code":"quantity extension har ikke code","Extension has no \\"url\\" property":"Extension har ikke \\"url\\" property","Extension does not have value[x], or has more than one value[x]":"Extension mangler value[x], eller har mer enn en value[x]","Initial value is not a possible value":"Initiell verdi er ikke en mulig verdi","ValueSet of initial value does not exist":"Verdisettet den initielle verdien kommer fra finnes ikke","This enableWhen refers to a question with linkId which does not exist":"LinkId p\xe5 sp\xf8rsm\xe5let denne enableWhen referer til eksisterer ikke","enableWhen is not configured correctly. There are too many answer[x]-properties":"Feil i betinget visning, for eksempel p\xe5 grunn av endret sp\xf8rsm\xe5lstype. Pr\xf8v \xe5 fjerne betingelsen og legg den til p\xe5 nytt. (Det finnes for mange answer[x]-properties)","Quantity does not match system and code":"Quantity samsvarer ikke med system og code","Recipient set in this enableWhen does not exist":"Mottakeren definert i denne enableWhen finnes ikke","Coding expected in this enableWhen does not exist":"Coding denne enableWhen forventer eksisterer ikke","Operator used in this enableWhen is not supported":"Operator brukt i denne enableWhen er ikke st\xf8ttet","The ValueSet referenced in this enableWhen does not exist":"Verdisettet denne enableWhen refererer til finnes ikke","Active":"Aktiv","Draft":"Skisse","Retired":"Avsluttet","Unknown":"Ukjent","Floating at the bottom of the screen (standard setting)":"Flytende nederst p\xe5 skjermen (standardinnstilling)","No button bar":"Ingen knapperad","Static (at the bottom of the questionnaire)":"Fast (kun nederst i skjema)","Questionnaire can be answered by a representative (standard setting)":"Kan ogs\xe5 utfylles av andre p\xe5 vegne av pasienten (standardinnstilling)","Can only be answered by logged in patient":"M\xe5 fylles ut av pasienten selv","Required (standard setting)":"P\xe5krevd (standardinnstilling)","Anonymous":"Anonym","Optional":"Valgfritt","Not set":"Ikke satt","Save submitted questionnaire and intermediate save (standard setting)":"Lagring av endelig versjon og mellomlagring (standardinnstilling)","Only submitted questionnaire is saved":"Kun lagring av endelig versjon","No saving":"Ingen lagring","Translations":"Spr\xe5k","Add support for additional language":"Legg til st\xf8tte for tilleggsspr\xe5k","Select a language..":"Velg et spr\xe5k..","+ Add new language":"+ Legg til nytt spr\xe5k","Additional languages":"Tilleggsspr\xe5k:","Delete":"Slett","Translate":"Oversett","Validation":"Validering","Follow-up question":"Oppf\xf8lgingssp\xf8rsm\xe5l","Create follow-up question":"Opprett oppf\xf8lgingssp\xf8rsm\xe5l","Duplicate":"Dupliser","Group":"Gruppe","Multi-line textfield":"Tekstfelt med flere linjer","Choice":"Alternativer","Open choice":"Alternativer med \xe5pent svar","Recipient list":"Mottakerliste","Recipient component":"Mottakerkomponent","Recipient component EndpointId":"Mottakerkomponent EndepunktId","Date and time":"Dato og klokkeslett","Confirmation":"Bekreftelse","Number":"Tall","Quantity":"Antall med enhet","Attachment":"Vedlegg","Information text":"Informasjonstekst","No unit":"Ingen enhet","centimeter":"centimeter","kilo":"kilo","month":"m\xe5ned","day":"dag","is answered":"er besvart","is not answered":"ikke er besvart","is later than":"er etter","is earlier than":"er f\xf8r","is later than or equal":"er etter eller lik","is earlier than or equal":"er f\xf8r eller lik","Patient":"Pasient","Full name":"Fullt navn","First name":"Fornavn","Surname":"Etternavn","Birth date":"F\xf8dselsdato","Age":"Alder","Address":"Adresse","Postal address":"Poststed","Temporary c/o":"Midlertidig c/o","Temporary address":"Midlertidig adresse","Temporary postal code":"Midlertidig postnummer","Temporary postal address":"Midlertidig poststed","On behalf of citizen":"P\xe5 vegne av innbygger","Is questionnaire answered on behalf of someone else? (true/false)":"Fylles skjema ut p\xe5 vegne av noen andre? (true/false)","On behalf of citizen (national identity number)":"P\xe5 vegne av innbygger (F\xf8dselsnummer)","On behalf of citizen (name)":"P\xe5 vegne av innbygger (Navn)","On behalf of citizen (birth date)":"P\xe5 vegne av innbygger (F\xf8dseslsdato)","On behalf of citizen (age)":"P\xe5 vegne av innbygger (Alder)","On behalf of citizen (gender)":"P\xe5 vegne av innbygger (Kj\xf8nn)","On behalf of citizen (phone number)":"P\xe5 vegne av innbygger (Mobiltelefonnummer)","On behalf of citizen (address)":"P\xe5 vegne av innbygger (Adresse)","On behalf of citizen (postal code)":"P\xe5 vegne av innbygger (Postnummer)","On behalf of citizen (postal address)":"P\xe5 vegne av innbygger (Poststed)","On behalf of citizen (temporary c/o)":"P\xe5 vegne av innbygger (Midlertidig c/o)","On behalf of citizen (temporary address)":"P\xe5 vegne av innbygger (Midlertidig adresse)","On behalf of citizen (temporary postal code)":"P\xe5 vegne av innbygger (Midlertidig postnummer)","On behalf of citizen (temporary postal address)":"P\xe5 vegne av innbygger (Midlertidig poststed)","General Practitioner":"Fastlege","General Practitioner (full name)":"Fastlege (Fullt navn)","General Practitioner (first name)":"Fastlege (Fornavn)","General Practitioner (surname)":"Fastlege (Etternavn)","General Practitioner (business name)":"Fastlege (Legekontorets navn)","General Practitioner (business phone number)":"Fastlege (Legekontorets telefonnummer)","General Practitioner (address 1)":"Fastlege (Adresselinje 1)","General Practitioner (address 2)":"Fastlege (Adresselinje 2)","General Practitioner (address 3)":"Fastlege (Adresselinje 3)","General Practitioner (postal code)":"Fastlege (Postnummer)","General Practitioner (postal address)":"Fastlege (Poststed)","General Practitioner (country)":"Fastlege (Land)","Miscellaneous":"Diverse","Todays date":"Dagens dato","Gender":"Kj\xf8nn","Male":"Mann","Female":"Kvinne","Display type":"Visningstype","Access control":"Tilgangsstyring","Helsetjeneste (Full) (standard setting)":"Helsetjeneste (Full) (standardinnstilling)","Journalinnsyn (Basis +)":"Journalinnsyn (Basis +)","Registerinnsyn (Basis)":"Registerinnsyn (Basis)","Recipient component is configured in Helsenorge admin":"Mottakerkomponenten konfigureres i Helsenorge admin","Form builder":"Skjemabygger","What would you like to do?":"Hva vil du gj\xf8re?","You can start a new questionnaire, or upload an existing one.":"Velg om du vil opprette et skjema fra bunnen av eller endre et skjema ved \xe5 laste opp en skjemafil.","Allow free-text answer":"Legg til tekstfelt for \xe5pent svar","Use predefined valueset":"Bruk predefinerte alternativer","Components":"Komponenter","Uploaded file is not a questionnaire":"Opplastet fil er ikke et skjema","Technical name of uploaded questionnaire is not equal to questionnaire technical name":"Teknisk navn p\xe5 opplastet skjema er ikke lik teknisk navn p\xe5 skjema","Questionnaire with the same language as uploaded questionnaire already exists":"Skjema med samme spr\xe5k som opplastet skjema finnes allerede","Could not read uploaded file":"Kunne ikke lese opplasted fil","Upload questionnaire in additional language":"Last opp skjema med tilleggsspr\xe5k","Export translations":"Eksporter oversettelser","Representative relation":"Representert relasjon","Represented by power of attorney? (true/false)":"Representert ved tildelt ordin\xe6r fullmakt? (true/false)","Represented by power of attorney for non-consent competent? (true/false)":"Representert ved fullmakt for ikke samtykkekompetente? (true/false)","Represented by parent? (true/false)":"Representert ved forelder? (true/false)","Represented by guardianship? (true/false)":"Representert ved vergem\xe5lsvedtak? (true/false)","Upload ValueSets as json files. Accepts a Bundle or ValueSet in a single file. It is possible to upload several files at once":"Last opp verdisett som json-filer. H\xe5ndterer Bundle eller verdisett i en egen fil. Det er mulig \xe5 laste opp flere filer samtidig.","Upload ValueSet(s)":"Last opp verdisett","Connect to print version (binary)":"Koble til PDF-skjema (binary)","For example Binary/35":"F.eks Binary/35","Print version":"Utskriftsversjon","Dynamic":"Dynamisk","Open item links in same tab":"\xc5pne lenker i samme vindu","Open all links in same tab":"\xc5pne alle lenker i samme vindu"}')},160:function(e){e.exports=JSON.parse('{"Title":"Titre","Preview":"Aper\xe7u","Calculation formula":"Formule de calcul","Display":"Affichage","Code":"Code","Remove Code":"Enlever le Code","Add Code":"Ajouter le Code","Enrichment":"Enrichissement","No enrichment":"Pas d\'enrichissement","Custom":"Personnalis\xe9","Enter custom enrichment":"Entrez un enrichissement personnalis\xe9","Redirect user after questionnaire is completed":"Rediriger l\'utilisateur apr\xe8s que le questionnaire soit compl\xe9t\xe9","Relative redirect url":"url relative de redirection","For example /infopage":"ex: /infoside","Parameter name must be 1-255 characters and can only contain numbers, _ and normal and capital letters a-z":"le param\xe8tre doit \xeatre compris entre 1 et 255 caract\xe8res et contenir des chiffres, des lettres (a-z, majuscules et minuscules) ou le caract\xe8re sp\xe9cial _","Send as parameter after questionnaire is completed":"Envoyer en tant que param\xe8tre apr\xe8s la completion du questionnaire","Parameter name":"Nom du param\xe8tre","For example hn_frontend_parametername":"ex: hn_frontend_nomparametre","Initial value":"Valeur initiale","Read-only":"Lecture seule","Hidden field":"Champ cach\xe9","Repeatable":"R\xe9p\xe9table","Repeat button text":"Texte du bouton r\xe9p\xe9ter","Prefix":"Prefix","Min answers":"Nombre minimum de r\xe9ponses","Max answers":"Nombre maximum de r\xe9ponses","Placeholder text":"Texte de remplissage","LinkId":"LinkId","LinkId is already in use":"LinkId d\xe9ja utilis\xe9","Reset to original value":"R\xe9initialiser \xe0 la valeur originale","Enable help button":"Activer le bouton d\'aide","Enter a helping text":"Etrez le texte d\'aide","Enable summary":"Activer le r\xe9sum\xe9","Here you will find a summary of questionnaire elements. Drag a component here to start building this Questionnaire":"Ici vous trouverez un r\xe9sum\xe9 des \xe9lements du questionnaire. Faites glisser un composant ici pour commencer \xe0 construire ce Questionnaire","Create element":"Cr\xe9er \xe9l\xe9ment","Add top-level element":"Ajouter un \xe9l\xe9ment de haut niveau","Enter a title..":"Entrez un titre..","Enter a value..":"Entrez une valeur..","Remove element":"Supprimer l\'element","Today":"Aujourd\'hui","Time":"Heure","dd.mm.yyyy":"jj.mm.aaaa","dd.mm.yyyy 00:00":"jj.mm.aaaa 00:00","Close (Esc)":"Fermer (Esc)","At least one condition must be fulfilled":"Au moins une condition doit \xeatre remplie","All conditions must be fulfilled":"Toutes les conditions doivent \xeatre remplies","Set condition for display of element":"Ajouter un condition d\'affichage de l\'\xe9l\xe9ment","Select earlier question:":"Choisir une question pr\xe9c\xe9dente:","Choose question:":"Choisir une question:","Show if answer is:":"Afficher si la r\xe9ponse est:","The form builder does not support enableWhen of type:":"Le form builder ne supporte pas le enableWhen de type:","This condition cannot be edited in the form builder:":"Cette condition ne peut pas \xeatre \xe9dit\xe9e dans le form builder:","Remove condition":"Supprimer la condition","Add a condition":"Ajouter une condition","Choose an option..":"Choisir une option..","True":"Vrai","Not true":"Faux","exists":"existe","is equal to":"est \xe9gal \xe0","is not equal":"n\'est pas \xe9gal","is greater than":"est plus grand \xe0","is less than":"est plus petit \xe0","is greater than or equal":"est plus grand ou \xe9gal \xe0","is less than or equal":"est plus petit ou \xe9gal \xe0","<not set>":"<non renseign\xe9>","<operator>":"<operateur>","Error in enableWhen: item with linkId {0} does not exist":"Erreur dans le enableWhen: l\'item avec le linkId {0} n\'existe pas","and":"et","or":"ou","Element will be shown if:":"L\'\xe9l\xe9ment sera affich\xe9 si:","Select an operator":"S\xe9lectionez un op\xe9rateur","Remember to save...":"Pensez \xe0 sauvegarder...","You have made changes which are not saved. Do you with to upload a new questionnaire? (Changes will be lost)":"Vous avez des modifications non sauvegard\xe9es. Voulez vous charger un nouveau questionnaire ? (Vos modifications seront perdues)","System":"Syst\xe8me","Enter uri..":"Entrez l\'uri..","Uri must start with http://, https:// or urn:uuid:":"Une uri doit commencer par http://, https:// ou urn:uuid:","Close":"Fermer","There was en error with status:":"Une erreur s\'est produite avec le statut:","This resource does not support the FHIR protocol":"Cette ressource ne supporte pas le protocol fhir.","Found no ValueSet at the endpoint":"Aucun ValueSet trouv\xe9 sur ce endpoint.","Import ValueSet":"Importer Value Set","Enter a url which finds the resource":"Entrez une url qui trouve la ressource","Only url":"Seul l\'url","search":"chercher","Add ({0} ValueSet) in predefined valuesets":"Ajouter ({0} ValueSet) dans la liste des valuesets pr\xe9d\xe9finis","Import":"Importer","Back":"Retour","JSON structure":"structure JSON","Predefined valuesets":"Valuesets pr\xe9d\xe9finis","Sublabel":"Sous-label","Error message for validation error":"Message d\'erreur de l\'erreur de validation","Questionnaire details":"D\xe9tails du questionnaire","Questionnaire settings":"Configuration du questionnaire","Enter translation..":"Entrer la traduction..","Sidebar":"Barre lat\xe9rale","Help text":"Texte d\'aide","Element":"Element","Translate questionnaire":"Traduire le questionnaire","Elements":"Elements","Main language":"Langue principale:","Description":"Description","Description of questionnaire":"Description du questionnaire","Id":"Id","Id must be unique across languages":"L\'id doit \xeatre unique \xe0 travers toutes les langues","Id must be 1-64 characters and only letters a-z, numbers, - and .":"L\'id doit faire 1-64 caract\xe8res et contenir seulement les lettres a-z, des chiffres ou les caract\xe8res sp\xe9ciaux - et .","Technical name":"Nom technique:","Technical name must start with a captital letter, 1-255 characters and can only contain numbers and characters a-z":"Le nom technique doit faire 1-255 caract\xe8res, commencer par une majuscule et contenir seulement les lettres a-z","Version":"Version:","Version number":"Num\xe9ro de version","Helsenorge endpoint":"Endpoint Helsenorge","For example Endpoint/35":"ex: Endpoint/35","Button bar display":"Affichage en barre des boutons","Describes if user must be logged in to answer questionnaire":"D\xe9crit si l\'utilisateur doit \xeatre connect\xe9 pour r\xe9pondre au questionnaire","Describes if representative can answer questionnaire":"D\xe9crit si un repr\xe9sentant peut r\xe9pondre au questionnaire","Save capabilities":"Capacit\xe9s de sauvegarde","Date":"Date","Status":"Status","Publisher":"Editeur","Contact (URL to contact address)":"Url de contact de l\'editeur","Purpose":"Objectif","Copyright":"Copyright","Generate PDF on submit":"G\xe9n\xe9rer un pdf \xe0 la validation","Use navigator":"Utiliser le navigateur","Definition":"D\xe9finition","Yes":"Oui","No":"Non","Questionnaire":"Questionnaire","New questionnaire":"Nouveau questionnaire","Upload questionnaire":"Charger un questionnaire","Save":"Sauvegarder","You are logged in as {0}":"Vous \xeates connect\xe9 en tant que {0}","Validate":"Valider","JSON":"JSON","Import choices":"Importer des choix","Choices":"Choix","Log in":"Connexion","Log out":"D\xe9connexion","Change to English":"Passer en Anglais","Change to French":"Passer en Fran\xe7ais","Change to norwegian":"Passer en Norv\xe9gien","Predefined values":"Valeurs pr\xe9d\xe9finies","+ New option":"+ Nouvelle option","Save >":"Sauvegarder >","Enter a url..":"Entrer une url..","Only capital letters and numbers":"Seulement des lettres capitales et des chiffres","Checkbox (Allow selection of multiple values)":"Case \xe0 cocher (Autorise les choix multiples)","Dropdown":"Menu d\xe9roulant","Radio buttons":"Boutons radio","Autocomplete":"Autocompletion","+ Add option":"+ Ajouter une option","Date type":"Type de date","Time, day, month and year":"Heure, jour, mois et ann\xe9e","Day, month and year":"Jour, mois et ann\xe9e","Month and year":"Mois et ann\xe9e","Year":"Ann\xe9e","Expanded text":"Texte \xe9tendu","+ Add recipient":"+ Ajouter un destinataire","Select recipient..":"S\xe9lectionner un destinataire..","Select endpoint..":"S\xe9lectionner un endpoint..","Select answer valueset":"S\xe9lectionner un valueset de r\xe9ponse","Select unit":"S\xe9lectionner une unit\xe9","is":"est","<no validation>":"<pas de validation>","a set date":"une date fixe","today":"aujourd\'hui","today plus":"aujourd\'hui plus","today minus":"aujourd\'hui moins","number":"chiffre","Unit":"Unit\xe9","days":"jours","weeks":"semaines","months":"mois","year":"ann\xe9e","Max file size in MB":"Taille maximum du fichier en MB","Enter custom error message":"Entrez un message d\'erreur personnalis\xe9:","Min date":"Date minimum","Max date":"Date maximum","Allow decimals":"Autoriser les d\xe9cimales","Max number of decimals":"Nombre de d\xe9cimales autoris\xe9es","Min value":"Valeur minimum","Max value":"Valeur maximum","error message":"Message d\'erreur","Answer should be:":"La r\xe9ponse devrait \xeatre:","No character validation":"Pas de validation des caract\xe8res","Custom regular expression":"Expression r\xe9guli\xe8re personnalis\xe9e","Enter custom regular expression":"Entrez une expression r\xe9guli\xe8re personnalis\xe9e","Minimum characters":"Nombre minimum de caract\xe8res","Email":"Email","URL":"URL","National identity number":"Num\xe9ro de s\xe9curit\xe9 sociale","Mobile phone number":"Num\xe9ro de t\xe9l\xe9phone mobile","Only norwegian characters":"Seulement des caract\xe8res norv\xe9giens","Only norwegian characters + hyphen and space (used for names)":"Seulement des caract\xe8res norv\xe9giens + hyphen et espace (utilis\xe9s pour les noms)","Only norwegian characters with line breaks":"Seulement des caract\xe8res norv\xe9giens avec des sauts de ligne","Zip code":"Code postal","Text answer":"R\xe9ponse texte","Select type":"S\xe9lectionnez un type","Mandatory":"Obligatoire","Highlight":"Surligner","Text formatting":"Formattage de texte","Text":"Texte","Add validation":"Ajouter la validation","Enable when":"Autoris\xe9 quand","Advanced settings":"Options avanc\xe9es","Previous (left arrow)":"Pr\xe9c\xe9dent (fl\xe8che de gauche)","Next (right arrow)":"Suivant (fl\xe8che de droite)","Validation errors:":"Erreurs de validation:","Sidebar heading":"Titre de la barre lat\xe9rale","select sidebar heading:":"Selectionner le titre de barre lat\xe9rale","Options regarding completion (SOT-1)":"Options concernant la compl\xe9tion (SOT-1)","Guidance and person responsible (SOT-2)":"Accompagnement et personne responsable (SOT-2)","Processing by the recipient (SOT-3)":"Traitement par le destinataire (SOT-3)","Content":"Contenu","- Remove element":"- Enlever \xe9l\xe9ment","+ Add element":"+ Ajouter \xe9l\xe9ment","Found {0} errors. Questions with errors are marked with a red border.":"Trouv\xe9 {0} erreurs. Les questions en erreur sont encadr\xe9es de rouge.","Found no validation errors!":"Aucune erreur de validation trouv\xe9e!","Found {0} missing translations.":"Trouv\xe9 {0} traductions manquantes","Found no translations errors!":"Aucune erreur de traduction trouv\xe9e!","It looks like you have previously worked with a questionnaire:":"Il semble que vous avez d\xe9ja travaill\xe9 sur un questionnaire:","Do you wish to open this questionnaire?":"Voulez vous ouvrir ce questionnaire?","Restore questionnaire...":"R\xe9cup\xe9rer questionnaire...","You have unsaved changes. Do you wish to start a new questionnaire? (Changes to existing questionnaire will be lost)":"Vous avez des modifications non sauvegard\xe9es. Voulez vous commencer un nouveau questionnaire ? (Vos modifications seront perdues)","Loading questionnaire...":"Chargement du questionnaire...","Question is required, but cannot be required":"La question est obligatoire mais ne peut pas l\'\xeatre","Error in FHIRpath date validation":"Erreur dans la validation FHIRpath de la date","Code does not have \\"code\\" property":"Le code n\'a pas de propri\xe9t\xe9 \\"code\\"","Code does not have \\"system\\" property":"Le code n\'a pas de propri\xe9t\xe9 \\"system\\"","Code does not have a valid system":"Le code n\'a pas de syst\xe8me valide","answerOption does not have a valid system":"answerOption n\'a pas de syst\xe8me valide","quantity extension does not have a valid system":"quantity extension n\'a pas de syst\xe8me valide","quantity extension does not have code":"quantity extension n\'a pas de code","Extension has no \\"url\\" property":"L\'extension\' n\'a pas de propri\xe9t\xe9 \\"url\\"","Extension does not have value[x], or has more than one value[x]":"L\'extension\' n\'a pas de value[x], ou a plus d\'une value[x]","Initial value is not a possible value":"La valeur initiale n\'est pas permise","ValueSet of initial value does not exist":"Le valueset de la valeur initiale n\'existe pas","This enableWhen refers to a question with linkId which does not exist":"Le LinkId r\xe9f\xe9renc\xe9 dans l\'enableWhen n\'existe pas","enableWhen is not configured correctly. There are too many answer[x]-properties":"l\'enableWhen n\'est pas configur\xe9 correctement. Il y a trop de propri\xe9t\xe9s answer[x]","Quantity does not match system and code":"La Quantity n\'est pas conforme au syst\xe8me et au code","Recipient set in this enableWhen does not exist":"La destinataire de l\'enableWhen n\'existe pas","Coding expected in this enableWhen does not exist":"Le Coding attendu dans l\'enableWhen n\'existe pas","Operator used in this enableWhen is not supported":"L\'operateurr utilis\xe9 dans l\'enableWhen n\'est pas support\xe9","The ValueSet referenced in this enableWhen does not exist":"Le ValueSet r\xe9f\xe9renc\xe9 dans l\'enableWhen n\'existe pas","Active":"Actif","Draft":"Brouillon","Retired":"Retir\xe9","Unknown":"Unconnu","Floating at the bottom of the screen (standard setting)":"Flottant en bas de l\'\xe9cran (option par d\xe9faut)","No button bar":"Pas de barre de boutons","Static (at the bottom of the questionnaire)":"Statique (en bas du questionnaire)","Questionnaire can be answered by a representative (standard setting)":"Questionnaire peut \xeatre rempli par un repr\xe9sentant (option par d\xe9faut)","Can only be answered by logged in patient":"Ne peut \xeatre rempli que par un patient connect\xe9","Required (standard setting)":"Requis (option par d\xe9faut)","Anonymous":"Anonyme","Optional":"Optionnel","Not set":"Pas encore d\xe9fini","Save submitted questionnaire and intermediate save (standard setting)":"Sauvegarder \xe0 la soumission et de fa\xe7on interm\xe9diaire (option par d\xe9faut)","Only submitted questionnaire is saved":"Ne sauvegarder qu\'\xe0 la soumission","No saving":"Pas de sauvegarde","Translations":"Traductions","Add support for additional language":"Ajouter du support pour un language suppl\xe9mentaire","Select a language..":"S\xe9lectionner un language..","+ Add new language":"+ Ajouter un nouveau language","Additional languages":"Languages additionnels:","Delete":"Supprimer","Translate":"Traduire","Validation":"Valider","Follow-up question":"Question de suivi","Create follow-up question":"Cr\xe9er une question de suivi","Duplicate":"Dupliquer","Group":"Groupe","Multi-line textfield":"Champ de texte multi-ligne","Choice":"Choix","Open choice":"Choix ouvert","Recipient list":"Liste des destinataires","Recipient component":"Composant destinataire","Recipient component EndpointId":"Composant destinataire EndpointId","Date and time":"Date et heure","Confirmation":"Confirmation","Number":"Num\xe9ro","Quantity":"Quantit\xe9","Attachment":"Pi\xe8ce jointe","Information text":"Texte d\'information","No unit":"Pas d\'unit\xe9","centimeter":"centim\xe8tre","kilo":"kilo","month":"mois","day":"jour","is answered":"est r\xe9pondu","is not answered":"n\'est pas r\xe9pondu","is later than":"est apr\xe8s","is earlier than":"est plus t\xf4t que","is later than or equal":"est apr\xe8s ou \xe9gal \xe0","is earlier than or equal":"est plus t\xf4t ou \xe9gal \xe0","Patient":"Patient","Full name":"Nom complet","First name":"Pr\xe9nom","Surname":"Nom de famille","Birth date":"Date de naissance","Age":"Age","Address":"Adresse","Postal address":"Code postal","Temporary c/o":"C/o temporaire","Temporary address":"Adresse temporaire","Temporary postal code":"Code postal temporaire","Temporary postal address":"Adresse postale temporaire","On behalf of citizen":"Au nom du citoyen","Is questionnaire answered on behalf of someone else? (true/false)":"Est-ce que ce questionnaire est rempli au nom de quelqu\'un d\'autre ? (vrai/faux)","On behalf of citizen (national identity number)":"Au nom du citoyen (Num\xe9ro de s\xe9curit\xe9 sociale)","On behalf of citizen (name)":"Au nom du citoyen (Nom)","On behalf of citizen (birth date)":"Au nom du citoyen (Date de naissance)","On behalf of citizen (age)":"Au nom du citoyen (Age)","On behalf of citizen (gender)":"Au nom du citoyen (Genre)","On behalf of citizen (phone number)":"Au nom du citoyen (Num\xe9ro de t\xe9l\xe9phone)","On behalf of citizen (address)":"Au nom du citoyen (Adresse)","On behalf of citizen (postal code)":"Au nom du citoyen (Code postal)","On behalf of citizen (postal address)":"Au nom du citoyen (Adresse postale)","On behalf of citizen (temporary c/o)":"Au nom du citoyen (C/o temporaire)","On behalf of citizen (temporary address)":"Au nom du citoyen (Adresse temporaire)","On behalf of citizen (temporary postal code)":"Au nom du citoyen (Code postal temporaire)","On behalf of citizen (temporary postal address)":"Au nom du citoyen (Adresse postale temporaire)","General Practitioner":"M\xe9decin g\xe9n\xe9raliste","General Practitioner (full name)":"M\xe9decin g\xe9n\xe9raliste (Nom complet)","General Practitioner (first name)":"M\xe9decin g\xe9n\xe9raliste (Pr\xe9nom)","General Practitioner (surname)":"M\xe9decin g\xe9n\xe9raliste (Nom de famille)","General Practitioner (business name)":"M\xe9decin g\xe9n\xe9raliste (Nom de l\'entreprise)","General Practitioner (business phone number)":"M\xe9decin g\xe9n\xe9raliste (t\xe9l\xe9phone de travail)","General Practitioner (address 1)":"M\xe9decin g\xe9n\xe9raliste (Adresse 1)","General Practitioner (address 2)":"M\xe9decin g\xe9n\xe9raliste (Adresse 2)","General Practitioner (address 3)":"M\xe9decin g\xe9n\xe9raliste (Adresse 3)","General Practitioner (postal code)":"M\xe9decin g\xe9n\xe9raliste (Code postal)","General Practitioner (postal address)":"M\xe9decin g\xe9n\xe9raliste (Adresse postale)","General Practitioner (country)":"M\xe9decin g\xe9n\xe9raliste (Pays)","Miscellaneous":"Divers","Todays date":"La date d\'aujourd\'hui","Gender":"Genre","Male":"Homme","Female":"Femme","Display type":"Type d\'affichage","Access control":"Contr\xf4le d\'acc\xe8s","Helsetjeneste (Full) (standard setting)":"Helsetjeneste (Full) (standardinnstilling)","Journalinnsyn (Basis +)":"Journalinnsyn (Basis +)","Registerinnsyn (Basis)":"Registerinnsyn (Basis)","Recipient component is configured in Helsenorge admin":"Le composant destinataire est configur\xe9 dans Helsenorge admin","Form builder":"Constructeur de Questionnaire","What would you like to do?":"Que voulez vous faire?","You can start a new questionnaire, or upload an existing one.":"Vous pouvez commencer un nouveau questionnaire, ou charger un questionnaire existant.","Allow free-text answer":"Permettre les r\xe9ponses en saisie libre","Use predefined valueset":"Utiliser des valueset pr\xe9d\xe9finis","Components":"Composants","Uploaded file is not a questionnaire":"Le fichier n\'est pas un questionnaire","Technical name of uploaded questionnaire is not equal to questionnaire technical name":"Le nom technique du questionnaire charg\xe9 n\'est pas \xe9gal au nom technique du questionnaire","Questionnaire with the same language as uploaded questionnaire already exists":"Un questionnaire avec le m\xeame language que le questionnaire existe d\xe9ja","Could not read uploaded file":"Impossible de lire le questionnaire charg\xe9","Upload questionnaire in additional language":"Charger le questionnaire dans une langue diff\xe9rente","Export translations":"Exporter les traductions","Representative relation":"R\xf4le du repr\xe9sentant","Represented by power of attorney? (true/false)":"Avocat de la personne repr\xe9sent\xe9e ? (vrai/faux)","Represented by power of attorney for non-consent competent? (true/false)":"Avocat de la personne repr\xe9sent\xe9e, hors d\'\xe9tat d\'exprimer son consentement? (vrai/faux)","Represented by parent? (true/false)":"Parent de la personne repr\xe9sent\xe9e ? (vrai/faux)","Represented by guardianship? (true/false)":"Tuteur de la personne repr\xe9sent\xe9e ? (vrai/faux)","Upload ValueSets as json files. Accepts a Bundle or ValueSet in a single file. It is possible to upload several files at once":"T\xe9l\xe9chargez les valeurs sous forme de fichiers json. G\xe8re le Bundle ou un ensemble de valeurs dans un fichier s\xe9par\xe9. Il est possible de t\xe9l\xe9charger plusieurs fichiers en m\xeame temps.","Upload ValueSet(s)":"T\xe9l\xe9charger des valeurs","Connect to print version (binary)":"Connectez-vous \xe0 la version imprimable (binaire)","For example Binary/35":"ex: Binary/35","Print version":"Version imprim\xe9e","Dynamic":"Dynamique","Open item links in same tab":"Ouvrir les liens des \xe9l\xe9ments dans le m\xeame onglet","Open all links in same tab":"Ouvrir tous les liens dans le m\xeame onglet"}')},167:function(e,n,t){},171:function(e,n,t){},172:function(e,n,t){},173:function(e,n,t){},179:function(e,n,t){},180:function(e,n,t){},208:function(e,n,t){},209:function(e,n,t){},210:function(e,n,t){},212:function(e,n,t){},213:function(e,n,t){},214:function(e,n,t){},215:function(e,n,t){},216:function(e,n,t){},217:function(e,n,t){},231:function(e,n,t){},232:function(e,n,t){},233:function(e,n,t){},234:function(e,n,t){},235:function(e,n,t){},716:function(e,n,t){},718:function(e,n,t){},719:function(e,n,t){},720:function(e,n,t){},721:function(e,n,t){},725:function(e,n,t){"use strict";t.r(n);t(167),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,a,r,o,l,s,c,u=t(1),d=t.n(u),p=t(103),f=t(30),v=t(28),m=t.n(v),O=t(35),b=t(6),h=t(31),E=t(7),g=t(5),j=t(148),x=function(){for(var e=[],n="0123456789abcdef",t=0;t<36;t++)e[t]=n.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=n.substr(8|e[19],1),e[8]=e[13]=e[18]=e[23]="-",e.join("")};!function(e){e.attachment="attachment",e.receiver="receiver",e.receiverComponent="receiver-component",e.boolean="boolean",e.choice="choice",e.date="date",e.dateTime="dateTime",e.decimal="decimal",e.display="display",e.group="group",e.inline="inline",e.integer="integer",e.number="number",e.openChoice="open-choice",e.predefined="predifined",e.quantity="quantity",e.reference="reference",e.string="string",e.text="text",e.time="time",e.url="url"}(i||(i={})),function(e){e.code="code",e.display="display",e.system="system"}(a||(a={})),function(e){e.answerOption="answerOption",e.answerValueSet="answerValueSet",e.code="code",e.definition="definition",e.enableBehavior="enableBehavior",e.enableWhen="enableWhen",e.extension="extension",e.initial="initial",e.linkId="linkId",e.maxLength="maxLength",e.prefix="prefix",e.text="text",e._text="_text",e.readOnly="readOnly",e.repeats="repeats",e.required="required",e.type="type"}(r||(r={})),function(e){e.greaterThan=">",e.greaterThanOrEqual=">=",e.lessThan="<",e.lessThanOrEqual="<=",e.notEqual="!=",e.equal="=",e.exists="exists",e.notExists="notexists"}(o||(o={})),function(e){e.saveCapabilityValueSet="http://helsenorge.no/fhir/ValueSet/sdf-save-capabilities",e.authenticationRequirementValueSet="http://ehelse.no/fhir/ValueSet/AuthenticationRequirement",e.canBePerformedByValueSet="http://ehelse.no/fhir/ValueSet/CanBePerformedBy",e.itemControlValueSet="http://hl7.org/fhir/ValueSet/questionnaire-item-control",e.presentationbuttonsValueSet="http://helsenorge.no/fhir/ValueSet/presentationbuttons",e.sotHeader="http://ehelse.no/fhir/ValueSet/SOTHeaders",e.hyperlinkTargetValueset="http://helsenorge.no/fhir/ValueSet/sdf-hyperlink-target"}(l||(l={})),function(e){e.authenticationRequirement="http://ehelse.no/fhir/StructureDefinition/sdf-authenticationrequirement",e.calculatedExpression="http://ehelse.no/fhir/StructureDefinition/sdf-calculatedExpression",e.canBePerformedBy="http://ehelse.no/fhir/StructureDefinition/sdf-canbeperformedby",e.endpoint="http://ehelse.no/fhir/StructureDefinition/sdf-endpoint",e.entryFormat="http://hl7.org/fhir/StructureDefinition/entryFormat",e.fhirPath="http://ehelse.no/fhir/StructureDefinition/sdf-fhirpath",e.generatePDF="http://ehelse.no/fhir/StructureDefinition/sdf-generatepdf",e.guidanceAction="http://helsenorge.no/fhir/StructureDefinition/sdf-guidanceaction",e.guidanceParam="http://helsenorge.no/fhir/StructureDefinition/sdf-guidanceparameter",e.hidden="http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",e.itemControl="http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",e.markdown="http://hl7.org/fhir/StructureDefinition/rendering-markdown",e.maxDecimalPlaces="http://hl7.org/fhir/StructureDefinition/maxDecimalPlaces",e.maxSize="http://hl7.org/fhir/StructureDefinition/maxSize",e.maxValue="http://hl7.org/fhir/StructureDefinition/maxValue",e.minValue="http://hl7.org/fhir/StructureDefinition/minValue",e.minLength="http://hl7.org/fhir/StructureDefinition/minLength",e.optionReference="http://ehelse.no/fhir/StructureDefinition/sdf-optionReference",e.presentationbuttons="http://helsenorge.no/fhir/StructureDefinition/sdf-presentationbuttons",e.questionnaireUnit="http://hl7.org/fhir/StructureDefinition/questionnaire-unit",e.regEx="http://hl7.org/fhir/StructureDefinition/regex",e.repeatstext="http://ehelse.no/fhir/StructureDefinition/repeatstext",e.maxOccurs="http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs",e.minOccurs="http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs",e.validationtext="http://ehelse.no/fhir/StructureDefinition/validationtext",e.navigator="http://helsenorge.no/fhir/StructureDefinition/sdf-questionnaire-navgiator-state",e.navigatorCodeSystem="http://helsenorge.no/fhir/CodeSystem/sdf-questionnaire-navigator-state ",e.fhirPathMaxValue="http://ehelse.no/fhir/StructureDefinition/sdf-maxvalue",e.fhirPathMinValue="http://ehelse.no/fhir/StructureDefinition/sdf-minvalue",e.sublabel="http://helsenorge.no/fhir/StructureDefinition/sdf-sublabel",e.saveCapability="http://helsenorge.no/fhir/StructureDefinition/sdf-save-capabilities",e.printVersion="http://helsenorge.no/fhir/StructureDefinition/sdf-questionnaire-print-version",e.hyperlinkTarget="http://helsenorge.no/fhir/StructureDefinition/sdf-hyperlink-target"}(s||(s={})),function(e){e.helsetjeneste_full="urn:oid:2.16.578.1.12.4.1.1.8655",e.journalinnsyn_basispluss="urn:oid:2.16.578.1.12.4.1.1.7614",e.registerinnsyn_basis="urn:oid:2.16.578.1.12.4.1.1.7615"}(c||(c={}));var y;!function(e){e.inline="inline",e.help="help",e.sidebar="sidebar",e.dropdown="drop-down",e.autocomplete="autocomplete",e.highlight="highlight",e.summary="summary",e.checkbox="check-box",e.radioButton="radio-button",e.yearMonth="yearMonth",e.year="year",e.receiverComponent="receiver-component",e.dynamic="dynamic"}(y||(y={}));var I,N,R=function(e){return{url:s.itemControl,valueCodeableConcept:{coding:[{system:l.itemControlValueSet,code:e}]}}},T=function(e){var n,t=null===e||void 0===e||null===(n=e.extension)||void 0===n?void 0:n.find((function(e){return e.url===s.itemControl}));if(t){var i,a=(null===(i=t.valueCodeableConcept)||void 0===i?void 0:i.coding)?t.valueCodeableConcept.coding[0].code:void 0;if(a){var r=function(e,n){var t=Object.keys(e).filter((function(t){return e[t]===n}));return t.length>0?t[0]:void 0}(y,a);return r?y[r]:void 0}}},A=function(e,n){return L(e)||P(e)||q(n)},C=function(e){return T(e)===y.receiverComponent},S=function(e){return T(e)===y.dropdown},k=function(e){return T(e)===y.radioButton},D=function(e){return T(e)===y.checkbox},L=function(e){return T(e)===y.help},w=function(e){return T(e)===y.highlight},P=function(e){return T(e)===y.sidebar},q=function(e){return(null===e||void 0===e?void 0:e.type)===i.text&&T(e)===y.inline},_=function(e){var n,t,i;return L(e)&&((null===(n=e._text)||void 0===n||null===(t=n.extension)||void 0===t||null===(i=t.find((function(e){return e.url===s.markdown})))||void 0===i?void 0:i.valueMarkdown)||e.text)||""};!function(e){e.title="title",e.description="description",e.name="name",e.id="id",e.status="status",e.date="date",e.publisher="publisher",e.contact="contact",e.language="language",e.url="url",e.purpose="purpose",e.copyright="copyright",e.meta="meta",e.extension="extension",e.version="version",e.useContext="useContext"}(I||(I={})),function(e){e.active="active",e.draft="draft",e.retired="retired",e.unknown="unknown"}(N||(N={}));var V,M,U=function(e,n,t){var i=(e.extension||[]).filter((function(e){return e.url!==n.url}));i.push(n),t(ye(e.linkId,r.extension,i))},F=function(e,n,t){var i=Array.isArray(n)?(e.extension||[]).filter((function(e){return-1===n.indexOf(e.url)})):(e.extension||[]).filter((function(e){return e.url!==n}));t(ye(e.linkId,r.extension,i))},B=[{url:s.optionReference,valueReference:{reference:"",display:"",id:x()}},{url:s.optionReference,valueReference:{reference:"",display:"",id:x()}}],G=function(e){return{extension:[{url:s.markdown,valueMarkdown:e}]}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return{url:s.hyperlinkTarget,valueCoding:{system:l.hyperlinkTargetValueset,code:"".concat(e)}}},H=function(e){var n=null===e||void 0===e?void 0:e.find((function(e){return e.url===s.hyperlinkTarget}));if(n){var t,i=null===(t=n.valueCoding)||void 0===t?void 0:t.code;if(i)return~~i}},z="addItemCode",K="addQuestionnaireLanguage",Y="deleteItemCode",Q="updateItemCodeProperty",X="removeQuestionnaireLanguage",J="updateItemTranslation",Z="updateItemOptionTranslation",$="updateMetadataTranslation",ee="updateSettingTranslation",ne="updateContainedValueSetTranslation",te="updateSidebarTranslation",ie="updateQuestionnaireMetadata",ae="newItem",re="removeItemAttribute",oe="deleteItem",le="deleteChildItems",se="updateItem",ce="duplicateItem",ue="resetQuestionnaire",de="reorderItem",pe="moveItem",fe="updateLinkId",ve="updateMarkedLinkId",me="UPDATE_VALUESET",Oe="IMPORT_VALUESET",be="save",he=function(e,n){return{type:ve,linkId:e,parentArray:n}},Ee=function(e,n,t,i){return{type:J,languageCode:e,linkId:n,propertyName:t,value:i}},ge=function(e,n){return{type:ie,propName:e,value:n}},je=function(e,n,t){return{type:ae,item:e,order:n,index:t}},xe=function(e,n){return{type:oe,linkId:e,order:n}},ye=function(e,n,t){return{type:se,linkId:e,itemProperty:n,itemValue:t}},Ie=function(e){return{type:ue,newState:e}};!function(e){e.id="id",e.title="title",e.description="description",e.publisher="publisher",e.purpose="purpose",e.copyright="copyright"}(V||(V={})),function(e){e.initial="initial",e.text="text",e.validationText="validationText",e.entryFormatText="entryFormatText",e.sublabel="sublabel",e.repeatsText="repeatsText",e.prefix="prefix"}(M||(M={}));var Ne,Re=[{code:N.active,display:"Active"},{code:N.draft,display:"Draft"},{code:N.retired,display:"Retired"},{code:N.unknown,display:"Unknown"}],Te=(c.helsetjeneste_full,c.journalinnsyn_basispluss,c.registerinnsyn_basis,function(e){return/^[A-Za-z0-9-.]{1,64}$/.test(e)}),Ae=function(e,n){if(n&&e===n)return!0;return/^[A-Z]([A-Za-z0-9_]){0,254}$/.test(e)},Ce={code:"en-US",display:"English",localDisplay:"English"},Se=[Ce,{code:"nn-NO",display:"Nynorsk",localDisplay:"Norsk nynorsk"},{code:"se-NO",display:"Samisk",localDisplay:"Davvis\xe1megillii"},{code:"en-GB",display:"Engelsk",localDisplay:"English"},{code:"pl-PL",display:"Polsk",localDisplay:"Polskie"},{code:"ro-RO",display:"Rumensk",localDisplay:"Rom\xe2n\u0103"},{code:"lt-LT",display:"Litauisk",localDisplay:"Lietuvis"},{code:"ru-RU",display:"Russisk",localDisplay:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"fr-FR",display:"Fransk",localDisplay:"Fran\xe7ais"}],ke=function(e){return Se.find((function(n){return n.code.toLowerCase()===e.toLowerCase()}))},De=[{propertyName:V.title,label:"Tittel",markdown:!1,validate:void 0},{propertyName:V.id,label:"Id",markdown:!1,validate:function(e,n,t){return Te(e)?n&&t&&!function(e,n,t,i){var a=t.qAdditionalLanguages,r=t.qMetadata;if(!a||Object.keys(a).length<1)return!1;var o=[],l=String(r[e]);return l&&o.push(l),Object.entries(a).filter((function(e){return Object(b.a)(e,1)[0]!==i})).forEach((function(n){var t=Object(b.a)(n,2)[1];o.push(t.metaData[e])})),!o.some((function(e){return e===n}))}(V.id,e,n,t)?"Id must be unique across languages":"":"Id must be 1-64 characters and only letters a-z, numbers, - and ."}},{propertyName:V.description,label:"Description",markdown:!1,validate:void 0},{propertyName:V.publisher,label:"Publisher",markdown:!1,validate:void 0},{propertyName:V.purpose,label:"Purpose",markdown:!0,validate:void 0},{propertyName:V.copyright,label:"Copyright",markdown:!0,validate:void 0}],Le=Object(h.a)({},s.printVersion.toString(),{extension:s.printVersion,label:"Print version",generate:function(e){return{url:s.printVersion,valueReference:{reference:e}}},getValue:function(e){var n;return null===e||void 0===e||null===(n=e.valueReference)||void 0===n?void 0:n.reference}}),we=function(e,n,t,i){return n[e].items[t]&&n[e].items[t][i]||""},Pe="http://cardinalkit.org/fhir/ValueSet/Predefined",qe=[{url:Pe,resourceType:"ValueSet",id:"1101",version:"1.0",name:"urn:oid:1101",title:"Yes / No",status:"draft",publisher:"NHN",compose:{include:[{system:"urn:oid:2.16.578.1.12.4.1.1101",concept:[{code:"1",display:"Yes"},{code:"2",display:"No"}]}]}},{url:Pe,resourceType:"ValueSet",id:"1102",version:"1.0",name:"urn:oid:1102",title:"Yes / No / Do not know",status:"draft",publisher:"CardinalKit",compose:{include:[{system:"urn:oid:2.16.578.1.12.4.1.1102",concept:[{code:"1",display:"Yes"},{code:"2",display:"No"},{code:"3",display:"Do not know"}]}]}},{url:Pe,resourceType:"ValueSet",id:"9523",version:"1.0",name:"urn:oid:9523",title:"Yes / No / Unsure",status:"draft",publisher:"CardinalKit",compose:{include:[{system:"urn:oid:2.16.578.1.12.4.1.9523",concept:[{code:"1",display:"Yes"},{code:"2",display:"No"},{code:"3",display:"Unsure"}]}]}}],_e=t(162),Ve="questionnaire-store",Me=function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_e.a)("structor-db",1,{upgrade:function(e){e.objectStoreNames.contains(Ve)||e.createObjectStore(Ve,{autoIncrement:!1})}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject("Unable to initialize IndexedDB"));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(O.a)(m.a.mark((function e(n){var t,i,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:if(!(t=e.sent)){e.next=13;break}return i=t.transaction(Ve,"readwrite"),a=i.objectStore(Ve),e.next=8,a.put(n,1);case 8:return r=e.sent,e.next=11,i.done;case 11:return t.close(),e.abrupt("return",r);case 13:return e.abrupt("return",Promise.reject("Not storing to IndexedDB because database is not initialized"));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(O.a)(m.a.mark((function e(){var n,t,i,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:if(!(n=e.sent)){e.next=13;break}return t=n.transaction(Ve,"readonly"),i=t.objectStore(Ve),e.next=8,i.get(1);case 8:return a=e.sent,e.next=11,t.done;case 11:return n.close(),e.abrupt("return",a);case 13:return e.abrupt("return",Promise.reject("No questionnaire found in IndexedDB"));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){return"urn:uuid:".concat(x())},Ge=function(e){return"urn:"===e.substr(0,4)||"http://"===e.substr(0,7)||"https://"===e.substr(0,8)};!function(e){e.valueSetTqqc="http://ehelse.no/fhir/ValueSet/TQQC"}(Ne||(Ne={}));var We="QUANTITY_UNIT_TYPE_NOT_SELECTED",He="QUANTITY_UNIT_TYPE_CUSTOM",ze=[{system:"",code:We,display:"No unit"},{system:"http://unitsofmeasure.org",code:"cm",display:"centimeter"},{system:"http://unitsofmeasure.org",code:"kg",display:"kilo"},{system:"http://unitsofmeasure.org",code:"a",display:"year"},{system:"http://unitsofmeasure.org",code:"mo",display:"month"},{system:"http://unitsofmeasure.org",code:"d",display:"day"},{system:"",code:He,display:"Custom"}],Ke=R(y.checkbox),Ye=R(y.dropdown),Qe=R(y.radioButton),Xe=[{code:o.exists,display:"is answered"},{code:o.notExists,display:"is not answered"},{code:o.equal,display:"is equal to"},{code:o.notEqual,display:"is not equal"}],Je=[{code:o.exists,display:"is answered"},{code:o.notExists,display:"is not answered"},{code:o.equal,display:"is equal to"},{code:o.notEqual,display:"is not equal"}],Ze=[{code:o.exists,display:"is answered"},{code:o.notExists,display:"is not answered"},{code:o.equal,display:"is equal to"},{code:o.notEqual,display:"is not equal"},{code:o.greaterThan,display:"is later than"},{code:o.lessThan,display:"is earlier than"},{code:o.greaterThanOrEqual,display:"is later than or equal"},{code:o.lessThanOrEqual,display:"is earlier than or equal"}],$e=[{code:o.exists,display:"is answered"},{code:o.notExists,display:"is not answered"},{code:o.equal,display:"is equal to"},{code:o.notEqual,display:"is not equal"},{code:o.greaterThan,display:"is greater than"},{code:o.lessThan,display:"is less than"},{code:o.greaterThanOrEqual,display:"is greater than or equal"},{code:o.lessThanOrEqual,display:"is less than or equal"}],en=[{code:"0",display:"Not set"},{code:"1",display:"Save submitted questionnaire and intermediate save (standard setting)"},{code:"2",display:"Only submitted questionnaire is saved"},{code:"3",display:"No saving"}],nn=function(e){return((null===e||void 0===e?void 0:e.type)===i.text||(null===e||void 0===e?void 0:e.type)===i.string)&&(null===e||void 0===e?void 0:e.initial)&&e.initial[0]&&e.initial[0].valueString||""},tn=function(e){return(null===e||void 0===e?void 0:e.prefix)||""},an=function(e){var n,t;return(null===e||void 0===e||null===(n=e.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.sublabel})))||void 0===t?void 0:t.valueMarkdown)||""},rn=function(e){var n,t;return(null===e||void 0===e||null===(n=e.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.repeatstext})))||void 0===t?void 0:t.valueString)||""},on=function(e){var n,t;return(null===e||void 0===e||null===(n=e.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.validationtext})))||void 0===t?void 0:t.valueString)||""},ln=function(e){var n,t;return(null===e||void 0===e||null===(n=e.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.entryFormat})))||void 0===t?void 0:t.valueString)||""},sn={system:Ne.valueSetTqqc,code:"1",display:"Technical endpoint for receiving QuestionnaireResponse"},cn=function(e){var n;return!C(e)&&void 0!==(null===(n=e.code)||void 0===n?void 0:n.find((function(e){return e.system===Ne.valueSetTqqc})))},un=t(0),dn={isDirty:!1,qItems:{},qOrder:[],qMetadata:{title:"",description:"",resourceType:"Questionnaire",language:Ce.code,name:"",status:"draft",publisher:"CardinalKit",meta:{profile:["http://cardinalkit.org/fhir/StructureDefinition/sdf-Questionnaire"],tag:[{system:"urn:ietf:bcp:47",code:Ce.code,display:Ce.display}]},useContext:[{code:{system:"http://hl7.org/fhir/ValueSet/usage-context-type",code:"focus",display:"Clinical Focus"},valueCodeableConcept:{coding:[{system:c.helsetjeneste_full}]}}],contact:[{name:"http://cardinalkit.org"}],subjectType:["Patient"]},qContained:qe,qCurrentItem:void 0,qAdditionalLanguages:{}};function pn(e,n){if(0===e.length)return n;var t=n.findIndex((function(n){return n.linkId===e[0]}));return pn(e.slice(1),n[t].items)}function fn(e,n){return e.forEach((function(e){n.push(e.linkId),fn(e.items,n)})),n}function vn(e,n){n&&Object.values(n).forEach((function(n){delete n.items[e]}))}function mn(e,n){var t=pn(n.order,e.qOrder),i=t.findIndex((function(e){return e.linkId===n.linkId})),a=function n(t,i){var a,r,o=JSON.parse(JSON.stringify(e.qItems[t.linkId])),l=x();return i[o.linkId]=l,o.linkId=l,o.enableWhen&&(o.enableWhen=o.enableWhen.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{question:i[e.question]||e.question})}))),e.qItems[o.linkId]=o,a=t.linkId,r=l,e.qAdditionalLanguages&&Object.values(e.qAdditionalLanguages).forEach((function(e){var n=e.items[a];n&&(e.items[r]=n)})),{linkId:o.linkId,items:t.items.map((function(e){return n(e,i)}))}}(t[i],{});t.splice(i+1,0,a),e.qCurrentItem={linkId:a.linkId,parentArray:n.order}}var On=Object(j.a)((function(e,n){switch(n.type!==ue&&n.type!==be&&n.type!==ve&&(e.isDirty=!0),n.type){case z:!function(e,n){var t;e.qItems[n.linkId]?(e.qItems[n.linkId].code||(e.qItems[n.linkId].code=[]),null===(t=e.qItems[n.linkId].code)||void 0===t||t.push(n.code)):console.error('Trying to add "code" to non-extistent item')}(e,n);break;case Y:!function(e,n){if(e.qItems[n.linkId]){var t,i=e.qItems[n.linkId].code;i&&i.length>1?null===(t=e.qItems[n.linkId].code)||void 0===t||t.splice(n.index,1):delete e.qItems[n.linkId].code}else console.error('Trying to delete "code" from non-extistent item')}(e,n);break;case Q:!function(e,n){var t=e.qItems[n.linkId].code;t?t&&t[n.index]&&(t[n.index][n.property]=n.value):console.error('Trying to update "code" from non-extistent item or code')}(e,n);break;case K:!function(e,n){e.qAdditionalLanguages||(e.qAdditionalLanguages={}),e.qAdditionalLanguages[n.additionalLanguageCode]=n.translation}(e,n);break;case X:!function(e,n){e.qAdditionalLanguages||(e.qAdditionalLanguages={}),delete e.qAdditionalLanguages[n.languageCode]}(e,n);break;case ue:!function(e,n){var t=n.newState||dn;e.isDirty=t.isDirty,e.qOrder=t.qOrder,e.qItems=t.qItems,e.qMetadata=t.qMetadata,e.qContained=null===t||void 0===t?void 0:t.qContained,e.qAdditionalLanguages=t.qAdditionalLanguages,e.qCurrentItem=t.qCurrentItem}(e,n);break;case be:e.isDirty=!1;break;case ie:!function(e,n){var t=n.propName,i=n.value;if(e.qMetadata=Object(g.a)(Object(g.a)({},e.qMetadata),{},Object(h.a)({},t,i)),I.title===t){var a=e.qMetadata.useContext;if(void 0!==a&&a.length>0){var r,o=null===(r=a[0].valueCodeableConcept)||void 0===r?void 0:r.coding;void 0!==o&&o.length>0&&(o[0].display=i)}}}(e,n);break;case ae:!function(e,n){var t,i=n.item;e.qItems[i.linkId]=i;var a=[];1===(null===(t=i.item)||void 0===t?void 0:t.length)&&(e.qItems[i.item[0].linkId]=i.item[0],a.push({linkId:i.item[0].linkId,items:[]}));var r=pn(n.order,e.qOrder),o={linkId:i.linkId,items:a};if(n.index||0===n.index){var l=r.filter((function(t,i){return A(e.qItems[t.linkId])&&i<=(n.index||0)}));r.splice(n.index+l.length,0,o)}else r.push(o);var s=e.qItems[n.order[n.order.length-1]];A(i,s)||(e.qCurrentItem={linkId:i.linkId,parentArray:n.order})}(e,n);break;case oe:!function(e,n){var t,i=pn(n.order,e.qOrder),a=i.findIndex((function(e){return e.linkId===n.linkId}));[n.linkId].concat(Object(E.a)(fn(i[a].items,[]))).forEach((function(n){delete e.qItems[n],vn(n,e.qAdditionalLanguages)})),i.splice(a,1),(null===(t=e.qCurrentItem)||void 0===t?void 0:t.linkId)===n.linkId&&(e.qCurrentItem=void 0)}(e,n);break;case le:!function(e,n){var t=pn(n.order,e.qOrder).find((function(e){return e.linkId===n.linkId}));t&&(fn(t.items,[]).forEach((function(n){delete e.qItems[n],vn(n,e.qAdditionalLanguages)})),t.items=[])}(e,n);break;case se:!function(e,n){n.itemValue&&!function(){var e=n.itemProperty,t=n.itemValue;return e===r.extension&&0===t.length}()?(e.qItems[n.linkId]=Object(g.a)(Object(g.a)({},e.qItems[n.linkId]),{},Object(h.a)({},n.itemProperty,n.itemValue)),"choice"===n.itemValue&&cn(e.qItems[n.linkId])&&(e.qItems[n.linkId].extension=[].concat(Object(E.a)(e.qItems[n.linkId].extension||[]),Object(E.a)(B)))):delete e.qItems[n.linkId][n.itemProperty]}(e,n);break;case J:!function(e,n){e.qAdditionalLanguages&&(e.qAdditionalLanguages[n.languageCode].items[n.linkId]||(e.qAdditionalLanguages[n.languageCode].items[n.linkId]={}),e.qAdditionalLanguages[n.languageCode].items[n.linkId][n.propertyName]=n.value)}(e,n);break;case Z:!function(e,n){if(e.qAdditionalLanguages){var t=e.qAdditionalLanguages[n.languageCode].items[n.linkId];t.answerOptions||(t.answerOptions={}),t.answerOptions[n.optionCode]=n.text}}(e,n);break;case ne:!function(e,n){if(e.qAdditionalLanguages){var t=e.qAdditionalLanguages[n.languageCode].contained;t[n.valueSetId]||(t[n.valueSetId]={concepts:{}}),t[n.valueSetId].concepts[n.conceptId]=n.translation}}(e,n);break;case $:!function(e,n){e.qAdditionalLanguages&&(e.qAdditionalLanguages[n.languageCode].metaData[n.propertyName]=n.translation)}(e,n);break;case ee:!function(e,n){if(e.qAdditionalLanguages){var t=e.qAdditionalLanguages[n.languageCode].settings;n.translatedValue?t[n.extension]=n.translatedValue:delete t[n.extension]}}(e,n);break;case te:!function(e,n){if(e.qAdditionalLanguages){var t=e.qAdditionalLanguages[n.languageCode].sidebarItems;t[n.linkId]||(t[n.linkId]={markdown:""}),t[n.linkId].markdown=n.value}}(e,n);break;case ce:mn(e,n);break;case de:!function(e,n){var t=pn(n.order,e.qOrder),i=t.findIndex((function(e){return e.linkId===n.linkId}));if(-1===i)throw new Error("Could not find item to move");var a=t.filter((function(t,i){return A(e.qItems[t.linkId])&&i<=n.newIndex})),r=t.splice(i,1);t.splice(n.newIndex+a.length,0,r[0])}(e,n);break;case pe:!function(e,n){var t=pn(n.oldOrder,e.qOrder),i=t.findIndex((function(e){return e.linkId===n.linkId})),a=t[i].items,r=pn(n.newOrder,e.qOrder);if(n.index||0===n.index){var o=r.filter((function(t,i){return A(e.qItems[t.linkId])&&i<=(n.index||0)}));r.splice(n.index+o.length,0,{linkId:n.linkId,items:a})}else r.push({linkId:n.linkId,items:a});t.splice(i,1),e.qCurrentItem&&(e.qCurrentItem=Object(g.a)(Object(g.a)({},e.qCurrentItem),{},{parentArray:n.newOrder}))}(e,n);break;case me:!function(e,n){var t,i=null===e||void 0===e||null===(t=e.qContained)||void 0===t?void 0:t.findIndex((function(e){return e.id===n.item.id}));e.qContained&&i&&i>=0?e.qContained[i]=n.item:e.qContained=[].concat(Object(E.a)((null===e||void 0===e?void 0:e.qContained)||[]),[n.item])}(e,n);break;case Oe:!function(e,n){e.qContained=[].concat(Object(E.a)((null===e||void 0===e?void 0:e.qContained)||[]),Object(E.a)(n.items))}(e,n);break;case fe:!function(e,n){var t=e.qItems,i=e.qOrder,a=e.qAdditionalLanguages,r=n.oldLinkId,o=n.newLinkId,l=n.parentArray,s=t[r],c=Object(g.a)(Object(g.a)({},s),{},{linkId:o});t[o]=c,delete t[r];var u=pn(l,i).find((function(e){return e.linkId===r}));if(!u)throw new Error("Trying to update linkId that doesn't exist");u.linkId=o,Object.values(t).forEach((function(e){e.enableWhen&&e.enableWhen.forEach((function(e){e.question===r&&(e.question=o)}))})),a&&Object.values(a).forEach((function(e){var n=e.items[r];e.items[o]=n,delete e.items[r]})),e.qCurrentItem&&(e.qCurrentItem=Object(g.a)(Object(g.a)({},e.qCurrentItem),{},{linkId:o}))}(e,n);break;case re:!function(e,n){e.qItems[n.linkId]&&e.qItems[n.linkId][n.itemProperty]&&delete e.qItems[n.linkId][n.itemProperty]}(e,n);break;case ve:!function(e,n){n.linkId?e.qCurrentItem={linkId:n.linkId,parentArray:n.parentArray||[]}:e.qCurrentItem=void 0}(e,n)}})),bn=Object(u.createContext)({state:dn,dispatch:function(){return null}}),hn=function(e){var n=Object(u.useReducer)(On,dn),t=Object(b.a)(n,2),i=t[0],a=t[1];return Object(u.useEffect)((function(){var e=performance.now();(function(){var e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(JSON.parse(JSON.stringify(i)));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.debug("State saved in ".concat(Math.round(performance.now()-e),"ms"))}),[i]),Object(un.jsx)(bn.Provider,{value:{state:i,dispatch:a},children:e.children})},En=function(e){var n,t=[];return null===e||void 0===e||null===(n=e.compose)||void 0===n||n.include.forEach((function(e){var n;null===e||void 0===e||null===(n=e.concept)||void 0===n||n.forEach((function(n){t.push({code:n.code,system:e.system,display:n.display})}))})),t};function gn(e){function n(e,t){var i,a;void 0!==e.item&&e.item.length>0?i=null===(a=e.item)||void 0===a?void 0:a.map((function(e){return n(e,t)})):i=[];var r={linkId:e.linkId,items:i};return delete e.item,t[e.linkId]=e,r}var t={},i=null===e||void 0===e?void 0:e.map((function(e){return n(e,t)}));return{qItems:t,qOrder:i||[]}}function jn(e){var n,t,i;return{answerOptions:function(e){var n={};return null===e||void 0===e||e.forEach((function(e){e.valueCoding&&e.valueCoding.code&&(n[e.valueCoding.code]=e.valueCoding.display||"")})),n}(null===e||void 0===e?void 0:e.answerOption),entryFormatText:ln(e),text:(null===e||void 0===e||null===(n=e._text)||void 0===n||null===(t=n.extension)||void 0===t||null===(i=t.find((function(e){return e.url===s.markdown})))||void 0===i?void 0:i.valueMarkdown)||(null===e||void 0===e?void 0:e.text)||"",validationText:on(e),initial:nn(e),sublabel:an(e),prefix:tn(e),repeatsText:rn(e)}}function xn(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null===e||void 0===e||e.forEach((function(e){var a=null===n||void 0===n?void 0:n.find((function(n){return n.linkId===e.linkId}));P(e)?i[e.linkId]=yn(a):(t[e.linkId]=jn(a),xn(e.item,null===a||void 0===a?void 0:a.item,t,i))})),{items:t,sidebarItems:i}}function yn(e){var n;return{markdown:function(e){var n;return(null===e||void 0===e||null===(n=e.find((function(e){return e.url===s.markdown})))||void 0===n?void 0:n.valueMarkdown)||""}(null===e||void 0===e||null===(n=e._text)||void 0===n?void 0:n.extension)}}function In(e,n){var t=function(e,n){if(!e||!n)return{};var t={};return e.forEach((function(e){var i=n.find((function(n){return n.id===e.id}));if(e.id&&i){var a=En(e),r=En(i),o={};null===a||void 0===a||a.forEach((function(e){var n=null===r||void 0===r?void 0:r.find((function(n){return n.code===e.code&&n.system===e.system}));n&&(o[n.code||""]=n.display||"")})),t[e.id]={concepts:o}}})),t}(e.contained,n.contained),i=xn(e.item,n.item),a=i.items,r=i.sidebarItems;return{contained:t,items:a,metaData:function(e){var n={};return De.forEach((function(t){n[t.propertyName]=e[t.propertyName]||""})),n}(n),sidebarItems:r,settings:function(e){var n={};return Object.values(Le).forEach((function(t){var i;if(t){var a=null===(i=e.extension)||void 0===i?void 0:i.find((function(e){return e.url===t.extension}));a&&(n[t.extension]=a)}})),n}(n)}}function Nn(e){if(!e.entry||e.entry.length<2)return{};var n=e.entry[0].resource,t={};return e.entry.forEach((function(e,i){var a,r,o=e.resource;0!==i&&o.language&&o.language.toLowerCase()!==(null===(a=n.language)||void 0===a?void 0:a.toLowerCase())&&(r=o.language,Se.some((function(e){return e.code.toLowerCase()===r.toLowerCase()})))?t[function(e){var n=e.split("-");return"".concat(n[0],"-").concat(n[1].toUpperCase())}(o.language)]=In(n,o):0!==i&&console.error("Skipping questionnaire with index ".concat(i," and language '").concat(o.language,"' due to missing or unsupported language"))})),t}var Rn=t(738),Tn=(t(171),function(e){var n=e.title,t=e.onClick,i=e.id,a=e.type,r=void 0===a?"button":a,o=e.icon,l=e.variant;return Object(un.jsxs)("button",{type:r,className:"regular-btn ".concat(l),id:i,onClick:t,children:[o&&Object(un.jsx)("i",{className:o})," ",n]})}),An=(t(172),function(e){var n=e.type,t=e.title,i=e.onClick,a=e.color,r=void 0===a?"white":a,o=e.size,l=["iconBtn"];r&&l.push(r),o&&l.push(o);var s="";switch(n){case"back":s="ion-ios-arrow-back";break;case"forward":s="ion-ios-arrow-forward";break;case"info":s="ion-ios-information-outline";break;default:s="ion-close-round"}return Object(un.jsx)("button",{className:l.join(" "),title:t,onClick:i,children:Object(un.jsx)("i",{className:s})})}),Cn=(t(173),function(e){var n=e.close,t=e.children,i=e.title,a=e.size,r=void 0===a?"small":a,o=e.id,l=e.bottomCloseText,s=e.bottomButtonAlignment,c=void 0===s?"center-text":s,u=Object(Rn.a)().t;return Object(un.jsx)("div",{className:"overlay align-everything",children:Object(un.jsxs)("div",{className:"modal ".concat(r),id:o,children:[Object(un.jsxs)("div",{className:"title",children:[Object(un.jsx)(An,{type:"x",title:u("Close"),onClick:n}),Object(un.jsx)("h1",{children:i})]}),Object(un.jsx)("div",{className:"content",children:t}),l&&Object(un.jsx)("div",{className:"modal-btn-bottom",children:Object(un.jsx)("div",{className:c,style:{paddingRight:10},children:Object(un.jsx)(Tn,{title:l,type:"button",variant:"secondary",onClick:n})})})]})})}),Sn=(t(179),function(){return Object(un.jsxs)("div",{className:"spinner-box",children:[Object(un.jsx)("div",{className:"configure-border-1",children:Object(un.jsx)("div",{className:"configure-core"})}),Object(un.jsx)("div",{className:"configure-border-2",children:Object(un.jsx)("div",{className:"configure-core"})})]})}),kn=(t(180),t(146)),Dn=t(112),Ln=t(79),wn=t(161),Pn=(t(207),t(208),function(e,n,t,i,a){if(!n)return[];var r=function(){return"item-button ".concat(i?"item-button--visible":"")};return[Object(un.jsxs)("button",{className:r(),onClick:function(e){var i;e.stopPropagation(),a((i=n.linkId,{type:ce,linkId:i,order:t}))},"aria-label":"Duplicate element",title:e("Duplicate"),children:[Object(un.jsx)("i",{className:"duplicate-icon"}),i&&Object(un.jsx)("label",{children:e("Duplicate")})]},"duplicate-item-button"),Object(un.jsxs)("button",{className:r(),onClick:function(e){e.stopPropagation(),a(xe(n.linkId,t))},"aria-label":"Delete element",title:e("Delete"),children:[Object(un.jsx)("i",{className:"trash-icon"}),i&&Object(un.jsx)("label",{children:e("Delete")})]},"delete-item-button")]}),qn=function(e){return e.replace(/\s/g,"-").toLocaleLowerCase()},_n=function(e){return{valueCoding:{id:x(),code:"",system:e,display:""}}},Vn=function(){return{linkId:x(),type:i.display,text:"",extension:[],code:[],item:[],required:!1}},Mn=function(e){var n=e.type;return[i.attachment,i.integer,i.decimal,i.quantity,i.text,i.string,i.date,i.dateTime].includes(n)&&!q(e)},Un=function(e){return!q(e)&&!w(e)&&!C(e)&&e.type!==i.group&&e.type!==i.display&&e.type!==i.boolean},Fn=function(e){return e.type!==i.group&&e.type!==i.display&&!q(e)&&!w(e)&&!C(e)},Bn=function(e){return(e.type===i.string||e.type===i.text||e.type===i.boolean||e.type===i.quantity||e.type===i.integer||e.type===i.decimal||e.type===i.date||e.type===i.dateTime||e.type===i.time)&&!q(e)},Gn=function(e){return e.type!==i.display&&!q(e)&&!w(e)&&!C(e)},Wn=function(e){return e.type===i.group},Hn=function(e){return e.type!==i.display&&!q(e)&&!w(e)},zn=function(e){return e.type!==i.display&&e.type!==i.group&&!q(e)&&!w(e)&&!C(e)},Kn=function(e){return e.type!==i.display&&e.type!==i.group&&!q(e)&&!w(e)&&!C(e)},Yn=function(e){return e.type!==i.display&&!q(e)&&!w(e)&&!C(e)},Qn=function(e){return e.type===i.integer||e.type===i.decimal||e.type===i.quantity},Xn=function(e){return(e.type===i.string||e.type===i.text)&&!q(e)&&!w(e)},Jn="yourNodeType",Zn={beginDrag:function(e){return{node:Object(g.a)({},e.node)}}},$n=Object(kn.a)(Jn,Zn,(function(e){return{connectDragSource:e.dragSource()}}))((function(e){return e.connectDragSource(Object(un.jsx)("div",{className:"anchor-menu__dragcomponent",children:e.node.nodeReadableType}),{dropEffect:"copy"})})),et=function(e){var n=Object(Rn.a)().t,t=d.a.useState([]),a=Object(b.a)(t,2),r=a[0],o=a[1],l=function(e){var n=Object(E.a)(e);return n.splice(-1),n},c=function(n){var t;return(null===(t=e.qCurrentItem)||void 0===t?void 0:t.linkId)===n},u=function(e){switch(e){case i.group:return"folder-icon";case i.display:return"message-icon";default:return"question-icon"}},p=function(e,n){return Object(un.jsx)($n,{node:{title:"NEW",nodeType:e,nodeReadableType:n,children:[]}})},f=function n(t,i,a){return t.filter((function(n){var t=a?e.qItems[a]:void 0;return!A(e.qItems[n.linkId],t)})).map((function(e,t){var a="".concat(i).concat(t+1,".");return{title:e.linkId,hierarchy:a,children:n(e.items,a,e.linkId),expanded:-1===r.indexOf(e.linkId)}}))}(e.qOrder,"");return Object(un.jsx)(Dn.a,{backend:Ln.a,children:Object(un.jsxs)("div",{className:"questionnaire-overview",children:[Object(un.jsxs)("div",{className:"questionnaire-overview__toolbox",children:[p(i.boolean,n("Boolean")),p(i.date,n("Date")),p(i.decimal,n("Decimal")),p(i.group,n("Group")),p(i.integer,n("Integer")),p(i.display,n("Instruction")),p(i.choice,n("Multiple Choice")),p(i.quantity,n("Quantity")),p(i.string,n("Text"))]}),Object(un.jsx)(wn.a,{className:"questionnaire-overview__treeview",dndType:Jn,treeData:f,onChange:function(){},getNodeKey:function(e){return e.node.title},onMoveNode:function(t){var a,r=t.treeData,o=t.nextParentNode,c=t.node,u=t.nextPath,d=t.prevPath,p=l(u),f=o?o.children.findIndex((function(e){return e.title===c.title})):r.findIndex((function(e){return e.title===c.title}));if("NEW"===c.title&&c.nodeType)e.dispatch(je(function(e,n){var t={linkId:x(),type:i.group,text:"",extension:[],code:[],item:[],required:!1};if(e===i.group)t.type=i.group;else if(e===i.attachment){var a,r={url:s.maxSize,valueDecimal:5};null===(a=t.extension)||void 0===a||a.push(r),t.type=i.attachment}else if(e===i.receiver){var o,l;t.type=i.choice,null===(o=t.code)||void 0===o||o.push(sn),null===(l=t.extension)||void 0===l||l.push(Ye)}else if(e===i.receiverComponent){var c,u;t.type=i.choice,null===(c=t.code)||void 0===c||c.push(sn);var d=R(y.receiverComponent);null===(u=t.extension)||void 0===u||u.push(d),t.text=n,t.answerValueSet="http://helsenorge.no/fhir/ValueSet/adresser",t.required=!0}else if(e===i.boolean)t.type=i.boolean;else if(e===i.choice){t.type=i.choice;var p=Be();t.answerOption=[_n(p),_n(p)]}else if(e===i.date)t.type=i.date;else if(e===i.dateTime)t.type=i.dateTime;else if(e===i.decimal)t.type=i.decimal;else if(e===i.display)t.type=i.display;else if(e===i.inline){var f,v;t.type=i.text;var m=R(y.inline);null===(f=t.extension)||void 0===f||f.push(m),null===(v=t.item)||void 0===v||v.push(Vn())}else if(e===i.integer)t.type=i.integer;else if(e===i.openChoice){t.type=i.openChoice;var O=Be();t.answerOption=[_n(O),_n(O)]}else e===i.quantity?t.type=i.quantity:e===i.string?t.type=i.string:e===i.text?t.type=i.text:e===i.time&&(t.type=i.time);return t}(c.nodeType,n("Recipient component")),p,f));else{var v=l(d);JSON.stringify(p)===JSON.stringify(v)?e.dispatch((a=c.title,{type:de,linkId:a,order:p,newIndex:f})):e.dispatch(function(e,n,t,i){return{type:pe,linkId:e,newOrder:n,oldOrder:t,index:i}}(c.title,p,v,f))}},onVisibilityToggle:function(e){var n=e.node,t=e.expanded,i=r.filter((function(e){return e!==n.title}));t||i.push(n.title),o(i)},canNodeHaveChildren:function(n){var t=e.qItems[n.title];return!!t&&function(e){return e.type!==i.display&&!q(e)&&!w(e)&&!C(e)}(t)},generateNodeProps:function(t){var i,a,r;return{className:"anchor-menu__item \n                            ".concat((r=t.node.title,e.validationErrors.some((function(e){return e.linkId===r}))?"validation-error":"")," \n                            ").concat(1===t.path.length?"anchor-menu__topitem":""," \n                            ").concat(c(t.node.title)?"anchor-menu__item--selected":"","\n                        "),title:Object(un.jsxs)("span",{className:"anchor-menu__inneritem",onClick:function(){e.dispatch(he(t.node.title,l(t.path)))},children:[Object(un.jsx)("span",{className:u(null===(i=e.qItems[t.node.title])||void 0===i?void 0:i.type)}),Object(un.jsxs)("span",{className:"anchor-menu__title",children:[t.node.hierarchy," ",null===(a=e.qItems[t.node.title])||void 0===a?void 0:a.text]})]}),buttons:Pn(n,e.qItems[t.node.title],l(t.path),!1,e.dispatch)}}}),0===e.qOrder.length&&Object(un.jsx)(un.Fragment,{children:Object(un.jsx)("div",{className:"anchor-menu__placeholder",children:n("Drag a question type here to start building your survey!")})})]})})},nt=t(73),tt=function(e){return"object"===typeof e&&0===Object.keys(e).length},it=function(e,n){if(void 0!==n&&null!==n&&""!==n){if(Array.isArray(n)){var t=n.filter((function(e){return!tt(e)}));return 0===t.length?void 0:t}if(!tt(n))return n}},at=function(e){var n=null;switch(e){case i.boolean:n=function(e){return"boolean"===e.type};break;case i.decimal:case i.integer:case i.quantity:n=function(e){return"number"===e.type};break;case i.date:n=function(e){return"date"===e.type};break;case i.dateTime:n=function(e){return"date"===e.type||"dateTime"===e.type};break;case i.time:n=function(e){return"time"===e.type};break;case i.string:case i.text:n=function(){return!0};break;default:n=function(){return!1}}var t,a,r,o=[],l={},s=Object(nt.a)(rt);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(n(c))l[c.group]||(l[c.group]={display:c.group,options:[]},o.push(l[c.group])),l[c.group].options.push((a=c.name,r=c.expression,{display:a,code:r}))}}catch(u){s.e(u)}finally{s.f()}return{options:o}},rt=[{name:"National identity number",expression:"Patient.identifier.where(use = 'official' and (system = 'urn:oid:2.16.578.1.12.4.1.4.1' or system = 'urn:oid:2.16.578.1.12.4.1.4.2')).value",group:"Patient",type:"string"},{name:"Full name",expression:"Patient.name.where(use = 'official').select(given.join(' ') & ' ' & family)",group:"Patient",type:"string"},{name:"First name",expression:"Patient.name.where(use = 'official').select(iif(given.count() > 1, given.take(count()-1), given).join(' '))",group:"Patient",type:"string"},{name:"Surname",expression:"Patient.name.where(use = 'official').family",group:"Patient",type:"string"},{name:"Birth date",expression:"Patient.birthDate",group:"Patient",type:"date"},{name:"Age",expression:"Patient.extension.where(url = 'http://helsenorge.no/fhir/StructureDefinition/sdf-age').value",group:"Patient",type:"number"},{name:"Gender",expression:"iif(%patient.gender.empty() or %patient.gender = 'other' or %patient.gender = 'unknown', 'Ukjent', iif(%patient.gender = 'female', 'Kvinne', 'Mann'))",group:"Patient",type:"string"},{name:"Mobile phone number",expression:"Patient.telecom.where(use = 'mobile' and system = 'phone').value",group:"Patient",type:"string"},{name:"Email",expression:"Patient.telecom.where(use = 'home' and system = 'email').value",group:"Patient",type:"string"},{name:"Address",expression:"Patient.address.where(use = 'home').line.first()",group:"Patient",type:"string"},{name:"Zip code",expression:"Patient.address.where(use = 'home').postalCode",group:"Patient",type:"string"},{name:"Postal address",expression:"Patient.address.where(use = 'home').city",group:"Patient",type:"string"},{name:"Temporary c/o",expression:"Patient.address.where(use = 'temp').line[0]",group:"Patient",type:"string"},{name:"Temporary address",expression:"Patient.address.where(use = 'temp').line[1]",group:"Patient",type:"string"},{name:"Temporary postal code",expression:"Patient.address.where(use = 'temp').line[2]",group:"Patient",type:"string"},{name:"Temporary postal address",expression:"Patient.address.where(use = 'temp').line[3]",group:"Patient",type:"string"},{name:"On behalf of citizen (national identity number)",expression:"RelatedPerson.identifier.where(use = 'official' and (system = 'urn:oid:2.16.578.1.12.4.1.4.1' or system = 'urn:oid:2.16.578.1.12.4.1.4.2')).value",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (name)",expression:"RelatedPerson.name.where(use = 'official').select(given.join(' ') & ' ' & family)",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (birth date)",expression:"RelatedPerson.birthDate",group:"On behalf of citizen",type:"date"},{name:"On behalf of citizen (age)",expression:"RelatedPerson.extension.where(url = 'http://helsenorge.no/fhir/StructureDefinition/sdf-age').value",group:"On behalf of citizen",type:"number"},{name:"On behalf of citizen (gender)",expression:"iif(RelatedPerson.gender.empty() or RelatedPerson.gender = 'other' or RelatedPerson.gender = 'unknown', 'Ukjent', iif(RelatedPerson.gender = 'female', 'Kvinne', 'Mann'))",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (phone number)",expression:"RelatedPerson.telecom.where(use = 'mobile' and system = 'phone').value",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (address)",expression:"RelatedPerson.address.where(use = 'home').line.first()",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (postal code)",expression:"RelatedPerson.address.where(use = 'home').postalCode",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (postal address)",expression:"RelatedPerson.address.where(use = 'home').city",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (temporary c/o)",expression:"RelatedPerson.address.where(use = 'temp').line[0]",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (temporary address)",expression:"RelatedPerson.address.where(use = 'temp').line[1]",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (temporary postal code)",expression:"RelatedPerson.address.where(use = 'temp').line[2]",group:"On behalf of citizen",type:"string"},{name:"On behalf of citizen (temporary postal address)",expression:"RelatedPerson.address.where(use = 'temp').line[3]",group:"On behalf of citizen",type:"string"},{name:"General Practitioner (full name)",expression:"Practitioner.name.where(use = 'official').select(given.join(' ') & ' ' & family)",group:"General Practitioner",type:"string"},{name:"General Practitioner (first name)",expression:"Practitioner.name.where(use = 'official').select(iif(given.count() > 1, given.take(count()-1), given).join(' '))",group:"General Practitioner",type:"string"},{name:"General Practitioner (surname)",expression:"Practitioner.name.where(use = 'official').family",group:"General Practitioner",type:"string"},{name:"General Practitioner (business name)",expression:"Practitioner.contained.first().name",group:"General Practitioner",type:"string"},{name:"General Practitioner (business phone number)",expression:"Practitioner.contained.first().telecom.where(use = 'work' and system = 'phone').value",group:"General Practitioner",type:"string"},{name:"General Practitioner (address 1)",expression:"Practitioner.contained.first().address.where(use = 'work').line.first()",group:"General Practitioner",type:"string"},{name:"General Practitioner (address 2)",expression:"Practitioner.contained.first().address.where(use = 'work').line.skip(1).first()",group:"General Practitioner",type:"string"},{name:"General Practitioner (address 3)",expression:"Practitioner.contained.first().address.where(use = 'work').line.skip(2).first()",group:"General Practitioner",type:"string"},{name:"General Practitioner (postal code)",expression:"Practitioner.contained.first().address.where(use = 'work').postalCode",group:"General Practitioner",type:"string"},{name:"General Practitioner (postal address)",expression:"Practitioner.contained.first().address.where(use = 'work').city",group:"General Practitioner",type:"string"},{name:"General Practitioner (country)",expression:"Practitioner.contained.first().address.where(use = 'work').country",group:"General Practitioner",type:"string"},{name:"Is questionnaire answered on behalf of someone else? (true/false)",expression:"iif(%representative.relationship.coding.where((system = 'http://hl7.org/fhir/v3/RoleCode' or system = 'urn:oid:2.16.578.1.12.4.1.1.7611') and (code = 'PRN' or code = 'GRANTEE' or code = 'FU' or code = 'TD' or code = 'FO' or code = 'VE')).count() > 0, true, false)",group:"Representative relation",type:"boolean"},{name:"Represented by power of attorney? (true/false)",expression:"iif(%representative.relationship.coding.where(system = 'urn:oid:2.16.578.1.12.4.1.1.7611' and code = 'FU').count() > 0, true, false)",group:"Representative relation",type:"boolean"},{name:"Represented by power of attorney for non-consent competent? (true/false)",expression:"iif(%representative.relationship.coding.where(system = 'urn:oid:2.16.578.1.12.4.1.1.7611' and code = 'TD').count() > 0, true, false)",group:"Representative relation",type:"boolean"},{name:"Represented by parent? (true/false)",expression:"iif(%representative.relationship.coding.where(system = 'urn:oid:2.16.578.1.12.4.1.1.7611' and code = 'FO').count() > 0, true, false)",group:"Representative relation",type:"boolean"},{name:"Represented by guardianship? (true/false)",expression:"iif(%representative.relationship.coding.where(system = 'urn:oid:2.16.578.1.12.4.1.1.7611' and code = 'VE').count() > 0, true, false)",group:"Representative relation",type:"boolean"},{name:"Todays date",expression:"today()",group:"Miscellaneous",type:"date"}],ot=function(e,n){return null===e||void 0===e?void 0:e.find((function(e){return e.url===n}))},lt=function(e,n){if(!e)return[n];var t=Object(E.a)(e),i=t.findIndex((function(e){return e.url===n.url}));return i>-1&&t.splice(i,1,n),t},st=function(e,n,t,a){var r,o=t[n.linkId];if(P(o))return function(e,n){var t,i=null===e||void 0===e?void 0:e.sidebarItems[n.linkId],a=void 0,r=i&&i.markdown?i.markdown:"",o=ot(null===(t=n._text)||void 0===t?void 0:t.extension,s.markdown);if(o){var l,c=Object(g.a)(Object(g.a)({},o),{},{valueMarkdown:r});a={extension:lt(null===(l=n._text)||void 0===l?void 0:l.extension,c)}}return Object(g.a)(Object(g.a)({},n),{},{_text:a})}(a[e],o);var l=a[e].items[n.linkId],c=void 0,u=null===l||void 0===l?void 0:l.text,d=ot(null===(r=o._text)||void 0===r?void 0:r.extension,s.markdown);if(d){var p,f=Object(g.a)(Object(g.a)({},d),{},{valueMarkdown:u});c={extension:lt(null===(p=o._text)||void 0===p?void 0:p.extension,f)}}var v=void 0;o.extension&&(v=Object(E.a)(o.extension));var m=ot(v,s.validationtext);if(m){var O=Object(g.a)(Object(g.a)({},m),{},{valueString:null===l||void 0===l?void 0:l.validationText});v=lt(v,O)}var b=ot(v,s.entryFormat);if(b){var h=Object(g.a)(Object(g.a)({},b),{},{valueString:null===l||void 0===l?void 0:l.entryFormatText});v=lt(v,h)}var j=ot(v,s.sublabel);if(j){var x=Object(g.a)(Object(g.a)({},j),{},{valueMarkdown:null===l||void 0===l?void 0:l.sublabel});v=lt(v,x)}var y=ot(v,s.repeatstext);if(y){var I=Object(g.a)(Object(g.a)({},y),{},{valueString:null===l||void 0===l?void 0:l.repeatsText});v=lt(v,I)}var N=function(e,n){if(e)return e.map((function(e){var t,i=null===(t=e.valueCoding)||void 0===t?void 0:t.code,a=i&&n&&n[i]||"";return{valueCoding:Object(g.a)(Object(g.a)({},e.valueCoding),{},{display:a})}}))}(o.answerOption,null===l||void 0===l?void 0:l.answerOptions),R=(null===l||void 0===l?void 0:l.prefix)||"",T=o.type!==i.text&&o.type!==i.string||!(null===l||void 0===l?void 0:l.initial)?o.initial:[{valueString:null===l||void 0===l?void 0:l.initial}];return Object(g.a)(Object(g.a)({},o),{},{text:u,_text:c,extension:v,answerOption:N,prefix:R,initial:T})},ct=function(e,n){var t,i=n.settings,a=[],r=Object(nt.a)(e.extension||[]);try{for(r.s();!(t=r.n()).done;){var o=t.value;Le[o.url]||a.push(o)}}catch(s){r.e(s)}finally{r.f()}for(var l in i)a.push(i[l]);return a};var ut=function e(n,t){return n.map((function(n){return Object(g.a)(Object(g.a)({},t[n.linkId]),{},{item:e(n.items,t)})}))},dt=function e(n,t,i,a){return n.map((function(n){return Object(g.a)(Object(g.a)(Object(g.a)({},t[n.linkId]),st(i,n,t,a)),{},{item:e(n.items,t,i,a)})}))},pt=function(e){var n,t=vt(e);return Object(g.a)(Object(g.a)({},e.qMetadata),{},{contained:null===(n=e.qContained)||void 0===n?void 0:n.filter((function(e){return e.id&&(null===t||void 0===t?void 0:t.includes(e.id))&&e})),resourceType:"Questionnaire",status:e.qMetadata.status||"draft",item:ut(e.qOrder,e.qItems)})},ft=function(e,n,t){var i,a,r=vt(e);return Object(g.a)(Object(g.a)(Object(g.a)({},function(e,n){var t={};return De.forEach((function(e){t[e.propertyName]=n.metaData[e.propertyName]})),Object(g.a)(Object(g.a)(Object(g.a)({},e),t),{},{extension:ct(e,n)})}(e.qMetadata,t[n])),function(e,n){var t,i,a=null===(t=e.meta)||void 0===t?void 0:t.tag;return a&&a[0]?{language:n,meta:Object(g.a)(Object(g.a)({},e.meta),{},{tag:[Object(g.a)(Object(g.a)({},a[0]),{},{code:n,display:null===(i=ke(n))||void 0===i?void 0:i.localDisplay})]})}:{language:n}}(e.qMetadata,n)),{},{contained:(i=e.qContained,a=t[n],!i||i.length<1?[]:i.map((function(e){var n;if(0===En(e).length)return e;var t=null===(n=e.compose)||void 0===n?void 0:n.include.map((function(n){var t;return Object(g.a)(Object(g.a)({},n),{},{concept:null===(t=n.concept)||void 0===t?void 0:t.map((function(n){var t=e.id&&a.contained[e.id]?a.contained[e.id].concepts[n.code]:"";return Object(g.a)(Object(g.a)({},n),{},{display:t})}))})}));return Object(g.a)(Object(g.a)({},e),{},{compose:Object(g.a)(Object(g.a)({},e.compose),{},{include:t})})}))).filter((function(e){return e.id&&(null===r||void 0===r?void 0:r.includes(e.id))})),resourceType:"Questionnaire",status:e.qMetadata.status||"draft",item:dt(e.qOrder,e.qItems,n,t)})};function vt(e){var n=[];return Object.keys(e.qItems).forEach((function(t){var i,a=e.qItems[t];a.type&&a.answerValueSet&&n.push(null===(i=a.answerValueSet)||void 0===i?void 0:i.slice(1))})),Array.from(new Set(n))}var mt,Ot=function(e){if(e.qAdditionalLanguages&&Object.keys(e.qAdditionalLanguages).length>0){var n={resourceType:"Bundle",type:"searchset",total:Object.keys(e.qAdditionalLanguages).length+1,entry:[{resource:pt(e)}].concat(Object(E.a)(function(){var n=[],t=e.qAdditionalLanguages;return t&&Object.keys(t).forEach((function(i){return n.push(ft(e,i,t))})),n}().map((function(e){return{resource:e}}))))};return JSON.stringify(n,it)}return JSON.stringify(pt(e),it)},bt=function e(n,t){n.forEach((function(n){(n.extension||[]).forEach((function(e){t.forEach((function(t){var i;e.url===s.fhirPath&&(null===(i=e.valueString)||void 0===i?void 0:i.replace(" ",""))===t.expression.replace(" ","")&&(n.initial=[t.initialValue])}))})),e(n.item||[],t)}))},ht=function(e,n,t,i){var a=e.qAdditionalLanguages,r=n&&a&&a[n]?ft(e,n,a):pt(e),o=[];return t&&o.push({expression:"iif(%patient.gender.empty() or %patient.gender = 'other' or %patient.gender = 'unknown', 'Ukjent', iif(%patient.gender = 'female', 'Kvinne', 'Mann'))",initialValue:{valueString:t}}),i&&o.push({expression:"Patient.extension.where(url = 'http://helsenorge.no/fhir/StructureDefinition/sdf-age').value",initialValue:{valueInteger:parseInt(i)}}),bt(r.item||[],o),r},Et=(t(115),function(e){var n=e.options,t=e.onChange,i=e.value,a=e.placeholder,r=e.compact,o=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"selector ".concat(r?"compact":""),children:[Object(un.jsxs)("select",{onChange:t,value:i||"",children:[a&&Object(un.jsx)("option",{value:"",disabled:!0,children:a}),n.map((function(e,n){return Object(un.jsx)("option",{value:e.code,children:o(e.display||"")},n)}))]}),Object(un.jsx)("span",{className:"down-arrow-icon"})]})}),gt=function(e){var n=e.showFormFiller,t=e.language,i=Object(Rn.a)().t,a=Object(u.useContext)(bn).state,r=Object(u.useState)(t||a.qMetadata.language||Ce.code),o=Object(b.a)(r,2),l=o[0],s=o[1],c=Object(u.useState)(""),d=Object(b.a)(c,2),p=d[0],f=d[1],v=Object(u.useState)(""),m=Object(b.a)(v,2),O=m[0],h=m[1],g=Object(u.useState)(""),j=Object(b.a)(g,2),x=j[0],y=j[1],I=function(e){var n=e.qMetadata,t=e.qAdditionalLanguages;return Se.filter((function(e){var i;return(null===(i=n.language)||void 0===i?void 0:i.toLowerCase())===e.code.toLowerCase()||t&&t[e.code]}))}(a);function N(){var e=document.getElementById("schemeFrame");e&&(e.src="../../../iframe/index.html")}return Object(un.jsx)("div",{className:"overlay",children:Object(un.jsxs)("div",{className:"iframe-div",children:[Object(un.jsxs)("div",{className:"title align-everything",children:[Object(un.jsx)(An,{type:"x",title:i("Close"),onClick:n}),Object(un.jsx)("h1",{children:i("Preview")}),Object(un.jsxs)("div",{className:"pull-right",children:[Object.keys(a.qItems).filter((function(e){return C(a.qItems[e])})).length>0&&Object(un.jsx)("input",{style:{padding:"0 10px",border:0,width:250},placeholder:i("Recipient component EndpointId"),onBlur:function(e){y(e.target.value),x!==e.target.value&&N()}}),Object(un.jsx)(Et,{value:p,options:[{code:"",display:i("Gender")},{code:"Kvinne",display:i("Female")},{code:"Mann",display:i("Male")},{code:"Ukjent",display:i("Unknown")}],onChange:function(e){f(e.target.value),N()},compact:!0}),Object(un.jsx)(Et,{value:O,options:[{code:"",display:i("Age")}].concat(Object(E.a)(Array.from(Array(120),(function(e,n){return{code:n.toString(),display:n.toString()}})))),onChange:function(e){h(e.target.value),N()},compact:!0}),Object(un.jsx)(Et,{value:l,options:I,onChange:function(e){s(e.target.value),N()},compact:!0})]})]}),Object(un.jsx)("iframe",{id:"schemeFrame",style:{width:"calc(100% - 40px)",height:"70vh",padding:"20px"},onLoad:function(){var e=JSON.stringify(ht(a,l,p,O),it),n=document.getElementById("schemeFrame");n&&n.contentWindow.postMessage({questionnaireString:e,language:l,selectedReceiverEndpoint:x},"*")},src:"../../../iframe/index.html"})]})})},jt=function(e,n,t){var i=function(t){t.target.closest(".ck-body-wrapper")||e.current&&!e.current.contains(t.target)&&n()};Object(u.useEffect)((function(){return t||document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}))},xt=(t(209),function(e){var n=e.showJSONView,t=e.validationErrors,i=Object(Rn.a)().t,a=Object(u.useContext)(bn).state;return Object(un.jsx)("div",{className:"overlay",children:Object(un.jsxs)("div",{className:"structor-helper",children:[Object(un.jsxs)("div",{className:"title",children:[Object(un.jsx)(An,{type:"x",title:i("Back"),onClick:n}),Object(un.jsx)("h1",{children:i("FHIR R4 Questionnaire JSON")})]}),t.length>0?Object(un.jsx)("div",{children:i("Found {0} errors. Questions with errors are marked with a red border.").replace("{0}",t.length.toString())}):Object(un.jsx)("div",{style:{paddingLeft:20,paddingTop:15,textAlign:"left"},children:Object(un.jsx)("h3",{children:i("\u2705  This is valid FHIR.")})}),Object(un.jsx)("code",{className:"json",children:JSON.stringify(JSON.parse(Ot(a)),void 0,2)})]})})}),yt=t(38),It=function(e){var n=e.label,t=e.sublabel,i=e.isOptional,a=e.children,r=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"form-field",children:[n&&Object(un.jsxs)("label",{children:[Object(un.jsx)("span",{children:n}),i&&Object(un.jsx)("span",{className:"form-field__optional",children:" (".concat(r("Optional"),")")})]}),t&&Object(un.jsx)("div",{children:t}),a]})},Nt=(t(210),function(e){var n=e.value,t=e.disabled,i=e.onBlur,a=Object(Rn.a)().t,r=d.a.useRef(null),o=d.a.useState(Ge(n||"")),l=Object(b.a)(o,2),s=l[0],c=l[1];return d.a.useEffect((function(){r.current&&(r.current.value=n||""),c(!n||Ge(n||""))}),[n]),Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("input",{disabled:t,ref:r,placeholder:a("Enter uri.."),defaultValue:n||"",onBlur:i,onChange:function(e){c(!e.target.value||Ge(e.target.value))}}),!s&&Object(un.jsx)("div",{className:"msg-error","aria-live":"polite",children:a("Uri must start with http://, https:// or urn:uuid:")})]})}),Rt=function(e){var n=e.defaultValue,t=e.value,i=e.placeholder,a=e.pattern,r=e.maxLength,o=e.required,l=e.disabled,s=e.name,c=e.onChange,u=e.onBlur;return Object(un.jsx)("input",{type:"text",autoComplete:"off",defaultValue:n,value:t,placeholder:i,pattern:a,maxLength:r,required:o,disabled:l,name:s,onChange:c,onBlur:u})},Tt=function(){return{resourceType:"ValueSet",id:"".concat(x()),version:"1.0",name:"",title:"",date:(new Date).toISOString(),status:"draft",publisher:"",compose:{include:[{system:Be(),concept:[{id:x(),code:"",display:""},{id:x(),code:"",display:""}]}]}}},At=function(e){var n,t=Object(Rn.a)().t,i=Object(u.useContext)(bn),a=i.state,r=i.dispatch,o=Object(u.useState)(Object(g.a)({},Tt())),l=Object(b.a)(o,2),s=l[0],c=l[1],d=a.qContained,p=function(e,n,t){var i,a,r=null===(i=Object(g.a)({},s.compose).include[0])||void 0===i||null===(a=i.concept)||void 0===a?void 0:a.find((function(e){return e&&e.id===t}));r&&(r[n]=e),"display"===n&&r&&(r.code=qn(e)),c(Object(g.a)({},s))},f=function(e){var n;if(e.source&&e.destination&&e.draggableId){var t,i=e.source.index,a=e.destination.index,r=Object(g.a)({},s.compose),o=null===(n=r.include[0].concept)||void 0===n?void 0:n.splice(i,1);if(i!==a&&o)null===(t=r.include[0].concept)||void 0===t||t.splice(a,0,o[0]),c(Object(g.a)({},s))}};return Object(un.jsx)(Cn,{close:e.close,title:t("Predefined values"),size:"large",bottomCloseText:t("Close"),children:Object(un.jsxs)("div",{className:"predefined-container",children:[Object(un.jsxs)("div",{children:[Object(un.jsx)(It,{label:t("Title"),children:Object(un.jsx)(Rt,{value:s.title,onChange:function(e){return c(Object(g.a)(Object(g.a)({},s),{},{title:e.target.value}))}})}),Object(un.jsx)(It,{label:t("Teknisk-navn"),children:Object(un.jsx)(Rt,{value:s.name,onChange:function(e){return c(Object(g.a)(Object(g.a)({},s),{},{name:e.target.value}))}})}),Object(un.jsx)(It,{label:t("Publisher"),children:Object(un.jsx)(Rt,{value:s.publisher,onChange:function(e){return c(Object(g.a)(Object(g.a)({},s),{},{publisher:e.target.value}))}})}),Object(un.jsxs)("div",{className:"btn-group center-text",children:[Object(un.jsx)(Tn,{onClick:function(){var e,n;null===s||void 0===s||null===(e=s.compose)||void 0===e||null===(n=e.include[0].concept)||void 0===n||n.push({id:x(),code:"",display:""}),c(Object(g.a)({},s))},title:t("+ New option"),variant:"secondary"}),Object(un.jsx)(Tn,{onClick:function(){r({type:me,item:s}),c(Object(g.a)({},Tt()))},title:t("Save >"),variant:"primary"})]}),Object(un.jsx)("div",{className:"value-set",children:null===(n=s.compose)||void 0===n?void 0:n.include.map((function(e,n){return Object(un.jsxs)("div",{children:[Object(un.jsx)(It,{label:t("System"),children:Object(un.jsx)(Nt,{disabled:n>0,value:e.system,onBlur:function(e){return n=e.target.value,Object(g.a)({},s.compose).include[0].system=n,void c(Object(g.a)({},s));var n}})}),Object(un.jsx)(yt.a,{onDragEnd:f,children:Object(un.jsx)(yt.c,{droppableId:"droppable-new-value-set-".concat(e.system),type:"value-set",children:function(i,a){var r,o;return Object(un.jsxs)("div",{ref:i.innerRef,style:(o=a.isDraggingOver,{background:o?"lightblue":"transparent"}),children:[null===(r=e.concept)||void 0===r?void 0:r.map((function(i,a){return Object(un.jsx)(yt.b,{draggableId:i.id||"1",index:a,children:function(a,r){var o,l,u,d;return Object(un.jsxs)("div",Object(g.a)(Object(g.a)({ref:a.innerRef},a.draggableProps),{},{style:(u=r.isDragging,d=a.draggableProps.style,Object(g.a)({userSelect:"none",background:u?"lightgreen":"transparent",cursor:"pointer"},d)),className:"answer-option-item align-everything",children:[Object(un.jsx)("span",Object(g.a)({className:"reorder-icon","aria-label":"reorder element"},a.dragHandleProps)),Object(un.jsxs)("div",{className:"answer-option-content align-everything",children:[Object(un.jsx)(Rt,{disabled:n>0,value:i.display,placeholder:t("Enter a title.."),onChange:function(e){return p(e.target.value,"display",i.id)}}),Object(un.jsx)(Rt,{disabled:n>0,value:i.code,placeholder:t("Enter a value.."),onChange:function(e){return p(e.target.value,"code",i.id)}})]}),0===n&&(null===(o=e.concept)||void 0===o?void 0:o.length)&&(null===(l=e.concept)||void 0===l?void 0:l.length)>2&&Object(un.jsx)("button",{type:"button",onClick:function(){return function(e){var n,t,i=Object(g.a)({},s.compose),a=null===(n=i.include[0].concept)||void 0===n?void 0:n.findIndex((function(n){return n&&n.id===e}));(a||0===a)&&(null===(t=i.include[0].concept)||void 0===t||t.splice(a,1)),c(Object(g.a)({},s))}(i.id)},name:t("Remove element"),className:"align-everything"})]}))}},i.id)})),i.placeholder]})}})})]},e.system)}))})]}),Object(un.jsx)("div",{children:null===d||void 0===d?void 0:d.map((function(e){return Object(un.jsxs)("div",{children:[Object(un.jsxs)("p",{children:[Object(un.jsx)("strong",{children:e.title})," (",e.name,")"," ",(n=e.url,n!==Pe&&Object(un.jsx)(Tn,{title:"Endre",type:"button",variant:"secondary",onClick:function(){return function(e){var n=JSON.stringify(e);c(JSON.parse(n))}(e)}}))]}),Object(un.jsx)("ul",{children:En(e).map((function(e){return Object(un.jsxs)("li",{children:[e.display," (",e.code,")"]},e.code)}))})]},e.id);var n}))})]})})},Ct=(t(212),t.p+"static/media/alert-circle-outline.2afd351d.svg"),St=function(e){var n=e.close,t=d.a.useRef(null),i=Object(Rn.a)().t,a=Object(u.useContext)(bn),r=a.dispatch,o=a.state,l=Object(u.useState)(""),s=Object(b.a)(l,2),c=s[0],p=s[1],f=Object(u.useState)(),v=Object(b.a)(f,2),h=v[0],g=v[1],j=Object(u.useState)(!1),y=Object(b.a)(j,2),I=y[0],N=y[1],R=Object(u.useState)(),T=Object(b.a)(R,2),A=T[0],C=T[1],S=Object(u.useState)([]),k=Object(b.a)(S,2),D=k[0],L=k[1],w=Object(u.useState)(""),P=Object(b.a)(w,2),q=P[0],_=P[1];function V(){return M.apply(this,arguments)}function M(){return(M=Object(O.a)(m.a.mark((function e(){var n,t,a,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if((n=e.sent).ok&&n.json){e.next=6;break}return t="".concat(i("There was en error with status:")," ").concat(n.status),e.abrupt("return",{error:t});case 6:return e.next=8,n.json();case 8:if("Bundle"===(a=e.sent).resourceType&&0!=a.entry.length){e.next=11;break}return e.abrupt("return",{error:i("This resource does not support the FHIR protocol")});case 11:return r=a.entry.map((function(e){return e.resource})),o=r.map((function(e){return{resourceType:e.resourceType,id:e.id?e.id:"pre-".concat(x()),version:e.version||"1.0",name:e.name,title:e.title||e.name,status:e.status,publisher:e.publisher,compose:e.compose}})),L(o.map((function(e){return e.id}))),e.abrupt("return",{valueSet:o});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){var e=Object(O.a)(m.a.mark((function e(n){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),C(null),g(null),N(!0),e.prev=4,e.next=7,V();case 7:t=e.sent,setTimeout((function(){var e;N(!1),t.error?g(t.error):0!==(null===(e=t.valueSet)||void 0===e?void 0:e.length)?C(t.valueSet):g(i("Found no ValueSet at the endpoint"))}),1200),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),g(i("This resource does not support the FHIR protocol")),N(!1);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(m.a.mark((function e(n){var i,a,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.target.files&&n.target.files.length>0)){e.next=12;break}return i=Array.from(n.target.files).map((function(e){var n=new FileReader;return new Promise((function(t){n.onload=function(){return t(n.result)},n.onerror=function(){_("Could not read uploaded file")},n.readAsText(e)}))})),e.next=4,Promise.all(i);case 4:a=e.sent,r=[],a.forEach((function(e){var n=JSON.parse(e);"Bundle"===n.resourceType&&n.entry?n.entry.forEach((function(e){var n=e.resource;"ValueSet"===n.resourceType&&r.push(n)})):"ValueSet"===n.resourceType&&r.push(n)})),l=r.filter((function(e){var n;return-1===(null===(n=o.qContained)||void 0===n?void 0:n.findIndex((function(n){return n.id===e.id})))})),C([].concat(Object(E.a)(A||[]),Object(E.a)(l))),L([].concat(Object(E.a)(D),Object(E.a)(l.map((function(e){return e.id||""}))))),t.current&&(t.current.value=""),_("");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(un.jsx)(Cn,{close:n,title:i("Import ValueSet"),size:"large",children:Object(un.jsxs)("div",{children:[Object(un.jsx)(It,{label:i("Enter a location to import the ValueSets from"),children:Object(un.jsxs)("form",{className:"input-btn",onSubmit:function(e){return U(e)},children:[Object(un.jsx)("input",{placeholder:"https:// .. /ValueSet or https:// .. /ValueSet/[id]",title:i("Make sure the URL ends with /ValueSet or /Valueset/[id]"),onChange:function(e){return n=e.target.value,p(n),void(""===n&&(g(null),C(null)));var n},pattern:"[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?",type:"url",value:c,required:!0,autoFocus:!0}),Object(un.jsx)(Tn,{title:i("search"),variant:"primary",type:"submit"})]})}),Object(un.jsx)("input",{type:"file",ref:t,onChange:F,accept:"application/JSON",style:{display:"none"},multiple:!0}),Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{children:i("Upload ValueSets as json files. Accepts a Bundle or ValueSet in a single file. It is possible to upload several files at once")}),Object(un.jsx)("div",{children:Object(un.jsx)(Tn,{title:i("Upload ValueSet(s)"),type:"button",variant:"secondary",onClick:function(){var e;null===(e=t.current)||void 0===e||e.click()}})}),q&&Object(un.jsx)("div",{children:i(q)})]}),I&&Object(un.jsx)("div",{className:"spinning",children:Object(un.jsx)("i",{className:"ion-load-c"})}),h&&Object(un.jsxs)("p",{className:"align-everything",children:[Object(un.jsx)("img",{height:25,alt:"error",src:Ct})," ",h]}),A&&Object(un.jsx)("div",{children:A.map((function(e){return Object(un.jsxs)("div",{children:[Object(un.jsxs)("p",{children:[Object(un.jsx)("input",{type:"checkbox","aria-label":"Add or remove value-set",defaultChecked:!0,onChange:function(n){return function(e,n){var t=Object(E.a)(D).findIndex((function(e){return e===n}));if(e&&n)L([].concat(Object(E.a)(D),[n]));else{var i=Object(E.a)(D);i.splice(t,1),L(i)}}(n.target.checked,null===e||void 0===e?void 0:e.id)}})," ",Object(un.jsx)("strong",{children:e.title})]}),Object(un.jsx)("ul",{children:En(e).map((function(e){return Object(un.jsxs)("li",{children:[e.display," (",e.code,")"]},e.code)}))})]},e.id)}))}),A&&Object(un.jsx)("div",{className:"button-btn",children:Object(un.jsxs)("div",{children:[Object(un.jsx)("p",{children:i("Add ({0} ValueSet) in predefined valuesets").replace("{0}",D.length.toString())}),Object(un.jsx)(Tn,{title:i("Import"),variant:"primary",type:"button",onClick:function(){var e=null===A||void 0===A?void 0:A.filter((function(e){return e.id&&D.includes(e.id)}));e&&(null===e||void 0===e?void 0:e.length)>0&&r({type:Oe,items:e}),n()}})]})})]})})},kt=[o.equal,o.notEqual],Dt=function(e,n,t,i){return{linkId:e,index:i,errorProperty:n,errorReadableText:t}},Lt=function(e,n,t,i){var a=[];return n.forEach((function(n){return wt(e,n,t,i,a)})),a},wt=function e(n,t,a,r,l){var c=a[t.linkId];l.push.apply(l,Object(E.a)(function(e,n,t){var i=[];return Object.keys(n).filter((function(e){return e===t.linkId})).length>1&&i.push(Dt(t.linkId,"linkId",e("LinkId is already in use"))),i}(n,a,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];return(n.type===i.group||n.type===i.display||q(n)||w(n)||L(n)||P(n))&&n.required&&t.push(Dt(n.linkId,"required",e("Question is required, but cannot be required"))),t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];return n.type!==i.date&&n.type!==i.dateTime||(n.extension||[]).forEach((function(i,a){var r,o;(i.url===s.fhirPathMinValue||i.url===s.fhirPathMaxValue)&&1!==(null===(r=i.valueString)||void 0===r?void 0:r.split(" ").filter(Boolean).length)&&4!==(null===(o=i.valueString)||void 0===o?void 0:o.split(" ").filter(Boolean).length)&&t.push(Dt(n.linkId,"extension",e("Error in FHIRpath date validation"),a))})),t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];return(n.code||[]).forEach((function(i,a){i.code||t.push(Dt(n.linkId,"code.code",e('Code does not have "code" property'),a)),i.system||t.push(Dt(n.linkId,"code.system",e('Code does not have "system" property'),a)),i.system&&!Ge(i.system)&&t.push(Dt(n.linkId,"code",e("Code does not have a valid system"),a))})),t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];return(n.answerOption||[]).forEach((function(i,a){var r,o;(null===(r=i.valueCoding)||void 0===r?void 0:r.system)&&!Ge(null===(o=i.valueCoding)||void 0===o?void 0:o.system)&&t.push(Dt(n.linkId,"code",e("answerOption does not have a valid system"),a))})),t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];if(n.type===i.quantity){var a,r,o,l=(n.extension||[]).find((function(e){return e.url===s.questionnaireUnit}));l&&(null===(a=l.valueCoding)||void 0===a?void 0:a.system)&&!Ge(null===(r=l.valueCoding)||void 0===r?void 0:r.system)&&t.push(Dt(n.linkId,"code",e("quantity extension does not have a valid system"))),l&&!(null===(o=l.valueCoding)||void 0===o?void 0:o.code)&&t.push(Dt(n.linkId,"code",e("quantity extension does not have code")))}return t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n){var t=[];return(n.extension||[]).forEach((function(i,a){-1===Object.keys(i).indexOf("url")&&t.push(Dt(n.linkId,"extension",e('Extension has no "url" property'),a)),1!==Object.keys(i).filter((function(e){return"value"===e.substr(0,5)})).length&&t.push(Dt(n.linkId,"extension",e("Extension does not have value[x], or has more than one value[x]"),a))})),t}(n,c))),l.push.apply(l,Object(E.a)(function(e,n,t){var i=[];if(n.initial&&n.initial[0].valueCoding)if(n.answerOption)n.answerOption.find((function(e){var t,i,a,r;return n.initial&&n.initial[0]&&(null===(t=n.initial[0].valueCoding)||void 0===t?void 0:t.code)===(null===(i=e.valueCoding)||void 0===i?void 0:i.code)&&(null===(a=n.initial[0].valueCoding)||void 0===a?void 0:a.system)===(null===(r=e.valueCoding)||void 0===r?void 0:r.system)}))||i.push(Dt(n.linkId,"initial",e("Initial value is not a possible value")));else if(n.answerValueSet){var a=t.find((function(e){return"#".concat(e.id)===n.answerValueSet}));a?En(a).find((function(e){var t,i;return n.initial&&n.initial[0]&&(null===(t=n.initial[0].valueCoding)||void 0===t?void 0:t.code)===e.code&&(null===(i=n.initial[0].valueCoding)||void 0===i?void 0:i.system)===e.system}))||i.push(Dt(n.linkId,"initial",e("Initial value is not a possible value"))):i.push(Dt(n.linkId,"initial",e("ValueSet of initial value does not exist")))}return i}(n,c,r))),l.push.apply(l,Object(E.a)(function(e,n,t,a){var r,l=[];return null===(r=t.enableWhen)||void 0===r||r.forEach((function(r,c){var u,d=!!n[r.question];if(d||l.push(Dt(t.linkId,"enableWhen.question",e("This enableWhen refers to a question with linkId which does not exist"),c)),3!==Object.keys(r).length&&l.push(Dt(t.linkId,"enableWhen",e("enableWhen is not configured correctly. There are too many answer[x]-properties"),c)),d&&n[r.question].type===i.quantity){var p,f,v,m=null===(p=n[r.question].extension)||void 0===p?void 0:p.find((function(e){return e.url===s.questionnaireUnit}));m&&r.answerQuantity.system===(null===(f=m.valueCoding)||void 0===f?void 0:f.system)&&r.answerQuantity.code===(null===(v=m.valueCoding)||void 0===v?void 0:v.code)||l.push(Dt(t.linkId,"enableWhen.answerQuantity",e("Quantity does not match system and code"),c))}if(d&&(n[r.question].type===i.choice||n[r.question].type===i.openChoice))if(cn(n[r.question])&&r.operator!==o.exists)(null===(u=n[r.question].extension)||void 0===u?void 0:u.find((function(e){var n;return(null===(n=e.valueReference)||void 0===n?void 0:n.reference)===r.answerReference.reference})))||l.push(Dt(t.linkId,"enableWhen.answerReference",e("Recipient set in this enableWhen does not exist"),c));else if(n[r.question].answerOption&&r.operator!==o.exists){var O;-1===kt.indexOf(r.operator)?l.push(Dt(t.linkId,"enableWhen.operator",e("Operator used in this enableWhen is not supported"),c)):(null===(O=n[r.question].answerOption)||void 0===O?void 0:O.find((function(e){var n,t;return(null===(n=e.valueCoding)||void 0===n?void 0:n.system)===r.answerCoding.system&&(null===(t=e.valueCoding)||void 0===t?void 0:t.code)===r.answerCoding.code})))||l.push(Dt(t.linkId,"enableWhen.answerCoding",e("Coding expected in this enableWhen does not exist"),c))}else if(n[r.question].answerValueSet&&r.operator!==o.exists)if(-1===kt.indexOf(r.operator))l.push(Dt(t.linkId,"enableWhen.operator",e("Operator used in this enableWhen is not supported"),c));else{var b=a.find((function(e){return"#".concat(e.id)===n[r.question].answerValueSet}));b?En(b).find((function(e){return r.answerCoding&&e.code===r.answerCoding.code&&e.system===r.answerCoding.system}))||l.push(Dt(t.linkId,"enableWhen.answerCoding",e("Coding expected in this enableWhen does not exist"),c)):l.push(Dt(t.linkId,"enableWhen.answerCoding",e("The ValueSet referenced in this enableWhen does not exist"),c))}})),l}(n,a,c,r))),t.items.forEach((function(t){return e(n,t,a,r,l)}))},Pt=function(e,n,t,a){var r=[];a&&(n.filter((function(e){var n,a,r,o;return t[e.linkId].type===i.text&&(null===(n=t[e.linkId].extension)||void 0===n||null===(a=n.find((function(e){return e.url===s.itemControl})))||void 0===a||null===(r=a.valueCodeableConcept)||void 0===r||null===(o=r.coding)||void 0===o?void 0:o.find((function(e){return e.code===y.sidebar})))})).forEach((function(n){return function(e,n,t,i){Object.keys(t).forEach((function(a,r){t[a].sidebarItems[n.linkId]&&t[a].sidebarItems[n.linkId].markdown||i.push(Dt(n.linkId,"sidebar.markdown",e("Translation not found for sidebar item"),r))}))}(e,n,a,r)})),n.filter((function(e){var n,i,a,r;return!(null===(n=t[e.linkId].extension)||void 0===n||null===(i=n.find((function(e){return e.url===s.itemControl})))||void 0===i||null===(a=i.valueCodeableConcept)||void 0===a||null===(r=a.coding)||void 0===r?void 0:r.find((function(e){return e.code===y.sidebar})))})).forEach((function(n){return function(e,n,t,i){Object.keys(t).forEach((function(a,r){t[a].items[n.linkId]&&t[a].items[n.linkId].text||i.push(Dt(n.linkId,"items.text",e("Translation not found for form item"),r))}))}(e,n,a,r)})));return r},qt=function(e){var n=Object(Rn.a)().t;return Object(un.jsxs)(Cn,{close:e.onClose,title:n("Validation"),bottomCloseText:n("Close"),children:[e.validationErrors.length>0?Object(un.jsx)("div",{className:"msg-error",children:n("Found {0} errors. Questions with errors are marked with a red border.").replace("{0}",e.validationErrors.length.toString())}):Object(un.jsx)("div",{children:n("FHIR validation completed and no errors were found!")}),e.translationErrors.length>0?Object(un.jsx)("div",{className:"msg-error",style:{paddingTop:"10px"},children:n("Found {0} missing translations.").replace("{0}",e.translationErrors.length.toString())}):Object(un.jsx)(un.Fragment,{children:e.hasTranslations&&Object(un.jsx)("div",{style:{paddingTop:"10px"},children:n("Found no translations errors!")})})]})};!function(e){e.none="none",e.file="file",e.more="more"}(mt||(mt={}));var _t,Vt=function(e){e.showFormFiller;var n=e.setValidationErrors,t=e.validationErrors,i=e.translationErrors,a=e.setTranslationErrors,r=e.toggleFormDetails,o=Object(Rn.a)(),l=(o.i18n,o.t),s=Object(u.useContext)(bn),c=s.state,d=s.dispatch,p=Object(u.useState)(mt.none),f=Object(b.a)(p,2),v=f[0],m=f[1],O=Object(u.useState)(!1),h=Object(b.a)(O,2),E=h[0],g=h[1],j=Object(u.useState)(!1),x=Object(b.a)(j,2),y=x[0],I=x[1],N=Object(u.useState)(!1),R=Object(b.a)(N,2),T=R[0],A=R[1],C=Object(u.useState)(!1),S=Object(b.a)(C,2),k=S[0],D=S[1],L=Object(u.useRef)(null),w=function(){m(mt.none)};jt(L,w,v===mt.none);var P=function(e){e(),w()};function q(){var e=Ot(c),n="".concat(function(){var e=c.qMetadata.name||"survey";e=e.length>40?e.substring(0,40)+"...":e;var n=c.qMetadata.version?"-v".concat(c.qMetadata.version):"";return c.qAdditionalLanguages&&Object.values(c.qAdditionalLanguages).length<1?"".concat(e,"-").concat(c.qMetadata.language).concat(n):"".concat(e).concat(n)}(),".").concat("json"),t="application/json;charset=utf-8;";if(window.navigator&&window.navigator.msSaveOrOpenBlob){var i=new Blob([decodeURIComponent(encodeURI(e))],{type:t});navigator.msSaveOrOpenBlob(i,n)}else{var a=document.createElement("a");a.download=n,a.href="data:"+t+","+encodeURIComponent(e),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}d({type:be})}var _=sessionStorage.getItem("profile"),V=_?JSON.parse(_):null;var M;return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsxs)("header",{ref:L,children:[Object(un.jsx)("div",{className:"pull-left form-title",children:Object(un.jsx)("h1",{children:"CardinalKit Survey Builder"})}),Object(un.jsxs)("div",{className:"pull-right",children:[V&&V.name&&Object(un.jsx)("p",{className:"truncate profile-name",title:l("You are logged in as {0}").replace("{0}",V.name),children:"".concat(V.given_name," ").concat(V.family_name)}),Object(un.jsx)(Tn,{title:l("Edit Metadata"),onClick:function(){return r()}}),Object(un.jsx)(Tn,{title:l("Preview"),onClick:function(){n(Lt(l,c.qOrder,c.qItems,c.qContained||[])),A(!T)}}),Object(un.jsx)(Tn,{title:l("Download"),onClick:function(){return q()}})]}),v===mt.more&&Object(un.jsxs)("div",{className:"menu",children:[Object(un.jsx)(Tn,{title:l("Validate"),onClick:function(){n(Lt(l,c.qOrder,c.qItems,c.qContained||[])),a(Pt(l,c.qOrder,c.qItems,c.qAdditionalLanguages)),D(!0)}}),Object(un.jsx)(Tn,{title:l("Import choices"),onClick:function(){return P((function(){return I(!y)}))}}),Object(un.jsx)(Tn,{title:l("Choices"),onClick:function(){return P((function(){return g(!E)}))}})]})]}),k&&Object(un.jsx)(qt,{validationErrors:t,translationErrors:i,hasTranslations:(M=c.qAdditionalLanguages,!!M&&Object.keys(M).length>0),onClose:function(){return D(!1)}}),E&&Object(un.jsx)(At,{close:function(){return g(!E)}}),y&&Object(un.jsx)(St,{close:function(){return I(!y)}}),T&&Object(un.jsx)(xt,{showJSONView:function(){return A(!T)},validationErrors:t})]})},Mt=(t(213),function e(n,t){if(0===n.length)return t;var i=t.findIndex((function(e){return e.linkId===n[0]}));return e(n.slice(1),t[i].items)}),Ut=function(e,n,t){var i=t?n[t]:void 0;return e.filter((function(e){return!A(n[e.linkId],i)}))},Ft=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4?arguments[4]:void 0,r=Ut(n,t,a).findIndex((function(n){return n.linkId===e}))+1;return i?"".concat(i,".").concat(r):"".concat(r)},Bt=(t(214),t(215),function(e){var n=Object(u.useState)(!1),t=Object(b.a)(n,2),i=t[0],a=t[1];return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("button",{className:"accordion".concat(i?" active":""),onClick:function(e){e.preventDefault(),a(!i)},children:e.title}),Object(un.jsx)("div",{className:"panel".concat(i?" active":""),children:i&&Object(un.jsx)("div",{className:"content",children:e.children})})]})});!function(e){e[e.DEFAULT=1]="DEFAULT",e[e.SAME_WINDOW=2]="SAME_WINDOW"}(_t||(_t={}));t(216);var Gt,Wt=function(e){var n=e.onChange,t=e.value,i=e.label,a=e.disabled;return Object(un.jsxs)("div",{className:"switch-btn",children:[Object(un.jsx)("label",{children:i}),Object(un.jsxs)("label",{className:"switch",children:[Object(un.jsx)("input",{type:"checkbox",checked:t,onChange:n,disabled:a}),Object(un.jsx)("span",{className:"slider"})]})]})},Ht=function(e){var n=e.item,t=Object(Rn.a)().t,i=Object(u.useContext)(bn),a=i.state,r=a.qItems,o=a.qOrder,l=a.qMetadata,c=i.dispatch,d=Object(u.useState)(!1),p=Object(b.a)(d,2),f=p[0],v=p[1],m=Object(u.useState)(void 0),O=Object(b.a)(m,2),h=O[0],E=O[1],g=Object(u.useState)(void 0),j=Object(b.a)(g,2),x=j[0],y=j[1],I=Object(u.useState)(!1),N=Object(b.a)(I,2),R=N[0],T=N[1];Object(u.useEffect)((function(){T(q(n))}),[n]),Object(u.useLayoutEffect)((function(){E(H(n.extension?n.extension:[])),y(H(l.extension?l.extension:[]))}),[n.extension,l.extension]),Object(u.useLayoutEffect)((function(){h||x||v(!1),h===_t.DEFAULT&&v(!1),h===_t.SAME_WINDOW&&v(!0),h||x!==_t.SAME_WINDOW||v(!0)}),[h,x]);var A=function(e,n,t){n||t?n===_t.DEFAULT&&t===_t.SAME_WINDOW?F(e,s.hyperlinkTarget,c):n!==_t.DEFAULT||t?n!==_t.SAME_WINDOW||t?n||t!==_t.SAME_WINDOW||U(e,W(_t.DEFAULT),c):F(e,s.hyperlinkTarget,c):U(e,W(),c):U(e,W(),c)};return Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{label:t("Open item links in same tab"),value:f,onChange:function(){!function(){if(A(n,h,x),R){var e=function(e,n){var t=n.find((function(n){return n.linkId===e}));return null===t||void 0===t?void 0:t.items[0].linkId}(n.linkId,o);e&&A(r[e],h,x)}}()}})})},zt=t.p+"static/media/arrow-undo-outline.e3d7c780.svg",Kt=(t(217),function(e){var n=Object(Rn.a)().t,t=Object(u.useState)(function(e){if(!e)return"";return e.valueString||""}(e.initial)),i=Object(b.a)(t,2),a=i[0],r=i[1];return Object(un.jsx)(It,{label:n("Initial value"),children:Object(un.jsx)(Rt,{value:a,onChange:function(e){return r(e.target.value)},onBlur:function(){var n=a?{valueString:a}:void 0;e.dispatchAction(n)}})})}),Yt=function(e){var n=Object(Rn.a)().t,t=Object(u.useState)(function(e){var n;if(!e)return"";return(null===(n=e.valueInteger)||void 0===n?void 0:n.toString())||""}(e.initial)),i=Object(b.a)(t,2),a=i[0],r=i[1];function o(e){return/^\d+$/.test(e)}return Object(un.jsx)(It,{label:n("Initial value"),children:Object(un.jsx)("input",{type:"number",value:a,onChange:function(e){(o(e.target.value)||""===e.target.value)&&r(e.target.value)},onBlur:function(){var n=o(a)?{valueInteger:parseInt(a)}:void 0;e.dispatchAction(n)}})})},Qt=function(e){var n=Object(Rn.a)().t,t=Object(u.useState)(function(e){var n;if(!e)return"";return(null===(n=e.valueDecimal)||void 0===n?void 0:n.toString())||""}(e.initial)),i=Object(b.a)(t,2),a=i[0],r=i[1];function o(e){return!isNaN(parseFloat(e))}return Object(un.jsx)(It,{label:n("Initial value"),children:Object(un.jsx)("input",{type:"number",value:a,onChange:function(e){var n=e.target.value,t=n.replace(/,/g,".");(o(t)||"-"===n||""===n)&&r(t)},onBlur:function(){var n=o(a)?{valueDecimal:parseFloat(a)}:void 0;e.dispatchAction(n)}})})},Xt=function(e){var n=Object(Rn.a)().t,t=Object(u.useState)(function(e){if(!e)return!1;return e.valueBoolean||!1}(e.initial)),i=Object(b.a)(t,2),a=i[0],r=i[1];return Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){var n=!a;r(n);var t=n?{valueBoolean:n}:void 0;e.dispatchAction(t)},value:a,label:n("Initial value")})})},Jt=function(e){var n=Object(Rn.a)().t,t=Object(u.useContext)(bn).state.qContained,i=Object(u.useState)(function(){var n,t,i=e.item.initial;return i&&i[0]&&(null===(n=i[0])||void 0===n||null===(t=n.valueCoding)||void 0===t?void 0:t.code)||""}()),a=Object(b.a)(i,2),r=a[0],o=a[1],l=Object(u.useState)(function(){var n=e.item.initial;return void 0!==n&&void 0!==n[0]&&void 0!==n[0].valueCoding}()),s=Object(b.a)(l,2),c=s[0],d=s[1];return Object(un.jsxs)(It,{children:[Object(un.jsx)(Wt,{label:n("Initial value"),onChange:function(){var n=!c;d(n),n||(o(""),e.dispatchAction(void 0))},value:c}),c&&function(){var n,i;e.item.answerValueSet?n=function(){var n=e.item.answerValueSet,i=null===t||void 0===t?void 0:t.find((function(e){return"#".concat(e.id)===n}));return En(i)}():n=(null===(i=e.item.answerOption)||void 0===i?void 0:i.map((function(e){var n,t,i;return{system:(null===(n=e.valueCoding)||void 0===n?void 0:n.system)||"",code:(null===(t=e.valueCoding)||void 0===t?void 0:t.code)||"",display:(null===(i=e.valueCoding)||void 0===i?void 0:i.display)||""}})))||[];return Object(un.jsx)(un.Fragment,{children:n.map((function(n){return t=n,Object(un.jsxs)("div",{className:"answerOption",children:[Object(un.jsx)("input",{type:"radio",name:t.system,id:t.code,checked:t.code===r,onChange:function(n){n.target.checked&&o(t.code||"");var i={valueCoding:{system:t.system,code:t.code}};e.dispatchAction(i)}})," ",Object(un.jsx)("label",{htmlFor:t.code,children:t.display})]});var t}))})}()]})},Zt=function(e){var n=Object(u.useContext)(bn).dispatch,t=function(t){var i=t?[t]:void 0;n(ye(e.item.linkId,r.initial,i))};return Object(un.jsx)(un.Fragment,{children:function(){var n=e.item.initial?e.item.initial[0]:void 0;switch(e.item.type){case i.string:case i.text:return Object(un.jsx)(Kt,{initial:n,dispatchAction:t});case i.integer:return Object(un.jsx)(Yt,{initial:n,dispatchAction:t});case i.quantity:case i.decimal:return Object(un.jsx)(Qt,{initial:n,dispatchAction:t});case i.boolean:return Object(un.jsx)(Xt,{initial:n,dispatchAction:t});case i.choice:case i.openChoice:return Object(un.jsx)(Jt,{item:e.item,dispatchAction:t})}}()})},$t=t(157),ei=t(158),ni=t.n(ei),ti=(t(231),function(e){var n=Object(u.useState)(e.data),t=Object(b.a)(n,2),i=t[0],a=t[1],r={toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","|","undo","redo"],language:"no-nb",placeholder:e.placeholder||""};return Object(un.jsx)($t.CKEditor,{data:i,onChange:function(e,n){a(n.getData())},onBlur:function(n,t){e.onBlur&&e.onBlur(t.getData())},editor:ni.a,config:r,disabled:e.disabled})}),ii=function(e){return!!e.options},ai=function(e){var n=e.options,t=e.onChange,i=e.value,a=e.placeholder,r=e.compact,o=e.displaySelectedValue,l=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"selector ".concat(r?"compact":""),children:[Object(un.jsxs)("select",{onChange:t,value:i||"",children:[a&&Object(un.jsx)("option",{value:"",disabled:!0,children:a}),n.map((function(e,n){if(ii(e)){var t=e;return Object(un.jsx)("optgroup",{label:l(e.display),children:t.options.map((function(e,t){return Object(un.jsx)("option",{value:e.code,children:l(e.display)},"".concat(n,"-").concat(t))}))},n)}var i=e;if(i)return Object(un.jsx)("option",{value:i.code,children:i.display},n)}))]}),Object(un.jsx)("span",{className:"down-arrow-icon"}),o&&Object(un.jsx)("div",{className:"select-display-value",children:i})]})};!function(e){e.NONE="NONE",e.CUSTOM="CUSTOM"}(Gt||(Gt={}));var ri,oi,li,si,ci,ui,di,pi,fi,vi,mi,Oi,bi,hi,Ei,gi,ji,xi,yi,Ii,Ni,Ri,Ti,Ai,Ci,Si,ki,Di,Li,wi,Pi,qi,_i,Vi,Mi,Ui,Fi,Bi,Gi,Wi,Hi,zi,Ki,Yi,Qi,Xi,Ji,Zi,$i,ea,na,ta,ia,aa,ra,oa,la,sa,ca,ua,da,pa,fa,va,ma,Oa,ba,ha,Ea,ga,ja,xa,ya,Ia,Na,Ra,Ta,Aa,Ca,Sa,ka,Da,La,wa,Pa,qa,_a,Va,Ma,Ua,Fa,Ba,Ga,Wa,Ha,za,Ka,Ya,Qa,Xa,Ja,Za,$a,er,nr,tr,ir,ar,rr,or,lr,sr,cr,ur,dr,pr,fr,vr,mr,Or,br,hr,Er,gr,jr,xr,yr,Ir,Nr,Rr,Tr,Ar,Cr,Sr,kr,Dr,Lr,wr,Pr,qr,_r,Vr,Mr,Ur,Fr,Br,Gr,Wr,Hr,zr,Kr,Yr,Qr,Xr,Jr,Zr,$r,eo,no,to,io,ao,ro,oo,lo,so,co,uo,po,fo,vo,mo,Oo,bo,ho,Eo,go,jo,xo,yo,Io,No,Ro,To,Ao,Co,So,ko,Do,Lo,wo,Po,qo,_o,Vo,Mo,Uo,Fo,Bo,Go,Wo,Ho,zo,Ko,Yo,Qo,Xo,Jo,Zo,$o,el,nl,tl,il,al,rl,ol,ll,sl,cl,ul,dl,pl,fl,vl,ml,Ol,bl,hl,El,gl,jl,xl,yl,Il,Nl,Rl,Tl,Al,Cl,Sl,kl,Dl,Ll,wl,Pl,ql,_l,Vl,Ml,Ul,Fl,Bl,Gl,Wl,Hl,zl,Kl,Yl,Ql,Xl,Jl,Zl,$l,es,ns,ts,is,as,rs,os,ls,ss,cs,us,ds,ps,fs,vs,ms,Os,bs,hs,Es,gs,js,xs,ys,Is,Ns,Rs,Ts,As,Cs,Ss,ks,Ds,Ls,ws,Ps,qs,_s,Vs,Ms,Us,Fs,Bs,Gs,Ws,Hs=function(e){var n,t,i,a=Object(Rn.a)().t,o=Object(u.useContext)(bn).dispatch,l=Object(u.useState)(!1),c=Object(b.a)(l,2),d=c[0],p=c[1],f=Object(u.useState)([]),v=Object(b.a)(f,2),m=v[0],O=v[1];Object(u.useEffect)((function(){var n=at(e.item.type).options.flatMap((function(e){return ii(e)?e.options.map((function(e){return e.code})):e.code}));O(n)}),[e.item.type]);var h,g=function(n,t){o(ye(e.item.linkId,n,t))},j=function(n){var t={url:s.fhirPath,valueString:n};U(e.item,t,o)},x=function(n){n===Gt.NONE?(p(!1),F(e.item,s.fhirPath,o),g(r.readOnly,!1)):n===Gt.CUSTOM?(p(!0),g(r.readOnly,!0)):(p(!1),j(n),g(r.readOnly,!0))},y=null!==(n=null===(t=e.item.extension)||void 0===t||null===(i=t.find((function(e){return e.url===s.fhirPath})))||void 0===i?void 0:i.valueString)&&void 0!==n?n:"",I=""!==(h=y)&&!m.includes(h);return Object(un.jsxs)(It,{label:a("Enrichment"),children:[Object(un.jsx)(ai,{value:I||d?Gt.CUSTOM:y||Gt.NONE,options:[{display:a("No enrichment"),code:Gt.NONE}].concat(Object(E.a)(at(e.item.type).options),[{display:a("Custom"),code:Gt.CUSTOM}]),onChange:function(e){x(e.target.value)},displaySelectedValue:!!y&&!I&&!d}),(I||d)&&Object(un.jsx)("textarea",{defaultValue:y,placeholder:a("Enter custom enrichment"),onBlur:function(e){e.target.value&&(p(!1),j(e.target.value))}})]})},zs=function(e){var n,t,i=Object(Rn.a)().t,a=(null===(n=e.item.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.calculatedExpression})))||void 0===t?void 0:t.valueString)||"";return Object(un.jsx)(It,{label:i("Calculation formula"),children:Object(un.jsx)("textarea",{defaultValue:a,onBlur:function(n){if(n.target.value){var t={url:s.calculatedExpression,valueString:n.target.value};e.updateExtension(t)}else e.removeExtension(s.calculatedExpression)}})})},Ks=(t(232),function(e){var n=e.checked,t=e.onChange,i=e.options,a=e.name,r=Object(Rn.a)().t;return Object(un.jsx)("div",{className:"radioBtn",children:i.map((function(e){return Object(un.jsx)("div",{children:Object(un.jsxs)("label",{children:[Object(un.jsx)("input",{type:"radio",checked:e.code===n,value:e.code,name:a,onChange:function(e){t(e.target.value)}}),Object(un.jsx)("span",{children:" ".concat(r(e.display||""))})]})},e.code)}))})}),Ys=function(e){var n,t,a,o,c,d,p,f,v,m,O,h,g,j,I,N,T=e.item,A=e.parentArray,C=Object(Rn.a)().t,S=Object(u.useContext)(bn),k=S.state,D=S.dispatch,w=Object(u.useState)(!1),P=Object(b.a)(w,2),q=P[0],V=P[1],M=Object(u.useState)(T.linkId),B=Object(b.a)(M,2),W=B[0],H=B[1],z=k.qItems,K=k.qOrder,Y=function(e,n){D(ye(T.linkId,e,n))},Q=function(){var e=J();D(e?xe(e.linkId,[].concat(Object(E.a)(A),[T.linkId])):function(e){var n={linkId:x(),type:i.text,required:!1,repeats:!1,readOnly:!0,maxLength:250,_text:G(""),extension:[R(y.help)]};return{type:ae,item:n,order:e}}([].concat(Object(E.a)(A),[T.linkId])))};function X(e){var n=!(void 0===z[e]||e===T.linkId);V(n)}var J=function(){var e,n=((null===(e=pn(A,K).find((function(e){return e.linkId===T.linkId})))||void 0===e?void 0:e.items)||[]).find((function(e){return L(z[e.linkId])}));return n?z[n.linkId]:void 0},Z=function(e){U(T,e,D)},$=function(e){F(T,e,D)},ee=null!==(n=null===T||void 0===T||null===(t=T.extension)||void 0===t||null===(a=t.find((function(e){return e.url===s.entryFormat})))||void 0===a?void 0:a.valueString)&&void 0!==n?n:"",ne=null!==(o=null===T||void 0===T||null===(c=T.extension)||void 0===c||null===(d=c.find((function(e){return e.url===s.repeatstext})))||void 0===d?void 0:d.valueString)&&void 0!==o?o:"",te=null===T||void 0===T||null===(p=T.extension)||void 0===p||null===(f=p.find((function(e){return e.url===s.minOccurs})))||void 0===f?void 0:f.valueInteger,ie=null===T||void 0===T||null===(v=T.extension)||void 0===v||null===(m=v.find((function(e){return e.url===s.maxOccurs})))||void 0===m?void 0:m.valueInteger,re=!!(null===T||void 0===T||null===(O=T.extension)||void 0===O?void 0:O.find((function(e){var n,t;return null===(n=e.valueCodeableConcept)||void 0===n||null===(t=n.coding)||void 0===t?void 0:t.filter((function(e){return e.code===y.summary}))}))),oe=J(),le=null===(h=T.extension)||void 0===h?void 0:h.some((function(e){return e.url===s.hidden&&e.valueBoolean}));return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsxs)("div",{className:"horizontal equal",children:[Kn(T)&&Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){return Y(r.readOnly,!T.readOnly)},value:T.readOnly||!1,label:C("Read-only")})}),Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){if(le)F(T,s.hidden,D);else{var e={url:s.hidden,valueBoolean:!0};U(T,e,D)}},value:le||!1,label:C("Hidden field")})})]}),Yn(T)&&Object(un.jsxs)(It,{children:[Object(un.jsx)(Wt,{onChange:function(){T.repeats&&F(T,[s.repeatstext,s.minOccurs,s.maxOccurs],D),Y(r.repeats,!T.repeats)},value:T.repeats||!1,label:C("Repeatable")}),T.repeats&&Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:C("Repeat button text"),children:Object(un.jsx)(Rt,{defaultValue:ne,onBlur:function(e){e.target.value?Z({url:s.repeatstext,valueString:e.target.value}):$(s.repeatstext)}})}),Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)(It,{label:C("Min answers"),children:Object(un.jsx)("input",{type:"number",defaultValue:te,onBlur:function(e){if(e.target.value){var n={url:s.minOccurs,valueInteger:parseInt(e.target.value)};Z(n)}else $(s.minOccurs)}})}),Object(un.jsx)(It,{label:C("max answers"),children:Object(un.jsx)("input",{type:"number",defaultValue:ie,onBlur:function(e){if(e.target.value){var n={url:s.maxOccurs,valueInteger:parseInt(e.target.value)};Z(n)}else $(s.maxOccurs)}})})]})]})]}),Object(un.jsx)(Ht,{item:T}),Qn(T)&&Object(un.jsx)(zs,{item:T,updateExtension:Z,removeExtension:$}),Bn(T)&&Object(un.jsx)(Hs,{item:T}),Xn(T)&&Object(un.jsx)(It,{label:C("Placeholder text"),children:Object(un.jsx)(Rt,{defaultValue:ee,onBlur:function(e){e.target.value?Z({url:s.entryFormat,valueString:e.target.value}):$(s.entryFormat)}})}),zn(T)&&Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsx)(Zt,{item:T})}),Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsxs)("div",{className:"form-field ".concat(q?"field-error":""),children:[Object(un.jsx)("label",{children:C("LinkId")}),Object(un.jsx)(Rt,{value:W,onChange:function(e){X(e.target.value),H(e.target.value)},onBlur:function(e){q||e.target.value===T.linkId||D(function(e,n,t){return{type:fe,oldLinkId:e,newLinkId:n,parentArray:t}}(T.linkId,e.target.value,A))}}),q&&Object(un.jsxs)("div",{className:"msg-error","aria-live":"polite",children:["".concat(C("LinkId is already in use")," "),Object(un.jsxs)("button",{onClick:function(){H(T.linkId),X(T.linkId)},children:[Object(un.jsx)("img",{src:zt,height:16})," ".concat(C("Sett tilbake til opprinnelig verdi"))]})]})]})}),Hn(T)&&Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsx)(It,{label:C("Prefix"),isOptional:!0,children:Object(un.jsx)(Rt,{defaultValue:T.prefix,onBlur:function(e){D(ye(T.linkId,r.prefix,e.target.value))}})})}),Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsx)(It,{label:C("Definition"),isOptional:!0,children:Object(un.jsx)(Nt,{value:T.definition,onBlur:function(e){D(ye(T.linkId,r.definition,e.target.value))}})})}),Gn(T)&&Object(un.jsxs)("div",{children:[Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){return Q()},value:!!oe,label:C("Enable help button")})}),!!oe&&Object(un.jsx)(It,{label:C("Enter a helping text"),children:Object(un.jsx)(ti,{data:function(){var e=J();return e?_(e):""}(),onBlur:function(e){var n=J();n&&function(e,n){var t=G(n);D(ye(e,r._text,t))}(n.linkId,e)}})})]}),Wn(T)&&Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){if(re)$(s.itemControl);else{var e=R(y.summary);Z(e)}},value:re,label:C("Enable summary")})}),Object(un.jsx)(It,{label:C("Save capabilities"),children:Object(un.jsx)(Ks,{onChange:function(e){"0"===e?$(s.saveCapability):U(T,{url:s.saveCapability,valueCoding:{system:l.saveCapabilityValueSet,code:e}},D)},checked:null!==(g=null===(j=T.extension)||void 0===j||null===(I=j.find((function(e){return e.url===s.saveCapability})))||void 0===I||null===(N=I.valueCoding)||void 0===N?void 0:N.code)&&void 0!==g?g:"0",options:en,name:"elementSaveCapability-radio"})})]})},Qs=function(e){var n=e.item,t=e.dispatchExtentionUpdate,i=Object(Rn.a)().t;return Object(un.jsx)("div",{className:"horizontal",children:Object(un.jsx)(It,{label:i("Display type"),children:Object(un.jsx)(Ks,{onChange:function(e){t(e)},checked:D(n)?y.checkbox:S(n)?y.dropdown:k(n)?y.radioButton:y.dynamic,options:[{code:y.dynamic,display:i("Dynamic")},{code:y.radioButton,display:i("Radio buttons")},{code:y.dropdown,display:i("Dropdown")},{code:y.checkbox,display:i("Checkbox (Allow selection of multiple values)")}],name:"choice-item-control-radio"})})})},Xs=(t(233),function(e){var n,t,i,a=e.answerOption,r=e.handleDrag,o=e.changeDisplay,l=e.changeCode,s=e.deleteItem,c=e.showDelete,u=e.disabled,d=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"answer-option-item align-everything",children:[!u&&Object(un.jsx)("span",Object(g.a)(Object(g.a)({},r),{},{className:"reorder-icon","aria-label":"reorder element"})),Object(un.jsxs)("div",{className:"answer-option-content",children:[Object(un.jsx)(Rt,{name:"beskrivelse",onBlur:function(e){return o(e)},defaultValue:null===a||void 0===a||null===(n=a.valueCoding)||void 0===n?void 0:n.display,disabled:u,placeholder:d("Enter a title..")}),Object(un.jsx)(Rt,{name:"verdi",defaultValue:null===a||void 0===a||null===(i=a.valueCoding)||void 0===i?void 0:i.code,placeholder:d("Enter a value.."),onBlur:function(e){return l(e)}},null===a||void 0===a||null===(t=a.valueCoding)||void 0===t?void 0:t.code)]}),c&&Object(un.jsx)("button",{type:"button",name:d("Remove element"),onClick:s,className:"align-everything"})]})}),Js=function(e){var n=e.item,t=e.dispatchUpdateItem;return Object(un.jsx)(yt.a,{onDragEnd:function(e){if(e.source&&e.destination&&e.draggableId){var i=e.source.index,a=e.destination.index;if(i!==a){var o=n.answerOption?Object(E.a)(n.answerOption):[];t(r.answerOption,function(e,n,t){var i=e.splice(t,1);return e.splice(n,0,i[0]),e}(o,a,i))}}},children:Object(un.jsx)(yt.c,{droppableId:"droppable-".concat(n.linkId,"-answer-options"),type:"stuff",children:function(e,i){var a,o;return Object(un.jsxs)("div",{ref:e.innerRef,style:(o=i.isDraggingOver,{background:o?"lightblue":"transparent"}),children:[null===(a=n.answerOption)||void 0===a?void 0:a.map((function(e,i){var a,o;return Object(un.jsx)(yt.b,{draggableId:(null===(o=e.valueCoding)||void 0===o?void 0:o.id)||"1",index:i,children:function(i,a){var o,l,s,c;return Object(un.jsx)("div",Object(g.a)(Object(g.a)({ref:i.innerRef},i.draggableProps),{},{style:(s=a.isDragging,c=i.draggableProps.style,Object(g.a)({userSelect:"none",background:s?"lightgreen":"transparent",cursor:"pointer"},c)),children:Object(un.jsx)(Xs,{changeDisplay:function(i){var a,o,l,s,c=(o=n.answerOption||[],l=(null===(a=e.valueCoding)||void 0===a?void 0:a.id)||"",s=i.target.value,o.map((function(e){var n;return(null===(n=e.valueCoding)||void 0===n?void 0:n.id)===l?{valueCoding:Object(g.a)(Object(g.a)({},e.valueCoding),{},{display:s,code:qn(s)})}:e})));t(r.answerOption,c)},changeCode:function(i){var a,o,l,s,c=(o=n.answerOption||[],l=(null===(a=e.valueCoding)||void 0===a?void 0:a.id)||"",s=i.target.value,o.map((function(e){var n;return(null===(n=e.valueCoding)||void 0===n?void 0:n.id)===l?{valueCoding:Object(g.a)(Object(g.a)({},e.valueCoding),{},{code:s})}:e})));t(r.answerOption,c)},deleteItem:function(){var i,a,o,l=(a=n.answerOption||[],o=(null===(i=e.valueCoding)||void 0===i?void 0:i.id)||"",a.filter((function(e){var n;return(null===(n=e.valueCoding)||void 0===n?void 0:n.id)!==o})));t(r.answerOption,l)},answerOption:e,handleDrag:i.dragHandleProps,showDelete:!!(null===(o=n.answerOption)||void 0===o?void 0:o.length)&&(null===(l=n.answerOption)||void 0===l?void 0:l.length)>2})}))}},null===(a=e.valueCoding)||void 0===a?void 0:a.id)})),e.placeholder]})}})})},Zs=(t(234),function(e){var n=e.items,t=e.onChange,i=e.defaultValue,a=e.placeholder,r=Object(u.useRef)(null),o=Object(u.useState)(i||""),l=Object(b.a)(o,2),s=l[0],c=l[1],d=Object(u.useState)([]),p=Object(b.a)(d,2),f=p[0],v=p[1],m=function(e){e.display&&c(e.display),v([]),t(e.code)},O=function(e,n){var t=e.split(new RegExp("(".concat(n,")"),"gi"));return Object(un.jsx)("span",{children:t.map((function(e){return e.toLowerCase()===n.toLowerCase()?Object(un.jsx)("strong",{children:e}):e}))})},h=function(){c(""),v(Object(E.a)(n))},g=function(e){r.current.contains(e.target)||v([])};Object(u.useEffect)((function(){return f.length>0?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),function(){document.removeEventListener("mousedown",g)}}),[f]);return Object(un.jsxs)("div",{className:"typeahead",ref:r,children:[Object(un.jsxs)("div",{className:"input-wrapper",children:[Object(un.jsx)("i",{className:"search-icon"}),Object(un.jsx)("input",{onFocus:function(e){return 0===e.currentTarget.value.length&&v(Object(E.a)(n))},onKeyUp:function(e){return function(e){"Escape"===e.key&&h()}(e)},onChange:function(e){var t=e.target.value;if(c(t),t.length>=1){var i=Object(E.a)(n).sort().filter((function(e){return e.display&&e.display.toLowerCase().includes(t.toLowerCase())}));v(i.slice(0,5))}else v([])},placeholder:a||"S\xf8k..",value:s,type:"text"}),(s.length>0||f.length>0)&&Object(un.jsx)("i",{className:"close-icon",role:"button","aria-label":"Remove text",onClick:function(){return h()}})]}),f.length>0&&Object(un.jsx)("div",{className:"suggestions",children:Object(un.jsx)("ul",{children:null===f||void 0===f?void 0:f.map((function(e,n){return Object(un.jsx)("li",{"aria-label":e.display,role:"button",tabIndex:0,onKeyUp:function(n){return"Enter"===n.key&&(null===e||void 0===e?void 0:e.display)&&m(e)},onClick:function(){return e.display&&m(e)},children:e.display&&Object(un.jsx)("p",{children:O(e.display,s)})},n)}))})})]})}),$s=function(e){var n=e.item,t=e.qContained,i=e.dispatchUpdateItem,a=Object(Rn.a)().t,o=(null===t||void 0===t?void 0:t.map((function(e){return{code:e.id,display:e.title}})))||[],l=function(){return n.answerValueSet&&n.answerValueSet.indexOf("#")>=0?n.answerValueSet.substring(1):""},s=function(e){(null===t||void 0===t?void 0:t.find((function(n){return n.id===e})))&&i(r.answerValueSet,"#".concat(e))},c=function(e){var n=null===t||void 0===t?void 0:t.find((function(n){return n.id===e}));return En(n)};return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:a("Select answer valueset"),children:o.length>5?Object(un.jsx)(Zs,{defaultValue:function(){if(n.answerValueSet&&n.answerValueSet.indexOf("#")>=0){var e,i=n.answerValueSet.substring(1);return(null===t||void 0===t||null===(e=t.find((function(e){return e.id===i})))||void 0===e?void 0:e.title)||""}return""}(),items:o,onChange:s}):Object(un.jsx)(Et,{value:l(),options:o||[],onChange:function(e){return s(e.target.value)},placeholder:a("Choose an option..")})}),Object(un.jsx)(It,{children:function(){var e=l();if(""!==e)return c(e).map((function(e){return Object(un.jsx)("div",{className:"predefined-value",children:e.display},e.code)}))}()})]})},ec=function(e){var n,t=e.item,a=Object(Rn.a)().t,o=Object(u.useContext)(bn),l=o.dispatch,c=o.state.qContained,d=function(e,n){l(ye(t.linkId,e,n))},p=function(e){var n;l((n=t.linkId,{type:re,linkId:n,itemProperty:e}))},f=function(e){var n=function(e,n){return e.map((function(e){return{valueCoding:Object(g.a)(Object(g.a)({},e.valueCoding),{},{system:n})}}))}(t.answerOption||[],e);d(r.answerOption,n)};return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(Qs,{item:t,dispatchExtentionUpdate:function(e){F(t,s.itemControl,l),e!==y.checkbox||D(t)?e!==y.dropdown||S(t)?e!==y.radioButton||k(t)||U(t,Qe,l):U(t,Ye,l):U(t,Ke,l)}}),Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){var e=t.type===i.openChoice?i.choice:i.openChoice;d(r.type,e)},value:t.type===i.openChoice,label:a("Allow free-text answer")})}),Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{onChange:function(){if(t.answerValueSet){var e=Be();p(r.answerValueSet),d(r.answerOption,[_n(e),_n(e)])}else p(r.answerOption),d(r.answerValueSet,"#")},value:!!t.answerValueSet,label:a("Use predefined valueset")})}),t.answerValueSet?Object(un.jsx)($s,{item:t,qContained:c,dispatchUpdateItem:d}):Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:a("System"),children:Object(un.jsx)(Nt,{value:function(){var e,n;return t.answerOption&&t.answerOption.length>0&&(null===(e=t.answerOption[0])||void 0===e||null===(n=e.valueCoding)||void 0===n?void 0:n.system)||""}(),onBlur:function(e){return f(e.target.value)}})}),Object(un.jsx)(It,{children:t.answerOption&&(null===(n=t.answerOption)||void 0===n?void 0:n.length)>0&&Object(un.jsx)(Js,{item:t,dispatchUpdateItem:d})}),Object(un.jsx)("div",{className:"center-text",children:Object(un.jsx)(Tn,{title:a("+ Add option"),type:"button",onClick:function(){var e=function(e){var n,t=e.length>0?null===(n=e[0].valueCoding)||void 0===n?void 0:n.system:Be(),i=_n(t);return[].concat(Object(E.a)(e),[i])}(t.answerOption||[]);d(r.answerOption,e)},variant:"secondary"})})]})]})};t(235);!function(e){e.POSTAL="postal",e.PHYSICAL="physical",e.BOTH="both"}(ri||(ri={})),function(e){e.HOME="home",e.WORK="work",e.TEMP="temp",e.OLD="old",e.BILLING="billing"}(oi||(oi={})),function(e){e.PHONE="phone",e.FAX="fax",e.EMAIL="email",e.PAGER="pager",e.URL="url",e.SMS="sms",e.OTHER="other"}(li||(li={})),function(e){e.HOME="home",e.WORK="work",e.TEMP="temp",e.OLD="old",e.MOBILE="mobile"}(si||(si={})),function(e){e.AUTHOR="author",e.EDITOR="editor",e.REVIEWER="reviewer",e.ENDORSER="endorser"}(ci||(ci={})),function(e){e.ASCENDING="ascending",e.DESCENDING="descending"}(ui||(ui={})),function(e){e.VALUE="value",e.EXISTS="exists",e.PATTERN="pattern",e.TYPE="type",e.PROFILE="profile"}(di||(di={})),function(e){e.CLOSED="closed",e.OPEN="open",e.OPENATEND="openAtEnd"}(pi||(pi={})),function(e){e.CONTAINED="contained",e.REFERENCED="referenced",e.BUNDLED="bundled"}(fi||(fi={})),function(e){e.EITHER="either",e.INDEPENDENT="independent",e.SPECIFIC="specific"}(vi||(vi={})),function(e){e.ERROR="error",e.WARNING="warning"}(mi||(mi={})),function(e){e.REQUIRED="required",e.EXTENSIBLE="extensible",e.PREFERRED="preferred",e.EXAMPLE="example"}(Oi||(Oi={})),function(e){e.XMLATTR="xmlAttr",e.XMLTEXT="xmlText",e.TYPEATTR="typeAttr",e.CDATEXT="cdaText",e.XHTML="xhtml"}(bi||(bi={})),function(e){e.TEXT_CQL="text/cql",e.TEXT_FHIRPATH="text/fhirpath",e.APPLICATION_X_FHIR_QUERY="application/x-fhir-query",e.ETC="etc."}(hi||(hi={})),function(e){e.USUAL="usual",e.OFFICIAL="official",e.TEMP="temp",e.NICKNAME="nickname",e.ANONYMOUS="anonymous",e.OLD="old",e.MAIDEN="maiden"}(Ei||(Ei={})),function(e){e.USUAL="usual",e.OFFICIAL="official",e.TEMP="temp",e.SECONDARY="secondary",e.OLD="old"}(gi||(gi={})),function(e){e.LESS_THAN="<",e.LESS_THAN_OR_EQUALS="<=",e.GREATER_THAN_OR_EQUALS=">=",e.GREATER_THAN=">"}(ji||(ji={})),function(e){e.GENERATED="generated",e.EXTENSIONS="extensions",e.ADDITIONAL="additional",e.EMPTY="empty"}(xi||(xi={})),function(e){e.IN="in",e.OUT="out"}(yi||(yi={})),function(e){e.DOCUMENTATION="documentation",e.JUSTIFICATION="justification",e.CITATION="citation",e.PREDECESSOR="predecessor",e.SUCCESSOR="successor",e.DERIVED_FROM="derived-from",e.DEPENDS_ON="depends-on",e.COMPOSED_OF="composed-of"}(Ii||(Ii={})),function(e){e.MON="mon",e.TUE="tue",e.WED="wed",e.THU="thu",e.FRI="fri",e.SAT="sat",e.SUN="sun"}(Ni||(Ni={})),function(e){e.S="s",e.MIN="min",e.H="h",e.D="d",e.WK="wk",e.MO="mo",e.A="a"}(Ri||(Ri={})),function(e){e.S="s",e.MIN="min",e.H="h",e.D="d",e.WK="wk",e.MO="mo",e.A="a"}(Ti||(Ti={})),function(e){e.NAMED_EVENT="named-event",e.PERIODIC="periodic",e.DATA_CHANGED="data-changed",e.DATA_ADDED="data-added",e.DATA_MODIFIED="data-modified",e.DATA_REMOVED="data-removed",e.DATA_ACCESSED="data-accessed",e.DATA_ACCESS_ENDED="data-access-ended"}(Ai||(Ai={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error",e.ON_HOLD="on-hold",e.UNKNOWN="unknown"}(Ci||(Ci={})),function(e){e.PATIENT="patient",e.PRACTITIONER="practitioner",e.RELATED_PERSON="related-person",e.DEVICE="device"}(Si||(Si={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.DIRECTIVE="directive",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(ki||(ki={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(Di||(Di={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Li||(Li={})),function(e){e.ACTUAL="actual",e.POTENTIAL="potential"}(wi||(wi={})),function(e){e.MILD="mild",e.MODERATE="moderate",e.SEVERE="severe"}(Pi||(Pi={})),function(e){e.FOOD="food",e.MEDICATION="medication",e.ENVIRONMENT="environment",e.BIOLOGIC="biologic"}(qi||(qi={})),function(e){e.LOW="low",e.HIGH="high",e.UNABLE_TO_ASSESS="unable-to-assess"}(_i||(_i={})),function(e){e.ALLERGY="allergy",e.INTOLERANCE="intolerance"}(Vi||(Vi={})),function(e){e.REQUIRED="required",e.OPTIONAL="optional",e.INFORMATION_ONLY="information-only"}(Mi||(Mi={})),function(e){e.ACCEPTED="accepted",e.DECLINED="declined",e.TENTATIVE="tentative",e.NEEDS_ACTION="needs-action"}(Ui||(Ui={})),function(e){e.PROPOSED="proposed",e.PENDING="pending",e.BOOKED="booked",e.ARRIVED="arrived",e.FULFILLED="fulfilled",e.CANCELLED="cancelled",e.NOSHOW="noshow",e.ENTERED_IN_ERROR="entered-in-error",e.CHECKED_IN="checked-in",e.WAITLIST="waitlist"}(Fi||(Fi={})),function(e){e.ACCEPTED="accepted",e.DECLINED="declined",e.TENTATIVE="tentative",e.NEEDS_ACTION="needs-action"}(Bi||(Bi={})),function(e){e.FARENHEIT="farenheit",e.CELSIUS="celsius",e.KELVIN="kelvin"}(Gi||(Gi={})),function(e){e.ORGAN="organ",e.TISSUE="tissue",e.FLUID="fluid",e.CELLS="cells",e.BIOLOGICALAGENT="biologicalAgent"}(Wi||(Wi={})),function(e){e.AVAILABLE="available",e.UNAVAILABLE="unavailable"}(Hi||(Hi={})),function(e){e.MATCH="match",e.INCLUDE="include",e.OUTCOME="outcome"}(zi||(zi={})),function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.PATCH="PATCH"}(Ki||(Ki={})),function(e){e.DOCUMENT="document",e.MESSAGE="message",e.TRANSACTION="transaction",e.TRANSACTION_RESPONSE="transaction-response",e.BATCH="batch",e.BATCH_RESPONSE="batch-response",e.HISTORY="history",e.SEARCHSET="searchset",e.COLLECTION="collection"}(Yi||(Yi={})),function(e){e.READ="read",e.VREAD="vread",e.UPDATE="update",e.PATCH="patch",e.DELETE="delete",e.HISTORY_INSTANCE="history-instance",e.HISTORY_TYPE="history-type",e.CREATE="create",e.SEARCH_TYPE="search-type"}(Qi||(Qi={})),function(e){e.NUMBER="number",e.DATE="date",e.STRING="string",e.TOKEN="token",e.REFERENCE="reference",e.COMPOSITE="composite",e.QUANTITY="quantity",e.URI="uri",e.SPECIAL="special"}(Xi||(Xi={})),function(e){e.NOT_SUPPORTED="not-supported",e.SINGLE="single",e.MULTIPLE="multiple"}(Ji||(Ji={})),function(e){e.NOT_SUPPORTED="not-supported",e.MODIFIED_SINCE="modified-since",e.NOT_MATCH="not-match",e.FULL_SUPPORT="full-support"}(Zi||(Zi={})),function(e){e.LITERAL="literal",e.LOGICAL="logical",e.RESOLVES="resolves",e.ENFORCED="enforced",e.LOCAL="local"}($i||($i={})),function(e){e.NO_VERSION="no-version",e.VERSIONED="versioned",e.VERSIONED_UPDATE="versioned-update"}(ea||(ea={})),function(e){e.TRANSACTION="transaction",e.BATCH="batch",e.SEARCH_SYSTEM="search-system",e.HISTORY_SYSTEM="history-system"}(na||(na={})),function(e){e.CLIENT="client",e.SERVER="server"}(ta||(ta={})),function(e){e.SENDER="sender",e.RECEIVER="receiver"}(ia||(ia={})),function(e){e.PRODUCER="producer",e.CONSUMER="consumer"}(aa||(aa={})),function(e){e.FORMATS="formats",e.JSON="json",e.TTL="ttl",e.MIME="mime"}(ra||(ra={})),function(e){e.INSTANCE="instance",e.CAPABILITY="capability",e.REQUIREMENTS="requirements"}(oa||(oa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(la||(la={})),function(e){e.APPOINTMENT="Appointment",e.COMMUNICATIONREQUEST="CommunicationRequest",e.DEVICEREQUEST="DeviceRequest",e.MEDICATIONREQUEST="MedicationRequest",e.NUTRITIONORDER="NutritionOrder",e.TASK="Task",e.SERVICEREQUEST="ServiceRequest",e.VISIONPRESCRIPTION="VisionPrescription"}(sa||(sa={})),function(e){e.NOT_STARTED="not-started",e.SCHEDULED="scheduled",e.IN_PROGRESS="in-progress",e.ON_HOLD="on-hold",e.COMPLETED="completed",e.CANCELLED="cancelled",e.STOPPED="stopped",e.UNKNOWN="unknown",e.ENTERED_IN_ERROR="entered-in-error"}(ca||(ca={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.ORDER="order",e.OPTION="option"}(ua||(ua={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(da||(da={})),function(e){e.PROPOSED="proposed",e.ACTIVE="active",e.SUSPENDED="suspended",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(pa||(pa={})),function(e){e.TRIGGERS="triggers",e.IS_REPLACED_BY="is-replaced-by"}(fa||(fa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(va||(va={})),function(e){e.PLANNED="planned",e.BILLABLE="billable",e.NOT_BILLABLE="not-billable",e.ABORTED="aborted",e.BILLED="billed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(ma||(ma={})),function(e){e.BASE="base",e.SURCHARGE="surcharge",e.DEDUCTION="deduction",e.DISCOUNT="discount",e.TAX="tax",e.INFORMATIONAL="informational"}(Oa||(Oa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(ba||(ba={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(ha||(ha={})),function(e){e.CLAIM="claim",e.PREAUTHORIZATION="preauthorization",e.PREDETERMINATION="predetermination"}(Ea||(Ea={})),function(e){e.DISPLAY="display",e.PRINT="print",e.PRINTOPER="printoper"}(ga||(ga={})),function(e){e.QUEUED="queued",e.COMPLETE="complete",e.ERROR="error",e.PARTIAL="partial"}(ja||(ja={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(xa||(xa={})),function(e){e.CLAIM="claim",e.PREAUTHORIZATION="preauthorization",e.PREDETERMINATION="predetermination"}(ya||(ya={})),function(e){e.IN_PROGRESS="in-progress",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error"}(Ia||(Ia={})),function(e){e.EQUALS="=",e.IS_A="is-a",e.DESCENDENT_OF="descendent-of",e.IS_NOT_A="is-not-a",e.REGEX="regex",e.IN="in",e.NOT_IN="not-in",e.GENERALIZES="generalizes",e.EXISTS="exists"}(Na||(Na={})),function(e){e.CODE="code",e.CODING="Coding",e.STRING="string",e.INTEGER="integer",e.BOOLEAN="boolean",e.DATETIME="dateTime",e.DECIMAL="decimal"}(Ra||(Ra={})),function(e){e.NOT_PRESENT="not-present",e.EXAMPLE="example",e.FRAGMENT="fragment",e.COMPLETE="complete",e.SUPPLEMENT="supplement"}(Ta||(Ta={})),function(e){e.GROUPED_BY="grouped-by",e.IS_A="is-a",e.PART_OF="part-of",e.CLASSIFIED_WITH="classified-with"}(Aa||(Aa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Ca||(Ca={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(Sa||(Sa={})),function(e){e.PREPARATION="preparation",e.IN_PROGRESS="in-progress",e.NOT_DONE="not-done",e.ON_HOLD="on-hold",e.STOPPED="stopped",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(ka||(ka={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(Da||(Da={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(La||(La={})),function(e){e.PATIENT="Patient",e.ENCOUNTER="Encounter",e.RELATEDPERSON="RelatedPerson",e.PRACTITIONER="Practitioner",e.DEVICE="Device"}(wa||(wa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Pa||(Pa={})),function(e){e.PERSONAL="personal",e.PROFESSIONAL="professional",e.LEGAL="legal",e.OFFICIAL="official"}(qa||(qa={})),function(e){e.REPLACES="replaces",e.TRANSFORMS="transforms",e.SIGNS="signs",e.APPENDS="appends"}(_a||(_a={})),function(e){e.WORKING="working",e.SNAPSHOT="snapshot",e.CHANGES="changes"}(Va||(Va={})),function(e){e.PRELIMINARY="preliminary",e.FINAL="final",e.AMENDED="amended",e.ENTERED_IN_ERROR="entered-in-error"}(Ma||(Ma={})),function(e){e.RELATEDTO="relatedto",e.EQUIVALENT="equivalent",e.EQUAL="equal",e.WIDER="wider",e.SUBSUMES="subsumes",e.NARROWER="narrower",e.SPECIALIZES="specializes",e.INEXACT="inexact",e.UNMATCHED="unmatched",e.DISJOINT="disjoint"}(Ua||(Ua={})),function(e){e.PROVIDED="provided",e.FIXED="fixed",e.OTHER_MAP="other-map"}(Fa||(Fa={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Ba||(Ba={})),function(e){e.INSTANCE="instance",e.RELATED="related",e.DEPENDENTS="dependents",e.AUTHOREDBY="authoredby"}(Ga||(Ga={})),function(e){e.DENY="deny",e.PERMIT="permit"}(Wa||(Wa={})),function(e){e.DRAFT="draft",e.PROPOSED="proposed",e.ACTIVE="active",e.REJECTED="rejected",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(Ha||(Ha={})),function(e){e.AMENDED="amended",e.APPENDED="appended",e.CANCELLED="cancelled",e.DISPUTED="disputed",e.ENTERED_IN_ERROR="entered-in-error",e.EXECUTABLE="executable",e.EXECUTED="executed",e.NEGOTIABLE="negotiable",e.OFFERED="offered",e.POLICY="policy",e.REJECTED="rejected",e.RENEWED="renewed",e.REVOKED="revoked",e.RESOLVED="resolved",e.TERMINATED="terminated"}(za||(za={})),function(e){e.AMENDED="amended",e.APPENDED="appended",e.CANCELLED="cancelled",e.DISPUTED="disputed",e.ENTERED_IN_ERROR="entered-in-error",e.EXECUTABLE="executable",e.EXECUTED="executed",e.NEGOTIABLE="negotiable",e.OFFERED="offered",e.POLICY="policy",e.REJECTED="rejected",e.RENEWED="renewed",e.REVOKED="revoked",e.RESOLVED="resolved",e.TERMINATED="terminated"}(Ka||(Ka={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Ya||(Ya={})),function(e){e.AUTH_REQUIREMENTS="auth-requirements",e.BENEFITS="benefits",e.DISCOVERY="discovery",e.VALIDATION="validation"}(Qa||(Qa={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Xa||(Xa={})),function(e){e.QUEUED="queued",e.COMPLETE="complete",e.ERROR="error",e.PARTIAL="partial"}(Ja||(Ja={})),function(e){e.AUTH_REQUIREMENTS="auth-requirements",e.BENEFITS="benefits",e.DISCOVERY="discovery",e.VALIDATION="validation"}(Za||(Za={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}($a||($a={})),function(e){e.HIGH="high",e.MODERATE="moderate",e.LOW="low"}(er||(er={})),function(e){e.REGISTERED="registered",e.PRELIMINARY="preliminary",e.FINAL="final",e.AMENDED="amended"}(nr||(nr={})),function(e){e.BARCODE="barcode",e.RFID="rfid",e.MANUAL="manual"}(tr||(tr={})),function(e){e.UDI_LABEL_NAME="udi-label-name",e.USER_FRIENDLY_NAME="user-friendly-name",e.PATIENT_REPORTED_NAME="patient-reported-name",e.MANUFACTURER_NAME="manufacturer-name",e.MODEL_NAME="model-name",e.OTHER="other"}(ir||(ir={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(ar||(ar={})),function(e){e.UDI_LABEL_NAME="udi-label-name",e.USER_FRIENDLY_NAME="user-friendly-name",e.PATIENT_REPORTED_NAME="patient-reported-name",e.MANUFACTURER_NAME="manufacturer-name",e.MODEL_NAME="model-name",e.OTHER="other"}(rr||(rr={})),function(e){e.NOT_CALIBRATED="not-calibrated",e.CALIBRATION_REQUIRED="calibration-required",e.CALIBRATED="calibrated",e.UNSPECIFIED="unspecified"}(or||(or={})),function(e){e.UNSPECIFIED="unspecified",e.OFFSET="offset",e.GAIN="gain",e.TWO_POINT="two-point"}(lr||(lr={})),function(e){e.MEASUREMENT="measurement",e.SETTING="setting",e.CALCULATION="calculation",e.UNSPECIFIED="unspecified"}(sr||(sr={})),function(e){e.BLACK="black",e.RED="red",e.GREEN="green",e.YELLOW="yellow",e.BLUE="blue",e.MAGENTA="magenta",e.CYAN="cyan",e.WHITE="white"}(cr||(cr={})),function(e){e.ON="on",e.OFF="off",e.STANDBY="standby",e.ENTERED_IN_ERROR="entered-in-error"}(ur||(ur={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.DIRECTIVE="directive",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(dr||(dr={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(pr||(pr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(fr||(fr={})),function(e){e.ACTIVE="active",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error"}(vr||(vr={})),function(e){e.REGISTERED="registered",e.PARTIAL="partial",e.PRELIMINARY="preliminary",e.FINAL="final"}(mr||(mr={})),function(e){e.CURRENT="current",e.SUPERSEDED="superseded",e.ENTERED_IN_ERROR="entered-in-error"}(Or||(Or={})),function(e){e.REPLACES="replaces",e.TRANSFORMS="transforms",e.SIGNS="signs",e.APPENDS="appends"}(br||(br={})),function(e){e.PRELIMINARY="preliminary",e.FINAL="final",e.AMENDED="amended",e.ENTERED_IN_ERROR="entered-in-error"}(hr||(hr={})),function(e){e.CURRENT="current",e.SUPERSEDED="superseded",e.ENTERED_IN_ERROR="entered-in-error"}(Er||(Er={})),function(e){e.EXPOSURE="exposure",e.EXPOSURE_ALTERNATIVE="exposure-alternative"}(gr||(gr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(jr||(jr={})),function(e){e.PLANNED="planned",e.ARRIVED="arrived",e.TRIAGED="triaged",e.IN_PROGRESS="in-progress",e.ONLEAVE="onleave",e.FINISHED="finished",e.CANCELLED="cancelled"}(xr||(xr={})),function(e){e.PLANNED="planned",e.ACTIVE="active",e.RESERVED="reserved",e.COMPLETED="completed"}(yr||(yr={})),function(e){e.PLANNED="planned",e.ARRIVED="arrived",e.TRIAGED="triaged",e.IN_PROGRESS="in-progress",e.ONLEAVE="onleave",e.FINISHED="finished",e.CANCELLED="cancelled"}(Ir||(Ir={})),function(e){e.ACTIVE="active",e.SUSPENDED="suspended",e.ERROR="error",e.OFF="off",e.ENTERED_IN_ERROR="entered-in-error",e.TEST="test"}(Nr||(Nr={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Rr||(Rr={})),function(e){e.QUEUED="queued",e.COMPLETE="complete",e.ERROR="error",e.PARTIAL="partial"}(Tr||(Tr={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Ar||(Ar={})),function(e){e.PLANNED="planned",e.WAITLIST="waitlist",e.ACTIVE="active",e.ONHOLD="onhold",e.FINISHED="finished",e.CANCELLED="cancelled",e.ENTERED_IN_ERROR="entered-in-error"}(Cr||(Cr={})),function(e){e.PLANNED="planned",e.WAITLIST="waitlist",e.ACTIVE="active",e.ONHOLD="onhold",e.FINISHED="finished",e.CANCELLED="cancelled",e.ENTERED_IN_ERROR="entered-in-error"}(Sr||(Sr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(kr||(kr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Dr||(Dr={})),function(e){e.MEAN="mean",e.MEDIAN="median",e.MEAN_OF_MEAN="mean-of-mean",e.MEAN_OF_MEDIAN="mean-of-median",e.MEDIAN_OF_MEAN="median-of-mean",e.MEDIAN_OF_MEDIAN="median-of-median"}(Lr||(Lr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(wr||(wr={})),function(e){e.DICHOTOMOUS="dichotomous",e.CONTINUOUS="continuous",e.DESCRIPTIVE="descriptive"}(Pr||(Pr={})),function(e){e.PERSON="person",e.ENTITY="entity"}(qr||(qr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(_r||(_r={})),function(e){e.DISPLAY="display",e.PRINT="print",e.PRINTOPER="printoper"}(Vr||(Vr={})),function(e){e.QUEUED="queued",e.COMPLETE="complete",e.ERROR="error",e.PARTIAL="partial"}(Mr||(Mr={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Ur||(Ur={})),function(e){e.CLAIM="claim",e.PREAUTHORIZATION="preauthorization",e.PREDETERMINATION="predetermination"}(Fr||(Fr={})),function(e){e.PARTIAL="partial",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.HEALTH_UNKNOWN="health-unknown"}(Br||(Br={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(Gr||(Gr={})),function(e){e.PROPOSED="proposed",e.PLANNED="planned",e.ACCEPTED="accepted",e.ACTIVE="active",e.ON_HOLD="on-hold",e.COMPLETED="completed",e.CANCELLED="cancelled",e.ENTERED_IN_ERROR="entered-in-error",e.REJECTED="rejected"}(Wr||(Wr={})),function(e){e.PATIENT="Patient",e.ENCOUNTER="Encounter",e.RELATEDPERSON="RelatedPerson",e.PRACTITIONER="Practitioner",e.DEVICE="Device"}(Hr||(Hr={})),function(e){e.IDENTICAL="identical",e.MATCHING="matching",e.DIFFERENT="different",e.CUSTOM="custom"}(zr||(zr={})),function(e){e.CONDITION="condition",e.REQUIREMENT="requirement"}(Kr||(Kr={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Yr||(Yr={})),function(e){e.PERSON="person",e.ANIMAL="animal",e.PRACTITIONER="practitioner",e.DEVICE="device",e.MEDICATION="medication",e.SUBSTANCE="substance"}(Qr||(Qr={})),function(e){e.SUCCESS="success",e.DATA_REQUESTED="data-requested",e.DATA_REQUIRED="data-required",e.IN_PROGRESS="in-progress",e.FAILURE="failure",e.ENTERED_IN_ERROR="entered-in-error"}(Xr||(Xr={})),function(e){e.MON="mon",e.TUE="tue",e.WED="wed",e.THU="thu",e.FRI="fri",e.SAT="sat",e.SUN="sun"}(Jr||(Jr={})),function(e){e.REGISTERED="registered",e.AVAILABLE="available",e.CANCELLED="cancelled",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(Zr||(Zr={})),function(e){e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.NOT_DONE="not-done"}($r||($r={})),function(e){e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error"}(eo||(eo={})),function(e){e.HTML="html",e.MARKDOWN="markdown",e.XML="xml",e.GENERATED="generated"}(no||(no={})),function(e){e.APPLY="apply",e.PATH_RESOURCE="path-resource",e.PATH_PAGES="path-pages",e.PATH_TX_CACHE="path-tx-cache",e.EXPANSION_PARAMETER="expansion-parameter",e.RULE_BROKEN_LINKS="rule-broken-links",e.GENERATE_XML="generate-xml",e.GENERATE_JSON="generate-json",e.GENERATE_TURTLE="generate-turtle",e.HTML_TEMPLATE="html-template"}(to||(to={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(io||(io={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(ao||(ao={})),function(e){e.BASE="base",e.SURCHARGE="surcharge",e.DEDUCTION="deduction",e.DISCOUNT="discount",e.TAX="tax",e.INFORMATIONAL="informational"}(ro||(ro={})),function(e){e.DRAFT="draft",e.ISSUED="issued",e.BALANCED="balanced",e.CANCELLED="cancelled",e.ENTERED_IN_ERROR="entered-in-error"}(oo||(oo={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(lo||(lo={})),function(e){e.SOURCE="source",e.ALTERNATE="alternate",e.HISTORICAL="historical"}(so||(so={})),function(e){e.WORKING="working",e.SNAPSHOT="snapshot",e.CHANGES="changes"}(co||(co={})),function(e){e.CURRENT="current",e.RETIRED="retired",e.ENTERED_IN_ERROR="entered-in-error"}(uo||(uo={})),function(e){e.MON="mon",e.TUE="tue",e.WED="wed",e.THU="thu",e.FRI="fri",e.SAT="sat",e.SUN="sun"}(po||(po={})),function(e){e.INSTANCE="instance",e.KIND="kind"}(fo||(fo={})),function(e){e.ACTIVE="active",e.SUSPENDED="suspended",e.INACTIVE="inactive"}(vo||(vo={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(mo||(mo={})),function(e){e.COMPLETE="complete",e.PENDING="pending",e.ERROR="error"}(Oo||(Oo={})),function(e){e.INDIVIDUAL="individual",e.SUBJECT_LIST="subject-list",e.SUMMARY="summary",e.DATA_COLLECTION="data-collection"}(bo||(bo={})),function(e){e.PREPARATION="preparation",e.IN_PROGRESS="in-progress",e.NOT_DONE="not-done",e.ON_HOLD="on-hold",e.STOPPED="stopped",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(ho||(ho={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(Eo||(Eo={})),function(e){e.IN_PROGRESS="in-progress",e.NOT_DONE="not-done",e.ON_HOLD="on-hold",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.STOPPED="stopped",e.UNKNOWN="unknown"}(go||(go={})),function(e){e.PREPARATION="preparation",e.IN_PROGRESS="in-progress",e.CANCELLED="cancelled",e.ON_HOLD="on-hold",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.STOPPED="stopped",e.DECLINED="declined",e.UNKNOWN="unknown"}(jo||(jo={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(xo||(xo={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(yo||(yo={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(Io||(Io={})),function(e){e.ACTIVE="active",e.ON_HOLD="on-hold",e.CANCELLED="cancelled",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.STOPPED="stopped",e.DRAFT="draft",e.UNKNOWN="unknown"}(No||(No={})),function(e){e.ACTIVE="active",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.INTENDED="intended",e.STOPPED="stopped",e.ON_HOLD="on-hold",e.UNKNOWN="unknown",e.NOT_TAKEN="not-taken"}(Ro||(Ro={})),function(e){e.CONSEQUENCE="consequence",e.CURRENCY="currency",e.NOTIFICATION="notification"}(To||(To={})),function(e){e.ALWAYS="always",e.ON_ERROR="on-error",e.NEVER="never",e.ON_SUCCESS="on-success"}(Ao||(Ao={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Co||(Co={})),function(e){e.OK="ok",e.TRANSIENT_ERROR="transient-error",e.FATAL_ERROR="fatal-error"}(So||(So={})),function(e){e.SENSE="sense",e.ANTISENSE="antisense"}(ko||(ko={})),function(e){e.WATSON="watson",e.CRICK="crick"}(Do||(Do={})),function(e){e.INDEL="indel",e.SNP="snp",e.UNKNOWN="unknown"}(Lo||(Lo={})),function(e){e.DIRECTLINK="directlink",e.OPENAPI="openapi",e.LOGIN="login",e.OAUTH="oauth",e.OTHER="other"}(wo||(wo={})),function(e){e.AA="aa",e.DNA="dna",e.RNA="rna"}(Po||(Po={})),function(e){e.OID="oid",e.UUID="uuid",e.URI="uri",e.OTHER="other"}(qo||(qo={})),function(e){e.CODESYSTEM="codesystem",e.IDENTIFIER="identifier",e.ROOT="root"}(_o||(_o={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Vo||(Vo={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.DIRECTIVE="directive",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(Mo||(Mo={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(Uo||(Uo={})),function(e){e.REGISTERED="registered",e.PRELIMINARY="preliminary",e.FINAL="final",e.AMENDED="amended"}(Fo||(Fo={})),function(e){e.REFERENCE="reference",e.CRITICAL="critical",e.ABSOLUTE="absolute"}(Bo||(Bo={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}(Go||(Go={})),function(e){e.QUANTITY="Quantity",e.CODEABLECONCEPT="CodeableConcept",e.STRING="string",e.BOOLEAN="boolean",e.INTEGER="integer",e.RANGE="Range",e.RATIO="Ratio",e.SAMPLEDDATA="SampledData",e.TIME="time",e.DATETIME="dateTime",e.PERIOD="Period"}(Wo||(Wo={})),function(e){e.REQUIRED="required",e.EXTENSIBLE="extensible",e.PREFERRED="preferred",e.EXAMPLE="example"}(Ho||(Ho={})),function(e){e.NUMBER="number",e.DATE="date",e.STRING="string",e.TOKEN="token",e.REFERENCE="reference",e.COMPOSITE="composite",e.QUANTITY="quantity",e.URI="uri",e.SPECIAL="special"}(zo||(zo={})),function(e){e.IN="in",e.OUT="out"}(Ko||(Ko={})),function(e){e.OPERATION="operation",e.QUERY="query"}(Yo||(Yo={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Qo||(Qo={})),function(e){e.FATAL="fatal",e.ERROR="error",e.WARNING="warning",e.INFORMATION="information"}(Xo||(Xo={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}(Jo||(Jo={})),function(e){e.REPLACED_BY="replaced-by",e.REPLACES="replaces",e.REFER="refer",e.SEEALSO="seealso"}(Zo||(Zo={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}($o||($o={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(el||(el={})),function(e){e.DISPLAY="display",e.PRINT="print",e.PRINTOPER="printoper"}(nl||(nl={})),function(e){e.QUEUED="queued",e.COMPLETE="complete",e.ERROR="error",e.PARTIAL="partial"}(tl||(tl={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(il||(il={})),function(e){e.LEVEL1="level1",e.LEVEL2="level2",e.LEVEL3="level3",e.LEVEL4="level4"}(al||(al={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}(rl||(rl={})),function(e){e.APPLICABILITY="applicability",e.START="start",e.STOP="stop"}(ol||(ol={})),function(e){e.BEFORE_START="before-start",e.BEFORE="before",e.BEFORE_END="before-end",e.CONCURRENT_WITH_START="concurrent-with-start",e.CONCURRENT="concurrent",e.CONCURRENT_WITH_END="concurrent-with-end",e.AFTER_START="after-start",e.AFTER="after",e.AFTER_END="after-end"}(ll||(ll={})),function(e){e.PATIENT="patient",e.PRACTITIONER="practitioner",e.RELATED_PERSON="related-person",e.DEVICE="device"}(sl||(sl={})),function(e){e.SINGLE="single",e.MULTIPLE="multiple"}(cl||(cl={})),function(e){e.VISUAL_GROUP="visual-group",e.LOGICAL_GROUP="logical-group",e.SENTENCE_GROUP="sentence-group"}(ul||(ul={})),function(e){e.YES="yes",e.NO="no"}(dl||(dl={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(pl||(pl={})),function(e){e.MUST="must",e.COULD="could",e.MUST_UNLESS_DOCUMENTED="must-unless-documented"}(fl||(fl={})),function(e){e.ANY="any",e.ALL="all",e.ALL_OR_NONE="all-or-none",e.EXACTLY_ONE="exactly-one",e.AT_MOST_ONE="at-most-one",e.ONE_OR_MORE="one-or-more"}(vl||(vl={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(ml||(ml={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}(Ol||(Ol={})),function(e){e.MON="mon",e.TUE="tue",e.WED="wed",e.THU="thu",e.FRI="fri",e.SAT="sat",e.SUN="sun"}(bl||(bl={})),function(e){e.PREPARATION="preparation",e.IN_PROGRESS="in-progress",e.NOT_DONE="not-done",e.ON_HOLD="on-hold",e.STOPPED="stopped",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(hl||(hl={})),function(e){e.DERIVATION="derivation",e.REVISION="revision",e.QUOTATION="quotation",e.SOURCE="source",e.REMOVAL="removal"}(El||(El={})),function(e){e.EXISTS="exists",e.EQUALS="=",e.NOT_EQUALS="!=",e.GREATER_THAN=">",e.LESS_THAN="<",e.GREATER_THAN_OR_EQUALS=">=",e.LESS_THAN_OR_EQUALS="<="}(gl||(gl={})),function(e){e.ALL="all",e.ANY="any"}(jl||(jl={})),function(e){e.GROUP="group",e.DISPLAY="display",e.BOOLEAN="boolean",e.DECIMAL="decimal",e.INTEGER="integer",e.DATE="date",e.DATETIME="dateTime"}(xl||(xl={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(yl||(yl={})),function(e){e.IN_PROGRESS="in-progress",e.COMPLETED="completed",e.AMENDED="amended",e.ENTERED_IN_ERROR="entered-in-error",e.STOPPED="stopped"}(Il||(Il={})),function(e){e.MALE="male",e.FEMALE="female",e.OTHER="other",e.UNKNOWN="unknown"}(Nl||(Nl={})),function(e){e.APPLICABILITY="applicability",e.START="start",e.STOP="stop"}(Rl||(Rl={})),function(e){e.BEFORE_START="before-start",e.BEFORE="before",e.BEFORE_END="before-end",e.CONCURRENT_WITH_START="concurrent-with-start",e.CONCURRENT="concurrent",e.CONCURRENT_WITH_END="concurrent-with-end",e.AFTER_START="after-start",e.AFTER="after",e.AFTER_END="after-end"}(Tl||(Tl={})),function(e){e.SINGLE="single",e.MULTIPLE="multiple"}(Al||(Al={})),function(e){e.VISUAL_GROUP="visual-group",e.LOGICAL_GROUP="logical-group",e.SENTENCE_GROUP="sentence-group"}(Cl||(Cl={})),function(e){e.YES="yes",e.NO="no"}(Sl||(Sl={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(kl||(kl={})),function(e){e.MUST="must",e.COULD="could",e.MUST_UNLESS_DOCUMENTED="must-unless-documented"}(Dl||(Dl={})),function(e){e.ANY="any",e.ALL="all",e.ALL_OR_NONE="all-or-none",e.EXACTLY_ONE="exactly-one",e.AT_MOST_ONE="at-most-one",e.ONE_OR_MORE="one-or-more"}(Ll||(Ll={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.DIRECTIVE="directive",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(wl||(wl={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(Pl||(Pl={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(ql||(ql={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(_l||(_l={})),function(e){e.MEAN="mean",e.MEDIAN="median",e.MEAN_OF_MEAN="mean-of-mean",e.MEAN_OF_MEDIAN="mean-of-median",e.MEDIAN_OF_MEAN="median-of-mean",e.MEDIAN_OF_MEDIAN="median-of-median"}(Vl||(Vl={})),function(e){e.MEAN="mean",e.MEDIAN="median",e.MEAN_OF_MEAN="mean-of-mean",e.MEAN_OF_MEDIAN="mean-of-median",e.MEDIAN_OF_MEAN="median-of-mean",e.MEDIAN_OF_MEDIAN="median-of-median"}(Ml||(Ml={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Ul||(Ul={})),function(e){e.POPULATION="population",e.EXPOSURE="exposure",e.OUTCOME="outcome"}(Fl||(Fl={})),function(e){e.DICHOTOMOUS="dichotomous",e.CONTINUOUS="continuous",e.DESCRIPTIVE="descriptive"}(Bl||(Bl={})),function(e){e.ACTIVE="active",e.ADMINISTRATIVELY_COMPLETED="administratively-completed",e.APPROVED="approved",e.CLOSED_TO_ACCRUAL="closed-to-accrual",e.CLOSED_TO_ACCRUAL_AND_INTERVENTION="closed-to-accrual-and-intervention",e.COMPLETED="completed",e.DISAPPROVED="disapproved",e.IN_REVIEW="in-review",e.TEMPORARILY_CLOSED_TO_ACCRUAL="temporarily-closed-to-accrual",e.TEMPORARILY_CLOSED_TO_ACCRUAL_AND_INTERVENTION="temporarily-closed-to-accrual-and-intervention",e.WITHDRAWN="withdrawn"}(Gl||(Gl={})),function(e){e.CANDIDATE="candidate",e.ELIGIBLE="eligible",e.FOLLOW_UP="follow-up",e.INELIGIBLE="ineligible",e.NOT_REGISTERED="not-registered",e.OFF_STUDY="off-study",e.ON_STUDY="on-study",e.ON_STUDY_INTERVENTION="on-study-intervention",e.ON_STUDY_OBSERVATION="on-study-observation",e.PENDING_ON_STUDY="pending-on-study",e.POTENTIAL_CANDIDATE="potential-candidate",e.SCREENING="screening",e.WITHDRAWN="withdrawn"}(Wl||(Wl={})),function(e){e.REGISTERED="registered",e.PRELIMINARY="preliminary",e.FINAL="final",e.AMENDED="amended"}(Hl||(Hl={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(zl||(zl={})),function(e){e.EQ="eq",e.NE="ne",e.GT="gt",e.LT="lt",e.GE="ge",e.LE="le",e.SA="sa",e.EB="eb",e.AP="ap"}(Kl||(Kl={})),function(e){e.MISSING="missing",e.EXACT="exact",e.CONTAINS="contains",e.NOT="not",e.TEXT="text",e.IN="in",e.NOT_IN="not-in",e.BELOW="below",e.ABOVE="above",e.TYPE="type",e.IDENTIFIER="identifier",e.OFTYPE="ofType"}(Yl||(Yl={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Ql||(Ql={})),function(e){e.NUMBER="number",e.DATE="date",e.STRING="string",e.TOKEN="token",e.REFERENCE="reference",e.COMPOSITE="composite",e.QUANTITY="quantity",e.URI="uri",e.SPECIAL="special"}(Xl||(Xl={})),function(e){e.NORMAL="normal",e.PHONETIC="phonetic",e.NEARBY="nearby",e.DISTANCE="distance",e.OTHER="other"}(Jl||(Jl={})),function(e){e.PROPOSAL="proposal",e.PLAN="plan",e.DIRECTIVE="directive",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(Zl||(Zl={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}($l||($l={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.ON_HOLD="on-hold",e.REVOKED="revoked",e.COMPLETED="completed",e.ENTERED_IN_ERROR="entered-in-error",e.UNKNOWN="unknown"}(es||(es={})),function(e){e.BUSY="busy",e.FREE="free",e.BUSY_UNAVAILABLE="busy-unavailable",e.BUSY_TENTATIVE="busy-tentative",e.ENTERED_IN_ERROR="entered-in-error"}(ns||(ns={})),function(e){e.AVAILABLE="available",e.UNAVAILABLE="unavailable",e.UNSATISFACTORY="unsatisfactory",e.ENTERED_IN_ERROR="entered-in-error"}(ts||(ts={})),function(e){e.PREFERRED="preferred",e.ALTERNATE="alternate"}(is||(is={})),function(e){e.FHIRPATH="fhirpath",e.ELEMENT="element",e.EXTENSION="extension"}(as||(as={})),function(e){e.SPECIALIZATION="specialization",e.CONSTRAINT="constraint"}(rs||(rs={})),function(e){e.PRIMITIVE_TYPE="primitive-type",e.COMPLEX_TYPE="complex-type",e.RESOURCE="resource",e.LOGICAL="logical"}(os||(os={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(ls||(ls={})),function(e){e.SOURCE="source",e.QUERIED="queried",e.TARGET="target",e.PRODUCED="produced"}(ss||(ss={})),function(e){e.SOURCE="source",e.TARGET="target"}(cs||(cs={})),function(e){e.FIRST="first",e.NOT_FIRST="not_first",e.LAST="last",e.NOT_LAST="not_last",e.ONLY_ONE="only_one"}(us||(us={})),function(e){e.TYPE="type",e.VARIABLE="variable"}(ds||(ds={})),function(e){e.FIRST="first",e.SHARE="share",e.LAST="last",e.COLLATE="collate"}(ps||(ps={})),function(e){e.CREATE="create",e.COPY="copy"}(fs||(fs={})),function(e){e.NONE="none",e.TYPES="types",e.TYPE_AND_TYPES="type-and-types"}(vs||(vs={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(ms||(ms={})),function(e){e.REST_HOOK="rest-hook",e.WEBSOCKET="websocket",e.EMAIL="email",e.SMS="sms",e.MESSAGE="message"}(Os||(Os={})),function(e){e.REQUESTED="requested",e.ACTIVE="active",e.ERROR="error",e.OFF="off"}(bs||(bs={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.ENTERED_IN_ERROR="entered-in-error"}(hs||(hs={})),function(e){e.IN_PROGRESS="in-progress",e.COMPLETED="completed",e.ABANDONED="abandoned",e.ENTERED_IN_ERROR="entered-in-error"}(Es||(Es={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(gs||(gs={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.SUSPENDED="suspended"}(js||(js={})),function(e){e.UNKNOWN="unknown",e.PROPOSAL="proposal",e.PLAN="plan",e.ORDER="order",e.ORIGINAL_ORDER="original-order",e.REFLEX_ORDER="reflex-order",e.FILLER_ORDER="filler-order",e.INSTANCE_ORDER="instance-order",e.OPTION="option"}(xs||(xs={})),function(e){e.ROUTINE="routine",e.URGENT="urgent",e.ASAP="asap",e.STAT="stat"}(ys||(ys={})),function(e){e.DRAFT="draft",e.REQUESTED="requested",e.RECEIVED="received",e.ACCEPTED="accepted",e.PLUS="+"}(Is||(Is={})),function(e){e.EXPLICIT="explicit",e.ALL="all"}(Ns||(Ns={})),function(e){e.INSTANCE="instance",e.CAPABILITY="capability",e.REQUIREMENTS="requirements"}(Rs||(Rs={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Ts||(Ts={})),function(e){e.TEST_ENGINE="test-engine",e.CLIENT="client",e.SERVER="server"}(As||(As={})),function(e){e.PASS="pass",e.SKIP="skip",e.FAIL="fail",e.WARNING="warning",e.ERROR="error"}(Cs||(Cs={})),function(e){e.PASS="pass",e.SKIP="skip",e.FAIL="fail",e.WARNING="warning",e.ERROR="error"}(Ss||(Ss={})),function(e){e.PASS="pass",e.FAIL="fail",e.PENDING="pending"}(ks||(ks={})),function(e){e.COMPLETED="completed",e.IN_PROGRESS="in-progress",e.WAITING="waiting",e.STOPPED="stopped",e.ENTERED_IN_ERROR="entered-in-error"}(Ds||(Ds={})),function(e){e.DELETE="delete",e.GET="get",e.OPTIONS="options",e.PATCH="patch",e.POST="post",e.PUT="put",e.HEAD="head"}(Ls||(Ls={})),function(e){e.RESPONSE="response",e.REQUEST="request"}(ws||(ws={})),function(e){e.EQUALS="equals",e.NOTEQUALS="notEquals",e.IN="in",e.NOTIN="notIn",e.GREATERTHAN="greaterThan",e.LESSTHAN="lessThan",e.EMPTY="empty",e.NOTEMPTY="notEmpty",e.CONTAINS="contains",e.NOTCONTAINS="notContains",e.EVAL="eval"}(Ps||(Ps={})),function(e){e.DELETE="delete",e.GET="get",e.OPTIONS="options",e.PATCH="patch",e.POST="post",e.PUT="put",e.HEAD="head"}(qs||(qs={})),function(e){e.OKAY="okay",e.CREATED="created",e.NOCONTENT="noContent",e.NOTMODIFIED="notModified",e.BAD="bad",e.FORBIDDEN="forbidden",e.NOTFOUND="notFound",e.METHODNOTALLOWED="methodNotAllowed",e.CONFLICT="conflict",e.GONE="gone",e.PRECONDITIONFAILED="preconditionFailed",e.UNPROCESSABLE="unprocessable"}(_s||(_s={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Vs||(Vs={})),function(e){e.EQUALS="=",e.IS_A="is-a",e.DESCENDENT_OF="descendent-of",e.IS_NOT_A="is-not-a",e.REGEX="regex",e.IN="in",e.NOT_IN="not-in",e.GENERALIZES="generalizes",e.EXISTS="exists"}(Ms||(Ms={})),function(e){e.DRAFT="draft",e.ACTIVE="active",e.RETIRED="retired",e.UNKNOWN="unknown"}(Us||(Us={})),function(e){e.ATTESTED="attested",e.VALIDATED="validated",e.IN_PROCESS="in-process",e.REQ_REVALID="req-revalid",e.VAL_FAIL="val-fail",e.REVAL_FAIL="reval-fail"}(Fs||(Fs={})),function(e){e.UP="up",e.DOWN="down",e.IN="in",e.OUT="out"}(Bs||(Bs={})),function(e){e.RIGHT="right",e.LEFT="left"}(Gs||(Gs={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.DRAFT="draft",e.ENTERED_IN_ERROR="entered-in-error"}(Ws||(Ws={}));var nc=function(e){var n=e.currentItem,t=e.dispatchUpdateItemEnableBehavior,i=Object(Rn.a)().t;return Object(un.jsx)("div",{className:"enablebehavior",children:Object(un.jsx)(Ks,{onChange:function(e){t(e)},checked:n.enableBehavior===jl.ALL?jl.ALL:jl.ANY,options:[{code:jl.ANY,display:i("At least one condition must be fulfilled")},{code:jl.ALL,display:i("All conditions must be fulfilled")}],name:"ew-behavior-".concat(n.linkId)})})},tc=t(736),ic=t(737),ac=t(734),rc=t(735),oc=(t(125),t(126),t(47)),lc=t.n(oc),sc=t(74);Object(oc.setDefaultLocale)("enUS"),Object(oc.registerLocale)("enUS",sc.enUS);var cc=function(e){var n=e.type,t=e.disabled,i=void 0===t||t,a=e.nowButton,r=e.callback,o=e.selected,l=Object(Rn.a)().t,s=Object(u.useState)(),c=Object(b.a)(s,2),d=c[0],p=c[1];return Object(un.jsxs)("div",{className:"datepicker",children:[Object(un.jsx)(lc.a,{disabled:i,placeholderText:"time"===n?"00:00":l("mm.dd.yyyy"),selected:o||d,onChange:function(e){p(e),r&&r(e)},todayButton:a?l("Today"):void 0,locale:"enUS",showTimeSelect:"time"===n,showTimeSelectOnly:"time"===n,dateFormat:"date"===n?"MM.dd.yyyy":"HH:mm",timeCaption:l("Time")}),Object(un.jsx)("i",{className:"time"===n?"time-icon":"calendar-icon","aria-label":"datepicker"})]})};Object(oc.setDefaultLocale)("nb"),Object(oc.registerLocale)("nb",sc.nb);var uc,dc,pc=function(e){var n=e.disabled,t=void 0===n||n,i=e.callback,a=e.nowButton,r=e.selected,o=Object(Rn.a)().t,l=Object(u.useState)(),s=Object(b.a)(l,2),c=s[0],d=s[1];return Object(un.jsxs)("div",{className:"datepicker",children:[Object(un.jsx)(lc.a,{disabled:t,placeholderText:o("mm.dd.yyyy 00:00"),selected:r||c,onChange:function(e){d(e),i&&i(e)},todayButton:a?o("Today"):void 0,timeIntervals:15,locale:"enUS",showTimeSelect:!0,dateFormat:"MM.dd.yyyy HH:mm",timeCaption:o("Time")}),Object(un.jsx)("i",{className:"calendar-icon","aria-label":"date and time picker"})]})},fc=function(e){var n,t=e.conditionItem,a=e.index,r=e.enableWhen,o=e.itemEnableWhen,l=e.containedResources,c=e.dispatchUpdateItemEnableWhen,d=Object(u.useContext)(bn).state,p=Object(Rn.a)().t,f=d.qContained,v=function(e){var n;return(null===(n=e.extension)||void 0===n?void 0:n.filter((function(e){return e.url===s.optionReference})).map((function(e){var n,t;return{code:(null===(n=e.valueReference)||void 0===n?void 0:n.reference)||"",display:null===(t=e.valueReference)||void 0===t?void 0:t.display}})))||[]},m=function(e){if(e.answerOption)return e.answerOption.map((function(e){var n,t;return{code:(null===(n=e.valueCoding)||void 0===n?void 0:n.code)||"",display:null===(t=e.valueCoding)||void 0===t?void 0:t.display}}));if(e.answerValueSet&&l){var n=l.find((function(n){return"#".concat(n.id)===e.answerValueSet}));return En(n).map((function(e){return{code:e.code||"",display:e.display}}))}return[]},O=function(e){if(t.answerValueSet){var n,i=null===f||void 0===f?void 0:f.find((function(e){var n;return e.id===(null===(n=t.answerValueSet)||void 0===n?void 0:n.replace("#",""))}));return null===(n=En(i).find((function(n){return n.code===e})))||void 0===n?void 0:n.system}var a,r,o;return null===(a=t.answerOption)||void 0===a||null===(r=a.find((function(n){var t;return(null===(t=n.valueCoding)||void 0===t?void 0:t.code)===e})))||void 0===r||null===(o=r.valueCoding)||void 0===o?void 0:o.system};return Object(un.jsxs)(un.Fragment,{children:[C(t)&&Object(un.jsx)(Rt,{defaultValue:(null===(n=r.answerReference)||void 0===n?void 0:n.reference)||"",onBlur:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerReference:{reference:e.target.value}}):n}));c(n)}}),cn(t)&&Object(un.jsx)(Et,{placeholder:p("Choose an option.."),options:v(t),value:function(){var e,n,i=null===(e=r.answerReference)||void 0===e?void 0:e.reference;return null===(n=v(t).find((function(e){return e.code===i})))||void 0===n?void 0:n.code}(),onChange:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?(i=n,r=e.target.value,Object(g.a)(Object(g.a)({},i),{},{answerReference:{reference:r}})):n;var i,r}));c(n)}}),!cn(t)&&!C(t)&&(t.type===i.choice||t.type===i.openChoice)&&Object(un.jsx)(Et,{placeholder:p("Choose an option.."),options:m(t),value:function(){var e,n,i,a=null===(e=r.answerCoding)||void 0===e?void 0:e.code,o=O(a||"");return!!o&&o===(null===(n=r.answerCoding)||void 0===n?void 0:n.system)?null===(i=m(t).find((function(e){return e.code===a})))||void 0===i?void 0:i.code:void 0}(),onChange:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?(i=n,r=e.target.value,Object(g.a)(Object(g.a)({},i),{},{answerCoding:{system:O(e.target.value),code:r}})):n;var i,r}));c(n)}}),t.type===i.boolean&&Object(un.jsx)(Et,{placeholder:p("Choose an option.."),options:[{display:p("True"),code:"true"},{display:p("Not true"),code:"false"}],value:(r.answerBoolean||"").toString(),onChange:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerBoolean:"true"===e.target.value}):n}));c(n)}}),t.type===i.date&&Object(un.jsx)(cc,{selected:r.answerDate?Object(tc.a)(r.answerDate,"yyyy-MM-dd",new Date):void 0,disabled:!1,type:"date",callback:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerDate:Object(ic.a)(e,"yyyy-MM-dd")}):n}));c(n)}}),t.type===i.dateTime&&Object(un.jsx)(pc,{selected:r.answerDateTime?Object(ac.a)(r.answerDateTime):void 0,disabled:!1,callback:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerDateTime:Object(rc.a)(e)}):n}));c(n)}}),t.type===i.time&&Object(un.jsx)(cc,{selected:r.answerTime?Object(tc.a)(r.answerTime,"HH:mm:ss",new Date):void 0,type:"time",disabled:!1,callback:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerTime:Object(ic.a)(e,"HH:mm:ss")}):n}));c(n)}}),t.type===i.integer&&Object(un.jsx)("input",{type:"number",defaultValue:r.answerInteger,onBlur:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerInteger:parseInt(e.target.value,10)}):n}));c(n)}}),t.type===i.decimal&&Object(un.jsx)("input",{type:"number",defaultValue:r.answerDecimal,onBlur:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerDecimal:parseFloat(e.target.value)}):n}));c(n)}}),t.type===i.quantity&&Object(un.jsx)("input",{type:"number",defaultValue:r.answerQuantity?r.answerQuantity.value:"",onBlur:function(e){var n,i,r=(t.extension||[]).find((function(e){return e.url===s.questionnaireUnit})),l=r?null===(n=r.valueCoding)||void 0===n?void 0:n.system:"",u=r?null===(i=r.valueCoding)||void 0===i?void 0:i.code:"",d=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerQuantity:{value:parseFloat(e.target.value),system:l,code:u}}):n}));c(d)}}),(t.type===i.string||t.type===i.text)&&Object(un.jsx)(Rt,{defaultValue:r.answerString||"",onBlur:function(e){var n=null===o||void 0===o?void 0:o.map((function(n,t){return a===t?Object(g.a)(Object(g.a)({},n),{},{answerString:e.target.value}):n}));c(n)}})]})},vc=function(e){var n=e.title,t=e.children;return Object(un.jsxs)("div",{className:"infobox",children:[Object(un.jsx)("p",{children:n}),t]})},mc=(uc={},Object(h.a)(uc,o.exists,"exists"),Object(h.a)(uc,o.equal,"is equal to"),Object(h.a)(uc,o.notEqual,"is not equal"),Object(h.a)(uc,o.greaterThan,"is greater than"),Object(h.a)(uc,o.lessThan,"is less than"),Object(h.a)(uc,o.greaterThanOrEqual,"is greater than or equal"),Object(h.a)(uc,o.lessThanOrEqual,"is less than or equal"),uc),Oc=function(e){var n=e.getItem,t=e.linkId,i=e.enableWhen,a=e.containedResources,r=e.enableBehavior,o=Object(Rn.a)().t,l=function(e,i){return e.question?n(e.question)?(r=e.hasOwnProperty("answerBoolean")?!0===e.answerBoolean?o("True"):o("Not true"):e.hasOwnProperty("answerDecimal")?e.answerDecimal.toString():e.hasOwnProperty("answerInteger")?e.answerInteger.toString():e.hasOwnProperty("answerDate")?Object(ic.a)(new Date(e.answerDate),"dd.MM.yyyy"):e.hasOwnProperty("answerDateTime")?Object(ic.a)(new Date(e.answerDateTime),"dd.MM.yyyy' 'HH:mm"):e.hasOwnProperty("answerTime")?e.answerTime:e.hasOwnProperty("answerString")?e.answerString:e.hasOwnProperty("answerCoding")?function(e,t){var i,r=n(e);if(r.answerOption){var l,s=r.answerOption.find((function(e){var n,i;return(null===(n=e.valueCoding)||void 0===n?void 0:n.system)===t.system&&(null===(i=e.valueCoding)||void 0===i?void 0:i.code)===t.code}));i=null===s||void 0===s||null===(l=s.valueCoding)||void 0===l?void 0:l.display}else if(r.answerValueSet&&a){var c=a.find((function(e){return"#".concat(e.id)===r.answerValueSet})),u=En(c).find((function(e){return e.code===t.code&&e.system===t.system}));i=null===u||void 0===u?void 0:u.display}return i||o("<not set>")}(e.question,e.answerCoding):e.hasOwnProperty("answerQuantity")?function(e){var n="";if(e){var t=e.unit;n="".concat(e.value," ").concat(t||e.code)}return n}(e.answerQuantity):e.hasOwnProperty("answerReference")&&e.answerReference.reference||"",Object(un.jsxs)("div",{children:[i&&Object(un.jsx)("p",{children:i}),Object(un.jsx)("strong",{children:n(e.question).text})," ",o(mc[e.operator])||o("<operator>")," ",Object(un.jsx)("strong",{children:r})]},"".concat(t,"-").concat(e.question,"-").concat(e.operator,"-").concat(r))):(console.warn(o("Error in enableWhen: item with linkId {0} does not exist").replace("{0}",e.question)),Object(un.jsx)("div",{children:o("Error in enableWhen: item with linkId {0} does not exist").replace("{0}",e.question)},"".concat(t,"-").concat(e.question,"-").concat(e.operator,"-notfound"))):Object(un.jsx)("div",{},"".concat(t,"-empty-").concat(x()));var r},s=r===jl.ALL?o("and"):o("or");return Object(un.jsx)(vc,{title:o("Element will be shown if:"),children:i.map((function(e,n){return l(e,n>0?s:"")}))})},bc=function(e){var n,t,a=Object(Rn.a)().t;return Object(un.jsx)(Et,{placeholder:a("Select an operator"),options:(t=e.conditionItem.type,t===i.boolean?Xe:t===i.choice||t===i.openChoice?Je:t===i.date||t===i.dateTime?Ze:$e),value:(n=e.ew,o.exists&&!1===n.answerBoolean?o.notExists:n.operator),onChange:function(n){var t,i=n.target.value,a=null===(t=e.thisItem.enableWhen)||void 0===t?void 0:t.map((function(n,t){var a=Object(g.a)({},n);return e.ewIndex!==t||i!==o.exists&&i!==o.notExists?e.ewIndex===t&&(a.operator=i,a.answerBoolean&&delete a.answerBoolean):a={question:n.question,operator:o.exists,answerBoolean:i===o.exists},a}));e.dispatchUpdateItemEnableWhen(a)}})},hc=function(e){var n=e.getItem,t=e.conditionalArray,a=e.linkId,l=e.enableWhen,s=e.containedResources,c=e.itemValidationErrors,d=Object(Rn.a)().t,p=Object(u.useContext)(bn).dispatch,f=function(e){p(ye(a,r.enableWhen,e))},v=function(e){return!(e===i.group||e===i.display||e===i.attachment||e===i.reference)};return Object(un.jsxs)("div",{children:[Object(un.jsx)("p",{children:d("Set condition for display of element")}),l.map((function(e,i){var r,l=n(e.question),u=c.some((function(e){return"enableWhen"===e.errorProperty.substr(0,10)&&i===e.index}));return Object(un.jsxs)("div",{className:"enablewhen-box ".concat(u?"validation-error":""),children:[!e.question||(r=e.question,t.filter((function(e){return e.code===r})).length>0)?Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:d("Select earlier question:"),children:Object(un.jsx)(Et,{placeholder:d("Choose question:"),options:t,value:e.question,onChange:function(e){var t,r=null===(t=n(a).enableWhen)||void 0===t?void 0:t.map((function(n,t){return i===t?{question:e.target.value,operator:o.equal}:n}));f(r)}})}),!!l&&v(l.type)&&Object(un.jsx)(It,{label:d("Show if answer is:"),children:Object(un.jsxs)("div",{className:"enablewhen-condition",children:[Object(un.jsx)(bc,{conditionItem:l,thisItem:n(a),ew:e,ewIndex:i,dispatchUpdateItemEnableWhen:f}),Object(un.jsx)("div",{className:"enableWhen-condition__answer",children:e.operator!==o.exists&&Object(un.jsx)(fc,{conditionItem:l,index:i,enableWhen:e,itemEnableWhen:n(a).enableWhen,containedResources:s,dispatchUpdateItemEnableWhen:f})})]})}),!!l&&!v(l.type)&&Object(un.jsxs)("p",{children:["".concat(d("The form builder does not support enableWhen of type:")," "),Object(un.jsx)("strong",{children:l.type})]})]}):Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("div",{children:d("This condition cannot be edited in the form builder:")}),Object(un.jsx)("div",{children:JSON.stringify(e,void 0,2)})]}),Object(un.jsx)(Tn,{onClick:function(){var e=n(a).enableWhen,t=null===e||void 0===e?void 0:e.filter((function(e,n){return n!==i}));f(t)},variant:"secondary",icon:"ion-ios-trash",title:d("Remove condition")})]},"".concat(a,"-").concat(e.question,"-").concat(e.operator,"-").concat(i))})),Object(un.jsx)(Tn,{onClick:function(){var e=n(a).enableWhen;f((e||[]).concat({}))},variant:"primary",icon:"ion-plus-round",title:d("Add a condition")}),l.length>1&&Object(un.jsx)(nc,{currentItem:n(a),dispatchUpdateItemEnableBehavior:function(e){p(ye(a,r.enableBehavior,e))}}),l.length>0&&Object(un.jsx)(Oc,{getItem:n,linkId:a,enableWhen:l,containedResources:s,enableBehavior:n(a).enableBehavior})]})},Ec="highlight",gc="inline",jc=[{code:"",display:"Display"},{code:Ec,display:"Highlight"},{code:gc,display:"Expanded text"}],xc=function(e){var n,t,a=e.item,o=e.parentArray,l=Object(Rn.a)().t,c=Object(u.useContext)(bn),d=c.state,p=d.qItems,f=d.qOrder,v=c.dispatch,m=[].concat(Object(E.a)(o),[a.linkId]),O=Mt(m,f),b=O.length>0?O[0].linkId:"",h=b?p[b]:void 0,g=(null===h||void 0===h||null===(n=h._text)||void 0===n?void 0:n.extension)&&(null===(t=h._text)||void 0===t?void 0:t.extension[0].valueMarkdown)||"",j=function(){return q(a)?gc:w(a)?Ec:""},x=function(e){e?U(a,e,v):F(a,s.itemControl,v),v(ye(a.linkId,r.type,i.display)),b&&v(xe(b,[].concat(Object(E.a)(o),[a.linkId])))};return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:l("Display type"),children:Object(un.jsx)(Ks,{onChange:function(e){if(e===gc){var n=R(y.inline),t=Vn();U(a,n,v),v(ye(a.linkId,r.type,i.text)),v(je(t,[].concat(Object(E.a)(o),[a.linkId]),0)),a.extension&&H(a.extension)&&U(t,W(H(a.extension)),v)}else if(e===Ec){var l=R(y.highlight);x(l)}else x()},checked:j(),options:jc,name:"infotext-radio"})}),j()===gc&&Object(un.jsx)(It,{label:l("Expanded text"),children:Object(un.jsx)(ti,{data:g,onBlur:function(e){var n=G(e);v(ye(b,r._text,n)),v(ye(b,r.text,e))}})})]})},yc=function(e){var n,t,a,o,l,c,d,p,f=e.item,v=Object(Rn.a)().t,m=Object(u.useContext)(bn).dispatch,O=(null===f||void 0===f||null===(n=f.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.validationtext})))||void 0===t?void 0:t.valueString)||"",b=null===f||void 0===f||null===(a=f.extension)||void 0===a||null===(o=a.find((function(e){return e.url===s.minValue})))||void 0===o?void 0:o.valueInteger,h=null===f||void 0===f||null===(l=f.extension)||void 0===l||null===(c=l.find((function(e){return e.url===s.maxValue})))||void 0===c?void 0:c.valueInteger,E=null===f||void 0===f||null===(d=f.extension)||void 0===d||null===(p=d.find((function(e){return e.url===s.maxDecimalPlaces})))||void 0===p?void 0:p.valueInteger,g=(null===f||void 0===f?void 0:f.type)===i.decimal||(null===f||void 0===f?void 0:f.type)===i.quantity;return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsxs)("div",{className:"horizontal equal",children:[(null===f||void 0===f?void 0:f.type)!==i.quantity&&Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{label:v("Allow decimals"),value:g,onChange:function(){var e,n=(null===f||void 0===f?void 0:f.type)===i.decimal?i.integer:i.decimal;e=n,m(ye(f.linkId,r.type,e)),n===i.integer&&F(f,s.maxDecimalPlaces,m)}})}),g&&Object(un.jsxs)(It,{children:[Object(un.jsx)("label",{className:"#",children:v("Max number of decimals")}),Object(un.jsx)("input",{type:"number",defaultValue:E,onBlur:function(e){if(e.target.value){var n={url:s.maxDecimalPlaces,valueInteger:parseInt(e.target.value)};U(f,n,m)}else F(f,s.maxDecimalPlaces,m)}})]})]}),Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)(It,{label:v("Min value"),children:Object(un.jsx)("input",{type:"number",defaultValue:b,onBlur:function(e){if(e.target.value){var n={url:s.minValue,valueInteger:parseInt(e.target.value)};U(f,n,m)}else F(f,s.minValue,m)}})}),Object(un.jsx)(It,{label:v("Max value"),children:Object(un.jsx)("input",{type:"number",defaultValue:h,onBlur:function(e){if(e.target.value){var n={url:s.maxValue,valueInteger:parseInt(e.target.value)};U(f,n,m)}else F(f,s.maxValue,m)}})})]}),Object(un.jsx)(It,{label:v("Enter custom error message"),children:Object(un.jsx)(Rt,{defaultValue:O,placeholder:v("error message"),onBlur:function(e){if(e.target.value){var n={url:s.validationtext,valueString:e.target.value};U(f,n,m)}else F(f,s.validationtext,m)}})})]})},Ic="CUSTOM",Nc=function(e){var n,t,i,a,o,l,c=e.item,p=Object(Rn.a)().t,f=Object(u.useContext)(bn).dispatch,v=[{display:p("Email"),code:"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"},{display:p("URL"),code:"^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|www\\.){1}([0-9A-Za-z-\\.@:%_+~#=]+)+((\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\?(.)*)?"},{display:p("Zip code"),code:"^(000[1-9]|0[1-9][0-9][0-9]|[1-9][0-9][0-9][0-8])$"}],m=function(e){var n={url:s.regEx,valueString:e};U(c,n,f)},O=(null===c||void 0===c||null===(n=c.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.validationtext})))||void 0===t?void 0:t.valueString)||"",h=(null===c||void 0===c||null===(i=c.extension)||void 0===i||null===(a=i.find((function(e){return e.url===s.regEx})))||void 0===a?void 0:a.valueString)||"",E=null===c||void 0===c||null===(o=c.extension)||void 0===o||null===(l=o.find((function(e){return e.url===s.minLength})))||void 0===l?void 0:l.valueInteger,g=!!h&&!v.find((function(e){return e.code===h})),j=d.a.useState(g),x=Object(b.a)(j,2),y=x[0],I=x[1];return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsxs)(It,{label:p("Answer should be:"),children:[Object(un.jsx)(Et,{value:y?Ic:h,options:[{display:p("No character validation"),code:""}].concat(v,[{display:p("Custom regular expression"),code:Ic}]),onChange:function(e){e.target.value?e.target.value===Ic?(I(!0),F(c,s.regEx,f)):(I(!1),m(e.target.value)):(F(c,s.regEx,f),I(!1))}}),y&&Object(un.jsx)("textarea",{defaultValue:h,placeholder:p("Enter custom regular expression"),onBlur:function(e){e.target.value?m(e.target.value):F(c,s.regEx,f)}})]}),Object(un.jsx)(It,{label:p("Enter custom error message"),children:Object(un.jsx)(Rt,{defaultValue:O,onChange:function(e){if(e.target.value){var n={url:s.validationtext,valueString:e.target.value};U(c,n,f)}else F(c,s.validationtext,f)}})}),Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)(It,{label:p("Minimum characters"),children:Object(un.jsx)("input",{defaultValue:E,type:"number","aria-label":"minimum sign",onBlur:function(e){var n=parseInt(e.target.value);if(n){var t={url:s.minLength,valueInteger:n};U(c,t,f)}else F(c,s.minLength,f)}})}),Object(un.jsx)(It,{label:p("Maximum characters"),children:Object(un.jsx)("input",{defaultValue:c.maxLength||"",type:"number","aria-label":"maximum sign",onBlur:function(e){return n=parseInt(e.target.value.toString()),void f(ye(c.linkId,r.maxLength,n));var n}})})]})]})};!function(e){e.NOVALIDATION="no_validation",e.ABSOLUTE="abs",e.EXACT="exact",e.PLUSS="+",e.MINUS="-"}(dc||(dc={}));var Rc=function(e){var n=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"horizontal",children:[Object(un.jsx)("span",{children:"".concat(e.descriptionText," ").concat(n("is")," ")}),Object(un.jsx)(Et,{options:[{code:dc.NOVALIDATION,display:n("<no validation>")},{code:dc.ABSOLUTE,display:n("a set date")},{code:dc.EXACT,display:n("today")},{code:dc.PLUSS,display:n("today plus")},{code:dc.MINUS,display:n("today minus")}],value:e.operatorValue,onChange:function(n){e.onChangeOperatorValue(n.target.value)}}),e.operatorValue===dc.ABSOLUTE&&Object(un.jsx)(cc,{selected:e.absoluteDateValue?Object(tc.a)(e.absoluteDateValue,"yyyy-MM-dd",new Date):void 0,type:"date",disabled:!1,callback:function(n){var t=n?Object(ic.a)(n,"yyyy-MM-dd"):"";e.onChangeAbsoluteValue(t)}}),(e.operatorValue===dc.PLUSS||e.operatorValue===dc.MINUS)&&Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("input",{type:"number",placeholder:n("number"),className:"date-validation-input",defaultValue:e.numberValue,onChange:function(n){e.onChangeNumberValue(n.target.value)}}),Object(un.jsx)(Et,{placeholder:n("Unit"),options:[{code:"days",display:n("days")},{code:"weeks",display:n("weeks")},{code:"months",display:n("months")},{code:"years",display:n("year")}],value:e.unitValue,onChange:function(n){e.onChangeUnitValue(n.target.value)}})]})]})},Tc=function(e,n){var t="";return e&&(t=e.split(" ")[1]),e&&!t&&(t=dc.EXACT),n&&!t&&(t=dc.ABSOLUTE),t||dc.NOVALIDATION},Ac=function(e){return e&&e.split(" ")[2]||""},Cc=function(e){return e&&e.split(" ")[3]||""},Sc=function(e,n,t){return e===dc.NOVALIDATION||e===dc.ABSOLUTE||""===e?"":e===dc.EXACT?"today()":"today() ".concat(e||""," ").concat(n||""," ").concat(t||"")},kc=function(e){var n,t,i,a,o,l,c,p,f,v,m=e.item,O=Object(Rn.a)().t,h=Object(u.useContext)(bn).dispatch,g=(null===m||void 0===m||null===(n=m.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.validationtext})))||void 0===t?void 0:t.valueString)||"",j=null===m||void 0===m||null===(i=m.extension)||void 0===i||null===(a=i.find((function(e){return e.url===s.minValue})))||void 0===a?void 0:a.valueDate,x=null===m||void 0===m||null===(o=m.extension)||void 0===o||null===(l=o.find((function(e){return e.url===s.maxValue})))||void 0===l?void 0:l.valueDate,y=null===m||void 0===m||null===(c=m.extension)||void 0===c||null===(p=c.find((function(e){return e.url===s.fhirPathMinValue})))||void 0===p?void 0:p.valueString,I=null===m||void 0===m||null===(f=m.extension)||void 0===f||null===(v=f.find((function(e){return e.url===s.fhirPathMaxValue})))||void 0===v?void 0:v.valueString,N=d.a.useState(Tc(y,j)),R=Object(b.a)(N,2),T=R[0],A=R[1],C=d.a.useState(Ac(y)),S=Object(b.a)(C,2),k=S[0],D=S[1],L=d.a.useState(Cc(y)),w=Object(b.a)(L,2),P=w[0],q=w[1],_=d.a.useState(Tc(I,x)),V=Object(b.a)(_,2),M=V[0],B=V[1],G=d.a.useState(Ac(I)),W=Object(b.a)(G,2),H=W[0],z=W[1],K=d.a.useState(Cc(I)),Y=Object(b.a)(K,2),Q=Y[0],X=Y[1],J=function(e,n){e?U(m,{url:n,valueDate:e},h):F(m,n,h)},Z=function(e,n,t){var i=e?[].concat(Object(E.a)(t),[{url:n,valueString:e}]):t;h(ye(m.linkId,r.extension,i))},$=function(e,n,t){var i=Sc(e,n,t),a=(m.extension||[]).filter((function(e){return e.url!==s.fhirPathMinValue&&e.url!==s.minValue}));Z(i,s.fhirPathMinValue,a)},ee=function(e,n,t){var i=Sc(e,n,t),a=(m.extension||[]).filter((function(e){return e.url!==s.fhirPathMaxValue&&e.url!==s.maxValue}));Z(i,s.fhirPathMaxValue,a)};return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:O("Enter custom error message"),children:Object(un.jsx)(Rt,{defaultValue:g,onBlur:function(e){if(e.target.value){var n={url:s.validationtext,valueString:e.target.value};U(m,n,h)}else F(m,s.validationtext,h)}})}),Object(un.jsxs)(It,{children:[Object(un.jsx)(Rc,{descriptionText:O("Min date"),numberValue:k,unitValue:P,operatorValue:T,absoluteDateValue:j,onChangeAbsoluteValue:function(e){J(e,s.minValue)},onChangeNumberValue:function(e){D(e),$(T,e,P)},onChangeUnitValue:function(e){q(e),$(T,k,e)},onChangeOperatorValue:function(e){A(e),$(e,k,P)}}),Object(un.jsx)(Rc,{descriptionText:O("Max date"),numberValue:H,unitValue:Q,operatorValue:M,absoluteDateValue:x,onChangeAbsoluteValue:function(e){J(e,s.maxValue)},onChangeNumberValue:function(e){z(e),ee(M,e,Q)},onChangeUnitValue:function(e){X(e),ee(M,H,e)},onChangeOperatorValue:function(e){B(e),ee(e,H,Q)}})]})]})},Dc=function(e){var n,t,i=e.item,a=Object(Rn.a)().t,r=Object(u.useContext)(bn).dispatch,o=(null===(n=i.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.maxSize})))||void 0===t?void 0:t.valueDecimal)||"";return Object(un.jsx)(It,{label:a("Max file size in MB"),children:Object(un.jsx)("input",{defaultValue:o,type:"number","aria-label":"maximum filesize",onBlur:function(e){return function(e){var n={url:s.maxSize,valueDecimal:e};U(i,n,r)}(parseFloat(e.target.value))}})})},Lc=function(e){var n=e.item;return Object(un.jsx)(un.Fragment,{children:function(e){switch(e){case i.attachment:return Object(un.jsx)(Dc,{item:n});case i.date:case i.dateTime:return Object(un.jsx)(kc,{item:n});case i.string:case i.text:return Object(un.jsx)(Nc,{item:n});case i.integer:case i.decimal:case i.quantity:return Object(un.jsx)(yc,{item:n})}}(n.type)})},wc=function(e){var n,t=e.linkId,i=e.itemValidationErrors,r=Object(Rn.a)().t,o=Object(u.useContext)(bn),l=o.state,s=o.dispatch,c=null===(n=l.qItems[t].code)||void 0===n?void 0:n.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{id:e.id||x()})})),d=function(e,n,i){s(function(e,n,t,i){return{type:Q,linkId:e,index:n,property:t,value:i}}(t,e,n,i))},p=function(e,n){var o=i.some((function(e){return"code"===e.errorProperty.substr(0,4)&&n===e.index}));return Object(un.jsxs)("div",{className:"code-section ".concat(o?"validation-error":""),children:[Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)(It,{label:r("Display"),children:Object(un.jsx)(Rt,{defaultValue:e.display,onBlur:function(e){return d(n,a.display,e.target.value)}})}),Object(un.jsx)(It,{label:r("Code"),children:Object(un.jsx)(Rt,{defaultValue:e.code,onBlur:function(e){return d(n,a.code,e.target.value)}})})]}),Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsx)(It,{label:r("System"),children:Object(un.jsx)(Nt,{value:e.system,onBlur:function(e){return d(n,a.system,e.target.value)}})})}),Object(un.jsx)("div",{className:"center-text",children:Object(un.jsx)(Tn,{title:"- ".concat(r("Remove Code")),type:"button",onClick:function(){return s(function(e,n){return{type:Y,linkId:e,index:n}}(t,n))},variant:"secondary"})}),Object(un.jsx)("hr",{style:{margin:"24px 0px"}})]},"".concat(e.id))};return Object(un.jsxs)("div",{className:"codes",children:[c&&c.map((function(e,n){return p(e,n)})),Object(un.jsx)("div",{className:"center-text",children:Object(un.jsx)(Tn,{title:"+ ".concat(r("Add Code")),type:"button",onClick:function(){s(function(e,n){return{type:z,linkId:e,code:n}}(t,{code:"",display:"",system:Be(),id:x()}))},variant:"primary"})})]})},Pc=(t(716),function(e){var n,t=e.item,i=Object(Rn.a)().t,a=Object(u.useContext)(bn).dispatch,o=function(e,n,i){var o,l=null===t||void 0===t||null===(o=t.extension)||void 0===o?void 0:o.map((function(t){var a;return(null===(a=t.valueReference)||void 0===a?void 0:a.id)===i?{url:t.url,valueReference:Object(g.a)(Object(g.a)({},t.valueReference),{},Object(h.a)({},e,n))}:t}));l&&a(ye(t.linkId,r.extension,l))},l=null===(n=t.extension)||void 0===n?void 0:n.filter((function(e){return e.url===s.optionReference}));return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(yt.a,{onDragEnd:function(e){if(e.source&&e.destination&&e.draggableId){var n=e.source.index,i=e.destination.index;if(n!==i){var o=t.extension?Object(E.a)(t.extension):[],l=o.filter((function(e){return e.url!==s.optionReference})),c=function(e,n,t){var i=e.splice(t,1);return e.splice(n,0,i[0]),e}(o.filter((function(e){return e.url===s.optionReference})),i,n);a(ye(t.linkId,r.extension,[].concat(Object(E.a)(l),Object(E.a)(c))))}}},children:Object(un.jsx)(yt.c,{droppableId:"droppable-".concat(t.linkId,"-option-reference"),children:function(e,n){return Object(un.jsxs)("div",{ref:e.innerRef,style:(s=n.isDraggingOver,{background:s?"lightblue":"transparent"}),children:[null===l||void 0===l?void 0:l.map((function(e,n){var s,c;return Object(un.jsx)(yt.b,{draggableId:(null===(c=e.valueReference)||void 0===c?void 0:c.id)||"1",index:n,children:function(n,s){var c,d,p,f,v;return Object(u.createElement)("div",Object(g.a)(Object(g.a)({ref:n.innerRef},n.draggableProps),{},{style:(f=s.isDragging,v=n.draggableProps.style,Object(g.a)({userSelect:"none",background:f?"lightgreen":"transparent",cursor:"pointer"},v)),key:null===(c=e.valueReference)||void 0===c?void 0:c.id}),Object(un.jsxs)("div",{className:"option-reference align-everything",children:[Object(un.jsx)("span",Object(g.a)(Object(g.a)({},n.dragHandleProps),{},{className:"reorder-icon","aria-label":"reorder element"})),Object(un.jsx)(Rt,{name:"beskrivelse",placeholder:i("Select recipient.."),defaultValue:null===(d=e.valueReference)||void 0===d?void 0:d.display,onBlur:function(n){var t;return o("display",n.target.value,null===(t=e.valueReference)||void 0===t?void 0:t.id)}}),Object(un.jsx)(Rt,{name:"verdi",placeholder:i("Select endpoint.."),defaultValue:null===(p=e.valueReference)||void 0===p?void 0:p.reference,onBlur:function(n){var t;return o("reference",n.target.value,null===(t=e.valueReference)||void 0===t?void 0:t.id)}}),l.length>2&&Object(un.jsx)("button",{type:"button",name:"Fjern element",className:"align-everything",onClick:function(){var n;return function(e){if(e){var n,i=(null===(n=t.extension)||void 0===n?void 0:n.filter((function(n){var t;return(null===(t=n.valueReference)||void 0===t?void 0:t.id)!==e})))||[];a(ye(t.linkId,r.extension,Object(E.a)(i)))}}(null===(n=e.valueReference)||void 0===n?void 0:n.id)}})]}))}},null===(s=e.valueReference)||void 0===s?void 0:s.id)})),e.placeholder]});var s}})}),Object(un.jsx)("div",{className:"center-text new-option-reference",children:Object(un.jsx)(Tn,{type:"button",variant:"secondary",onClick:function(){return function(){var e=[{url:s.optionReference,valueReference:{reference:"",display:"",id:x()}}];t.linkId&&a(ye(t.linkId,r.extension,[].concat(Object(E.a)(t.extension||[]),e)))}()},title:i("+ Add recipient")})})]})}),qc=function(e){var n=Object(Rn.a)().t,t=Object(u.useContext)(bn).dispatch,i=function(){var n,t;return null===(n=e.item.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.questionnaireUnit})))||void 0===t?void 0:t.valueCoding},a=function(n,a){var r,o=i();r=o?Object(g.a)(Object(g.a)({},o),{},Object(h.a)({},n,a.target.value)):Object(h.a)({},n,a.target.value);var l={url:s.questionnaireUnit,valueCoding:r};U(e.item,l,t)},r=function(){var e=i();if(!e)return We;var n=e.code,t=void 0===n?"":n,a=e.display,r=void 0===a?"":a,o=e.system,l=void 0===o?"":o;return ze.some((function(e){return e.code!==He&&e.code===t&&e.display===r&&e.system===l}))?t:He}(),o=r===He,l=i(),c=l||{code:"",display:"",system:""},d=c.code,p=c.display,f=c.system;return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(It,{label:n("Select unit"),children:Object(un.jsx)(Et,{options:ze,onChange:function(n){var i=n.target.value;if(i===We)F(e.item,s.questionnaireUnit,t);else{var a=i===He?{code:"",display:"",system:Be()}:ze.find((function(e){return e.code===i})),r={url:s.questionnaireUnit,valueCoding:a};U(e.item,r,t)}},value:r})}),o&&Object(un.jsxs)(un.Fragment,{children:[Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)(It,{label:n("Display"),children:Object(un.jsx)(Rt,{defaultValue:p,onBlur:function(e){return a("display",e)}})}),Object(un.jsx)(It,{label:n("Code"),children:Object(un.jsx)(Rt,{defaultValue:d,onBlur:function(e){return a("code",e)}})})]}),Object(un.jsx)("div",{className:"horizontal full",children:Object(un.jsx)(It,{label:n("System"),children:Object(un.jsx)(Nt,{value:f,onBlur:function(e){return a("system",e)}})})})]})]})},_c="dayTime",Vc=function(e){var n=e.item,t=e.dispatch,a=Object(Rn.a)().t;return Object(un.jsx)(It,{label:a("Date type"),children:Object(un.jsx)(Ks,{onChange:function(e){e===_c?(F(n,s.itemControl,t),t(ye(n.linkId,r.type,i.dateTime))):(t(ye(n.linkId,r.type,i.date)),e?function(e){var i=R(e);U(n,i,t)}(e):F(n,s.itemControl,t))},checked:function(){if(n.type===i.dateTime)return _c;var e,t,a,r,o=null===n||void 0===n||null===(e=n.extension)||void 0===e?void 0:e.find((function(e){return e.url===s.itemControl}));return(null===o||void 0===o||null===(t=o.valueCodeableConcept)||void 0===t||null===(a=t.coding)||void 0===a||null===(r=a.find((function(e){return!!e.code})))||void 0===r?void 0:r.code)||""}(),options:[{code:_c,display:a("Time, day, month and year")},{code:"",display:a("Day, month and year")},{code:y.yearMonth,display:a("Month and year")},{code:y.year,display:a("Year")}],name:"date-type-radio"})})},Mc=function(e){var n,a,o=Object(Rn.a)().t,l=d.a.useState(!!e.item._text),c=Object(b.a)(l,2),u=c[0],p=c[1],f=e.item.code?"(".concat(e.item.code.length,")"):"(0)",v=t(717),m=function(n,t){e.dispatch(ye(e.item.linkId,n,t))},O=function(){var n,t,i,a="";u&&(a=(null===(n=e.item._text)||void 0===n||null===(t=n.extension)||void 0===t||null===(i=t.find((function(e){return e.url===s.markdown})))||void 0===i?void 0:i.valueMarkdown)||"");return a||e.item.text||""},h=function(e){var n=G(e);m(r._text,n),m(r.text,function(e){var n=v(e);return(n=(n=n.replaceAll("\\*","*")).replaceAll("\\","")).replaceAll(/([ \n])+/g," ")}(e))},E=e.item.enableWhen&&e.item.enableWhen.length>0?"(".concat(null===(n=e.item.enableWhen)||void 0===n?void 0:n.length,")"):"";return Object(un.jsxs)("div",{className:"question",id:e.item.linkId,children:[Object(un.jsxs)("div",{className:"question-form",children:[Object(un.jsx)("h2",{className:"question-type-header",children:o((a=e.item,C(a)?"Recipient component":cn(a)?"Recipient list":q(a)||w(a)||a.type===i.display?"Information text":a.type===i.string||a.type===i.text?"Text":a.type===i.group?"Group":a.type===i.date||a.type===i.dateTime?"Date":a.type===i.time?"Time":a.type===i.attachment?"Attachment":a.type===i.boolean?"Confirmation":a.type===i.choice||a.type===i.openChoice?"Choice":a.type===i.decimal||a.type===i.integer||a.type===i.quantity?"Number":""))}),Object(un.jsxs)("div",{className:"horizontal",children:[Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{label:o("Text formatting"),value:u,onChange:function(){var n=!u;p(n),n?h(e.item.text||""):m(r._text,void 0)}})}),Fn(e.item)&&Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{label:o("Mandatory"),value:e.item.required||!1,onChange:function(){return m(r.required,!e.item.required)}})})]}),Object(un.jsx)(It,{label:o("Text"),children:u?Object(un.jsx)(ti,{data:O(),onBlur:h}):Object(un.jsx)("textarea",{defaultValue:O(),onBlur:function(e){m(r.text,e.target.value)}})}),Un(e.item)&&Object(un.jsx)(It,{label:o("Sublabel"),isOptional:!0,children:Object(un.jsx)(ti,{data:function(){var n,t;return(null===(n=e.item.extension)||void 0===n||null===(t=n.find((function(e){return e.url===s.sublabel})))||void 0===t?void 0:t.valueMarkdown)||""}(),onBlur:function(n){if(n){var t={url:s.sublabel,valueMarkdown:n};U(e.item,t,e.dispatch)}else F(e.item,s.sublabel,e.dispatch)}})}),C(e.item)?Object(un.jsx)("div",{children:o("Recipient component is configured in Helsenorge admin")}):q(e.item)||w(e.item)||e.item.type===i.display?Object(un.jsx)(xc,{item:e.item,parentArray:e.parentArray}):cn(e.item)?Object(un.jsx)(Pc,{item:e.item}):e.item.type===i.date||e.item.type===i.dateTime?Object(un.jsx)(Vc,{item:e.item,dispatch:e.dispatch}):e.item.type===i.choice||e.item.type===i.openChoice?Object(un.jsx)(ec,{item:e.item}):e.item.type===i.quantity?Object(un.jsx)(qc,{item:e.item}):e.item.type===i.string||e.item.type===i.text?Object(un.jsx)(It,{children:Object(un.jsx)(Wt,{label:o("Multi-line textfield"),value:e.item.type===i.text,onChange:function(){e.item.type===i.text?m(r.type,i.string):m(r.type,i.text)}})}):Object(un.jsx)(un.Fragment,{})]}),Object(un.jsxs)("div",{className:"question-addons",children:[Mn(e.item)&&Object(un.jsx)(Bt,{title:o("Add validation"),children:Object(un.jsx)(Lc,{item:e.item})}),Object(un.jsx)(Bt,{title:"".concat(o("Enable when")," ").concat(E),children:Object(un.jsx)(hc,{getItem:e.getItem,conditionalArray:e.conditionalArray,linkId:e.item.linkId,enableWhen:e.item.enableWhen||[],containedResources:e.containedResources,itemValidationErrors:e.itemValidationErrors})}),Object(un.jsx)(Bt,{title:"".concat(o("Code")," ").concat(f),children:Object(un.jsx)(wc,{linkId:e.item.linkId,itemValidationErrors:e.itemValidationErrors})}),Object(un.jsx)(Bt,{title:o("Advanced settings"),children:Object(un.jsx)(Ys,{item:e.item,parentArray:e.parentArray})})]})]})},Uc=function(e,n,t){var a=function(n,t,a){var r=e.qItems[n];if(L(r)||w(r)||P(r)||q(r)||r.type===i.display)return[];var o="".concat("\xa0".repeat(4*t.length)).concat(r.text||"Ikke definert tittel"),l=o.length>120?"".concat(null===o||void 0===o?void 0:o.substr(0,120),"..."):o;return[{code:n,display:"".concat([].concat(Object(E.a)(t),[a+1]).join(".")," ").concat(l)}]},r=function e(n,t){return n.items.reduce((function(n,i,r){return[].concat(Object(E.a)(n),Object(E.a)(a(i.linkId,t,r)),Object(E.a)(e(i,[].concat(Object(E.a)(t),[r+1]))))}),[])};return function e(n,t,i){if(0===t.length)return[];var o=t[0],l=n.findIndex((function(e){return e.linkId===o})),s=t.length>1?l+1:l;return n.slice(0,s).reduce((function(e,n,t){var l=n.linkId===o?[]:r(n,[].concat(Object(E.a)(i),[t+1]));return[].concat(Object(E.a)(e),Object(E.a)(a(n.linkId,i,t)),Object(E.a)(l))}),[]).concat(e(n[l].items,t.slice(1),[].concat(Object(E.a)(i),[l+1])))}(e.qOrder,[].concat(Object(E.a)(n),[t]),[])},Fc=["INPUT","TEXTAREA","SELECT"],Bc=["ck-content"],Gc=function(e,n,t){var i=function(t){var i=t.key,a=t.target,r=a.tagName,o=a.classList,l=Bc.some((function(e){return o&&o.contains(e)})),s=Fc.includes(r);l||s||i!==e||n()};Object(u.useEffect)((function(){return t||window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}))},Wc=(t(718),function(e){var n=Object(Rn.a)().t,t=Object(u.useRef)(null);jt(t,e.hide,!e.visible);var i=e.visible?"open":"",a="drawer ".concat(e.position,"-drawer ").concat(i);return Object(un.jsxs)(un.Fragment,{children:[e.visible&&Object(un.jsx)("div",{className:"overlay"}),Object(un.jsxs)("div",{className:a,ref:t,children:[Object(un.jsxs)("div",{className:"drawer-header",children:[Object(un.jsx)(An,{type:"x",title:n("Close (Esc)"),onClick:e.hide}),e.title&&Object(un.jsx)("h1",{children:e.title})]}),e.children]})]})}),Hc=Object(u.forwardRef)(Wc),zc=function(e){var n,t,i,a,r=e.validationErrors,o=Object(Rn.a)().t,l=Object(u.useContext)(bn),s=l.state,c=l.dispatch,d=function(){var e=Object(u.useContext)(bn),n=e.state,t=e.dispatch,i=n.qCurrentItem,a=n.qItems,r=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t?a[t[t.length-1]]:void 0;return n.filter((function(e){return!A(a[e.linkId],r)})).forEach((function(n){var a={linkId:n.linkId,path:Object(E.a)(t)};i.push(a),n.items&&e(n.items,[].concat(Object(E.a)(t),[n.linkId]),i)})),i}(n.qOrder);function o(){return r.findIndex((function(e){return e.linkId===(null===i||void 0===i?void 0:i.linkId)}))}return{next:function(){var e=o();if(e<r.length-1){var n=r[e+1];t(he(n.linkId,n.path))}},previous:function(){var e=o();if(e>0){var n=r[e-1];t(he(n.linkId,n.path))}},hasNext:function(){return o()<r.length-1},hasPrevious:function(){return o()>0}}}(),p=d.previous,f=d.next,v=d.hasNext,m=d.hasPrevious,O=function(){setTimeout((function(){c(he())}),100)},b=!(null===(n=s.qCurrentItem)||void 0===n?void 0:n.linkId),h=Object(u.useRef)(null);jt(h,O,b),Gc("ArrowLeft",p,b),Gc("ArrowRight",f,b),Gc("Escape",O,b);var g,j,x=(null===(t=s.qCurrentItem)||void 0===t?void 0:t.linkId)?s.qItems[null===(i=s.qCurrentItem)||void 0===i?void 0:i.linkId]:void 0,y=(null===(a=s.qCurrentItem)||void 0===a?void 0:a.parentArray)||[],I=x?function(e,n,t,i){if(!n||0===n.length)return Ft(e,t,i);var a=t,r="",o="";return n.forEach((function(e){var n;r=Ft(e,a,i,r,o),a=(null===(n=a.find((function(n){return n.linkId===e})))||void 0===n?void 0:n.items)||[],o=e})),Ft(e,a,i,r,o)}(x.linkId,y,s.qOrder,s.qItems):void 0,N=I?"Question ".concat(I):"",R=r.filter((function(e){return e.linkId===(null===x||void 0===x?void 0:x.linkId)}));return Object(un.jsxs)(Hc,{visible:!!x,position:"right",hide:O,title:N,children:[Object(un.jsxs)("div",{className:"item-button-row",children:[Object(un.jsx)("div",{className:"item-button-wrapper",children:m()&&Object(un.jsx)(An,{type:"back",title:o("Previous (left arrow)"),onClick:p,color:"black"})}),Object(un.jsx)("div",{className:"item-button-wrapper",children:v()&&Object(un.jsx)(An,{type:"forward",title:o("Next (right arrow)"),onClick:f,color:"black"})}),x&&Object(un.jsx)("div",{className:"pull-right",children:Pn(o,x,y,!0,c)})]}),R.length>0&&Object(un.jsxs)("div",{className:"item-validation-error-summary",children:[Object(un.jsx)("div",{children:o("Validation errors:")}),Object(un.jsx)("ul",{children:R.map((function(e,n){return Object(un.jsx)("li",{children:e.errorReadableText},n)}))})]}),x&&Object(un.jsx)(Mc,{item:x,formExtensions:s.qMetadata.extension,parentArray:y,conditionalArray:(g=y,j=x.linkId,Uc(s,g,j)),getItem:function(e){return s.qItems[e]},containedResources:s.qContained,dispatch:c,itemValidationErrors:R},"".concat(x.linkId))]})},Kc=(t(719),t(720),function(e){var n,t=e.option,i=e.translation,a=e.onBlur,r=Object(u.useState)(i),o=Object(b.a)(r,2),l=o[0],s=o[1];return Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsx)(Rt,{value:null===(n=t.valueCoding)||void 0===n?void 0:n.display,disabled:!0})}),Object(un.jsx)(It,{children:Object(un.jsx)(Rt,{value:l,onChange:function(e){s(e.target.value)},onBlur:function(e){return a(e.target.value)}})})]})}),Yc=function(e){var n=e.targetLanguage,t=e.item,a=e.itemHeading,r=Object(Rn.a)().t,o=Object(u.useContext)(bn),l=o.state,c=o.dispatch,d=l.qAdditionalLanguages||{},p=d&&d[n].items[t.linkId]||{},f=Object(u.useState)(p.text||""),v=Object(b.a)(f,2),m=v[0],O=v[1],h=!!t._text;function E(e,i){c(Ee(n,t.linkId,i,e))}function g(e,i){i&&c(function(e,n,t,i){return{type:Z,languageCode:e,linkId:n,text:t,optionCode:i}}(n,t.linkId,e,i))}function j(e,i,a,r){var o=we(n,d,t.linkId,a);return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("div",{className:"translation-group-header",children:e}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:r?Object(un.jsx)(ti,{data:i,disabled:!0}):Object(un.jsx)("textarea",{defaultValue:i,disabled:!0})}),Object(un.jsx)(It,{children:r?Object(un.jsx)(ti,{data:o,onBlur:function(e){return E(e,a)}}):Object(un.jsx)("textarea",{defaultValue:o,onBlur:function(e){return E(e.target.value,a)}})})]})]})}return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("div",{className:"translation-group-header",children:a}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:function(){if(h){var e,n,i,a=null===(e=t._text)||void 0===e||null===(n=e.extension)||void 0===n||null===(i=n.find((function(e){return e.url===s.markdown})))||void 0===i?void 0:i.valueMarkdown;return Object(un.jsx)(ti,{data:a||t.text||"",disabled:!0})}return Object(un.jsx)("textarea",{defaultValue:t.text,disabled:!0})}()}),Object(un.jsx)(It,{children:h?Object(un.jsx)(ti,{data:m,onBlur:function(e){return E(e,M.text)}}):Object(un.jsx)("textarea",{value:m,onChange:function(e){return O(e.target.value)},onBlur:function(e){return E(e.target.value,M.text)}})})]}),an(t)&&j(r("Sublabel"),an(t),M.sublabel,!0),rn(t)&&j(r("Repeat button text"),rn(t),M.repeatsText,!1),on(t)&&j(r("Error message for validation error"),on(t),M.validationText,!1),ln(t)&&j(r("Placeholder text"),ln(t),M.entryFormatText,!1),tn(t)&&j(r("Prefix"),tn(t),M.prefix,!1),(t.type===i.text||t.type===i.string)&&nn(t)&&j(r("Initial value"),nn(t),M.initial,!1),t.answerOption&&Object(un.jsx)(un.Fragment,{children:t.answerOption.map((function(e){return function(e){var i;if(null===(i=e.valueCoding)||void 0===i?void 0:i.code){var a=p.answerOptions&&p.answerOptions[e.valueCoding.code]||"";return Object(un.jsx)(Kc,{option:e,translation:a,onBlur:function(n){var t;return g(n,null===(t=e.valueCoding)||void 0===t?void 0:t.code)}},"".concat(n,"-").concat(t.linkId,"-").concat(e.valueCoding.code))}return null}(e)}))})]})},Qc=function(e){var n=e.dispatch,t=e.metadataProperty,i=e.state,a=e.targetLanguage,r=Object(Rn.a)().t,o=t.propertyName,l=t.label,s=t.markdown,c=t.validate,d=i.qMetadata[o],p=i.qAdditionalLanguages&&i.qAdditionalLanguages[a]?i.qAdditionalLanguages[a].metaData:{},f=Object(u.useState)(p[o]),v=Object(b.a)(f,2),m=v[0],O=v[1],h=c?r(c(m,i,a)):"",E=function(e){h||n(function(e,n,t){return{type:$,languageCode:e,propertyName:n,translation:t}}(a,o,e))};return Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"translation-group-header",children:r(l)}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsxs)(un.Fragment,{children:[s&&Object(un.jsx)(ti,{data:d||"",disabled:!0}),!s&&Object(un.jsx)("textarea",{defaultValue:d,disabled:!0})]})}),Object(un.jsxs)(It,{children:[Object(un.jsx)(un.Fragment,{children:s?Object(un.jsx)(ti,{data:m,onBlur:function(e){E(e)},placeholder:r("Enter translation..")}):Object(un.jsx)("textarea",{defaultValue:m,onBlur:function(e){E(e.target.value)},onChange:function(e){O(e.target.value)},placeholder:r("Enter translation..")})}),h&&Object(un.jsx)("div",{className:"msg-error","aria-live":"polite",children:h})]})]})]},"".concat(a,"-").concat(o))},Xc=function(e){var n=e.state,t=e.targetLanguage,i=e.dispatch,a=Object(Rn.a)().t;return Object(un.jsxs)("div",{className:"translation-group",children:[Object(un.jsx)("div",{className:"translation-section-header",children:a("Questionnaire details")}),De.map((function(e){return Object(un.jsx)(Qc,{dispatch:i,metadataProperty:e,state:n,targetLanguage:t},e.propertyName)}))]})},Jc=function(e){var n=e.qContained,t=e.targetLanguage,i=e.translations,a=e.dispatch,r=Object(Rn.a)().t,o=i[t].contained,l=function(e){var n=En(e),i=e.id;return n&&i?Object(un.jsx)("div",{children:n.map((function(e){var n,r=e.code,l=e.display;if(!r)return Object(un.jsx)(un.Fragment,{});var s=null===(n=o[i])||void 0===n?void 0:n.concepts[r];return Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsx)("textarea",{defaultValue:l,disabled:!0})}),Object(un.jsx)(It,{children:Object(un.jsx)("textarea",{defaultValue:s,onBlur:function(e){var n,o,l,s;a((n=t,o=i,l=r,s=e.target.value,{type:ne,languageCode:n,valueSetId:o,conceptId:l,translation:s}))}})})]},"".concat(t,"-").concat(r))}))}):(console.error("ValueSet ".concat(e.title," doesn't contain concepts")),Object(un.jsx)(un.Fragment,{}))};return n?Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"translation-section-header",children:r("Predefined valuesets")}),n.map((function(e){return Object(un.jsxs)("div",{className:"translation-group",children:[Object(un.jsx)("div",{className:"translation-group-header",children:e.title}),l(e)]},"".concat(t,"-").concat(e.id))}))]}):null},Zc=function(e){var n=e.targetLanguage,t=e.translations,i=e.items,a=e.dispatch,r=Object(Rn.a)().t,o=Object.values(i).filter((function(e){return P(e)}));if(!o||o.length<1)return null;var l=t[n].sidebarItems,s=function(e,t){a(function(e,n,t){return{type:te,languageCode:e,linkId:n,value:t}}(n,e,t))};return Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"translation-section-header",children:r("Sidebar")}),o.map((function(e){if(!e.code||!e._text||!e._text.extension)return null;var t,i=e.code[0],a=i.code,r=i.display,o=e._text.extension[0].valueMarkdown;return Object(un.jsxs)("div",{className:"translation-group",children:[Object(un.jsxs)("div",{className:"translation-group-header",children:[r," (",a,")"]}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsx)(ti,{data:o||"",disabled:!0})}),Object(un.jsx)(It,{children:Object(un.jsx)(ti,{data:(t=e.linkId,l[t]&&l[t].markdown||""),onBlur:function(n){return s(e.linkId,n)}})})]})]},"".concat(n,"-").concat(e.linkId))}))]})},$c=function(e){var n=e.targetLanguage,t=e.translations,i=e.extensions,a=e.dispatch,r=Object(Rn.a)().t,o=t[n].settings,l=function(e,t){a(function(e,n,t){return{type:ee,languageCode:e,extension:n,translatedValue:t}}(n,e,t))};return Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"translation-section-header",children:r("Questionnaire settings")}),Object.values(Le).map((function(e){if(e){var t,a=(i||[]).find((function(n){return n.url===e.extension}));a&&(t=e.getValue(a));var s,c,u=(s=e.extension,o[s]);return u&&(c=e.getValue(u)),Object(un.jsxs)("div",{className:"translation-group",children:[Object(un.jsx)("div",{className:"translation-group-header",children:r(e.label)}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsx)("textarea",{defaultValue:t,disabled:!0})}),Object(un.jsx)(It,{children:Object(un.jsx)("textarea",{defaultValue:c,onBlur:function(n){var t=e.generate(n.target.value);l(e.extension,n.target.value?t:null)},placeholder:r("Enter translation..")})})]})]},"".concat(n,"-").concat(e))}}))]})},eu=function(e){var n,t=Object(Rn.a)().t,i=Object(u.useContext)(bn),a=i.state,r=i.dispatch,o=a.qItems,l=a.qOrder,c=a.qAdditionalLanguages,d=a.qMetadata,p=a.qContained,f=Object(u.useState)([]),v=Object(b.a)(f,2),m=v[0],O=v[1],h=Object(u.useState)(20),E=Object(b.a)(h,2),g=E[0],j=E[1],x=Object.values(o).filter((function(e){return function(e){var n;return!(null===(n=e.extension)||void 0===n?void 0:n.some((function(e){return e.url===s.hidden&&e.valueBoolean})))&&!P(e)}(e)})),y=vt(a),I=null===(n=a.qContained)||void 0===n?void 0:n.filter((function(e){return e.id&&(null===y||void 0===y?void 0:y.includes(e.id))&&e})),N=function(n){if(!c)return null;var t=o[n];return t?Object(un.jsx)(Yc,{targetLanguage:e.targetLanguage,item:t,itemHeading:"Expanded text"}):null},R=function(n){if(!c)return null;var i=_(o[n]),a=we(e.targetLanguage,c,n,M.text);return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("div",{className:"translation-group-header",children:t("Help text")}),Object(un.jsxs)("div",{className:"translation-row",children:[Object(un.jsx)(It,{children:Object(un.jsx)(ti,{data:i,disabled:!0})}),Object(un.jsx)(It,{children:Object(un.jsx)(ti,{data:a,onBlur:function(t){return r(Ee(e.targetLanguage,n,M.text,t))}})})]})]})};Object(u.useEffect)((function(){var e=function e(n,t,i){var a=1;n.filter((function(e){return!P(o[e.linkId])})).forEach((function(n){var r,l=n.items.find((function(e){return L(o[e.linkId])})),s=q(o[n.linkId])?null===(r=n.items[0])||void 0===r?void 0:r.linkId:void 0,c="".concat(t,".").concat(a),u={linkId:n.linkId,path:c};l&&(u.helpItemLinkId=l.linkId),s&&(u.inlineItemLinkId=s),L(o[n.linkId])||(i.push(u),a++),n.items&&!q(o[n.linkId])&&e(n.items,c,i)}))};!function(){var n=[];l.filter((function(e){return!A(o[e.linkId])})).forEach((function(t,i){var a,r="".concat(i+1),l={linkId:t.linkId,path:r},s=t.items.find((function(e){return L(o[e.linkId])}));s&&(l.helpItemLinkId=s.linkId);var c=q(o[t.linkId])?null===(a=t.items[0])||void 0===a?void 0:a.linkId:void 0;c&&(l.inlineItemLinkId=c),n.push(l),t.items&&!c&&e(t.items,r,n)})),O([].concat(n))}();var n={root:document.getElementById("translation-modal"),rootMargin:"63px 0px 0px 0px",threshold:[0,.5,1]},t=new IntersectionObserver((function(e){1===e[0].intersectionRatio&&j((function(e){return e+25}))}),n),i=document.getElementById("bottom-translation-modal");return i&&t.observe(i),function(){t.disconnect()}}),[o,l]);var T;return Object(un.jsx)("div",{className:"translation-modal",children:Object(un.jsxs)(Cn,{close:e.close,title:t("Translate questionnaire"),id:"translation-modal",bottomCloseText:t("Close"),children:[function(){var n,t;return Object(un.jsx)("div",{className:"sticky-header",children:d.language&&Object(un.jsxs)("div",{className:"horizontal equal",children:[Object(un.jsx)("div",{children:Object(un.jsx)("label",{children:null===(n=ke(d.language))||void 0===n?void 0:n.display})}),Object(un.jsx)("div",{children:Object(un.jsx)("label",{children:null===(t=ke(e.targetLanguage))||void 0===t?void 0:t.display})})]})})}(),Object(un.jsx)("div",{style:{position:"relative"},children:Object(un.jsx)(un.Fragment,{children:c&&Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(Xc,{state:a,targetLanguage:e.targetLanguage,dispatch:r}),Object(un.jsx)($c,{targetLanguage:e.targetLanguage,translations:c,extensions:d.extension,dispatch:r}),Object(un.jsx)(Zc,{targetLanguage:e.targetLanguage,translations:c,items:o,dispatch:r}),!!p&&(null===p||void 0===p?void 0:p.length)>0&&Object(un.jsx)(Jc,{qContained:I,targetLanguage:e.targetLanguage,translations:c,dispatch:r}),Object(un.jsxs)("div",{children:[Object(un.jsx)("div",{className:"translation-section-header",children:t("Elements")}),(T=m.filter((function(e,n){return n<=g})),x&&c?T.map((function(n){var i=x.find((function(e){return e.linkId===n.linkId}));return i?Object(un.jsx)("div",{children:Object(un.jsxs)("div",{className:"translation-item",children:[Object(un.jsx)(Yc,{item:i,targetLanguage:e.targetLanguage,itemHeading:"".concat(t("Element")," ").concat(n.path)}),n.helpItemLinkId&&R(n.helpItemLinkId),n.inlineItemLinkId&&N(n.inlineItemLinkId)]})},"".concat(e.targetLanguage,"-").concat(i.linkId)):null})):[])]}),Object(un.jsx)("div",{id:"bottom-translation-modal",style:{height:1,position:"absolute",bottom:500}})]})})})]})})},nu=function(){var e=Object(Rn.a)().t,n=Object(u.useContext)(bn),t=n.state,i=n.dispatch,a=t.qMetadata,r=Object(u.useState)(!1),o=Object(b.a)(r,2),l=o[0],s=o[1],c=Object(u.useState)(!1),d=Object(b.a)(c,2),p=d[0],f=d[1],v=function(e,n){i(ge(e,n))};return Object(un.jsxs)("div",{id:"metadata-editor",children:[Object(un.jsxs)(It,{label:e("Identifier"),children:[Object(un.jsx)(Rt,{placeholder:e("A unique identifier consisting only of letters, numbers, - and ."),defaultValue:a.id,onChange:function(e){s(!Te(e.target.value))},onBlur:function(e){Te(e.target.value)&&v(I.id,e.target.value)}}),l&&Object(un.jsx)("div",{className:"msg-error","aria-live":"polite",children:e("Id must be 1-64 characters and only letters a-z, numbers, - and .")})]}),Object(un.jsx)(It,{label:"".concat(e("Title")),children:Object(un.jsx)("input",{placeholder:e("A human friendly name for this survey"),value:t.qMetadata.title,onChange:function(e){v(I.title,e.target.value)}})}),Object(un.jsxs)(It,{label:e("Name"),children:[Object(un.jsx)(Rt,{placeholder:e("A computer friendly name for this survey"),defaultValue:a.name,onChange:function(e){f(!Ae(e.target.value,t.qMetadata.name))},onBlur:function(e){Ae(e.target.value,a.name)&&v(I.name,e.target.value)}}),p&&Object(un.jsx)("div",{className:"msg-error","aria-live":"polite",children:e("Technical name must start with a capital letter, 1-255 characters and can only contain numbers and characters a-z")})]}),Object(un.jsx)(It,{label:e("Description"),isOptional:!0,children:Object(un.jsx)("textarea",{placeholder:e("A description of your survey"),defaultValue:a.description||"",onBlur:function(e){return v(I.description,e.target.value)}})}),Object(un.jsx)(It,{label:e("Version"),children:Object(un.jsx)(Rt,{placeholder:e("Version number"),defaultValue:a.version,onBlur:function(e){v(I.version,e.target.value)}})}),Object(un.jsx)(It,{label:e("Date"),children:Object(un.jsx)(cc,{type:"date",selected:a.date?Object(ac.a)(a.date):void 0,disabled:!1,nowButton:!0,callback:function(e){v(I.date,Object(rc.a)(e))}})}),Object(un.jsx)(It,{label:e("Status"),children:Object(un.jsx)(Ks,{onChange:function(e){return v(I.status,e)},checked:a.status||"",options:Re,name:"status-radio"})}),Object(un.jsx)(It,{label:e("Publisher"),children:Object(un.jsx)(Rt,{defaultValue:a.publisher||"",onBlur:function(e){return v(I.publisher,e.target.value)}})}),Object(un.jsx)(It,{label:e("Contact (URL to contact address)"),isOptional:!0,children:Object(un.jsx)(Rt,{defaultValue:a.contact&&a.contact.length>0?a.contact[0].name:"",onBlur:function(e){return v(I.contact,[{name:e.target.value}])}})}),Object(un.jsx)(It,{label:e("URL"),isOptional:!0,children:Object(un.jsx)("input",{defaultValue:t.qMetadata.url||"",placeholder:e("Enter a URL.."),onBlur:function(e){return v(I.url,e.target.value||"")},pattern:"[Hh][Tt][Tt][Pp][Ss]?:\\/\\/(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]+-?)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:\\/[^\\s]*)?"})}),Object(un.jsx)(It,{label:e("Purpose"),isOptional:!0,children:Object(un.jsx)(ti,{data:a.purpose||"",onBlur:function(e){return v(I.purpose,e)}})}),Object(un.jsx)(It,{label:e("Copyright"),isOptional:!0,children:Object(un.jsx)(ti,{data:a.copyright||"",onBlur:function(e){return v(I.copyright,e)}})})]})},tu=function(){Object(Rn.a)().t;var e=Object(u.useContext)(bn),n=e.state,t=e.dispatch,i=(n.qMetadata,Object(u.useState)(!1)),a=Object(b.a)(i,2),r=a[0],o=a[1],l=Object(u.useState)(!1),s=Object(b.a)(l,2),c=s[0],d=s[1],p=Object(u.useState)([]),f=Object(b.a)(p,2),v=f[0],m=f[1],O=Object(u.useState)([]),h=Object(b.a)(O,2),E=h[0],g=h[1],j=Object(u.useState)(""),x=Object(b.a)(j,2),y=x[0],I=x[1],N=Object(u.useCallback)((function(){o(!r)}),[r]);return Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)(Vt,{showFormFiller:function(){return d(!c)},validationErrors:v,setValidationErrors:m,translationErrors:E,setTranslationErrors:g,toggleFormDetails:N}),Object(un.jsxs)("div",{className:"editor",children:[Object(un.jsx)(et,{dispatch:t,qOrder:n.qOrder,qItems:n.qItems,qCurrentItem:n.qCurrentItem,validationErrors:v}),c&&Object(un.jsx)(gt,{showFormFiller:function(){return d(!c)},language:n.qMetadata.language}),y&&Object(un.jsx)(eu,{close:function(){return I("")},targetLanguage:y})]}),Object(un.jsxs)("div",{className:"page-wrapper",children:[Object(un.jsx)("div",{className:"details-button"}),r&&Object(un.jsx)(Cn,{size:"large",title:"Survey Details",close:N,bottomCloseText:"Save",bottomButtonAlignment:"right-text",children:Object(un.jsx)(nu,{})}),Object(un.jsx)(zc,{validationErrors:v})]})]})},iu=(t(721),t.p+"static/media/cardinalkit-spaceman.92af592e.png"),au=function(){var e=Object(Rn.a)().t,n=Object(u.useContext)(bn).dispatch,t=Object(u.useState)(),i=Object(b.a)(t,2),a=i[0],r=i[1],o=Object(u.useState)(!1),l=Object(b.a)(o,2),s=l[0],c=l[1],d=Object(u.useState)(!1),p=Object(b.a)(d,2),f=p[0],v=p[1],h=Object(u.useRef)(null);Object(u.useEffect)((function(){E()}),[]);var E=function(){var e=Object(O.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t;if(null===(t=e.target)||void 0===t?void 0:t.result){var i=function(e){var n,t={};"Bundle"===e.resourceType&&e.entry?(n=e.entry[0].resource,t=Nn(e)):n=e;var i=function(e){var n;return{resourceType:(n=e).resourceType,language:n.language,id:n.id,name:n.name,title:n.title,description:n.description,version:n.version,status:n.status,publisher:n.publisher,meta:n.meta,useContext:n.useContext,contact:n.contact,subjectType:n.subjectType,extension:n.extension,purpose:n.purpose,copyright:n.copyright,date:n.date,url:n.url}}(n),a=n.contained||[],r=gn(n.item),o=r.qItems,l=r.qOrder;return qe.forEach((function(e){a.find((function(n){return n.id===e.id}))||a.push(e)})),{isDirty:!1,qItems:o,qOrder:l,qMetadata:i,qContained:a,qAdditionalLanguages:t}}(JSON.parse(e.target.result));n(Ie(i)),c(!1),v(!0),h.current&&(h.current.value="")}},j=!!(null===a||void 0===a?void 0:a.qItems)&&Object.keys(a.qItems).length>0,x=function(){n(Ie()),r(void 0)};return Object(un.jsxs)(un.Fragment,{children:[j&&Object(un.jsx)(Cn,{title:e("Restore questionnaire..."),close:x,size:"small",children:Object(un.jsxs)("div",{children:[Object(un.jsx)("p",{children:e("It looks like you were working on a survey:")}),Object(un.jsxs)("div",{className:"key-value",children:[Object(un.jsx)("div",{children:e("Title")}),Object(un.jsx)("div",{children:null===a||void 0===a?void 0:a.qMetadata.title})]}),Object(un.jsxs)("div",{className:"key-value",children:[Object(un.jsx)("div",{children:e("Technical name")}),Object(un.jsx)("div",{children:null===a||void 0===a?void 0:a.qMetadata.name})]}),Object(un.jsxs)("div",{className:"key-value",children:[Object(un.jsx)("div",{children:e("Version")}),Object(un.jsx)("div",{children:null===a||void 0===a?void 0:a.qMetadata.version})]}),Object(un.jsx)("p",{children:e("Do you want to continue working on it?")}),Object(un.jsx)("div",{className:"modal-btn-bottom",children:Object(un.jsxs)("div",{className:"center-text",children:[Object(un.jsx)(Tn,{title:e("Yes"),type:"button",variant:"primary",onClick:function(){n(Ie(a)),r(void 0),v(!0)}})," ",Object(un.jsx)(Tn,{title:e("No"),type:"button",variant:"secondary",onClick:x})]})})]})}),s&&Object(un.jsxs)(Cn,{children:[Object(un.jsx)("div",{className:"align-everything",children:Object(un.jsx)(Sn,{})}),Object(un.jsx)("p",{className:"center-text",children:e("Loading survey...")})]}),f?Object(un.jsx)(tu,{}):Object(un.jsxs)(un.Fragment,{children:[Object(un.jsx)("header",{children:Object(un.jsx)("h1",{className:"form-title-frontpage",children:"CardinalKit Survey Builder"})}),Object(un.jsxs)("div",{className:"frontpage",children:[Object(un.jsx)("img",{src:iu,alt:"CardinalKit Spaceman",width:"200"}),Object(un.jsx)("h2",{children:"Easily build an HL7\xae FHIR\xae survey for your CardinalKit iOS & Android applications!"}),Object(un.jsx)("div",{className:"frontpage__infotext",children:e("You can start a new survey, or upload and continue to work on an existing one.")}),Object(un.jsx)("input",{type:"file",ref:h,onChange:function(e){c(!0);var n=new FileReader;n.onload=g,e.target.files&&e.target.files[0]&&n.readAsText(e.target.files[0])},accept:"application/JSON",style:{display:"none"}}),Object(un.jsx)(Tn,{onClick:function(){v(!0)},title:e("Create New Survey"),variant:"primary"}),Object(un.jsx)("br",{}),Object(un.jsx)("br",{}),Object(un.jsx)(Tn,{onClick:function(){var e;null===(e=h.current)||void 0===e||e.click()},title:e("Upload Existing Survey"),variant:"secondary"})]})]})]})};function ru(){return Object(un.jsx)(f.c,{children:Object(un.jsx)(f.a,{path:"/builder",exact:!0,children:Object(un.jsx)(hn,{children:Object(un.jsx)(au,{})})})})}var ou=function(){return Object(un.jsx)(p.a,{children:Object(un.jsx)(ru,{})})},lu=t(32),su=t.n(lu),cu=Object(u.createContext)(void 0),uu=function(e){var n=e.children,t=Object(u.useState)("en_US"),i=Object(b.a)(t,2),a=i[0],r=i[1];return Object(un.jsx)(cu.Provider,{value:{locale:a,setLocale:r},children:n})},du=t(109),pu=t(64),fu={"nb-NO":{translation:t(159)},"fr-FR":{translation:t(160)}};du.a.use(pu.e).init({resources:fu,lng:localStorage.getItem("editor_language")||"en-US",nsSeparator:!1,keySeparator:!1,interpolation:{escapeValue:!1}});du.a;var vu=document.getElementById("root");su.a.render(Object(un.jsx)(d.a.StrictMode,{children:Object(un.jsx)(uu,{children:Object(un.jsx)(ou,{})})}),vu),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[725,1,2]]]);
//# sourceMappingURL=main.2d2497cf.chunk.js.map